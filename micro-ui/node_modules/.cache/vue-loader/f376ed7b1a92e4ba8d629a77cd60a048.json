{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\baxj\\baxjList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\baxj\\baxjList.vue","mtime":1559217814824},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {findBaxjPage} from \"@/api/portal/archive/ylcs/csba\";\nimport {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\nexport default {\n    name: 'baxj',\n    props:[\"csbaForm\"],\n    data(){\n        return {\n            compId:'',\n            form:{\n            },\n            tableLoading: false,\n            page: {\n                total: 0, // 总页数\n                currentPage: 1, // 当前页数\n                pageSize: 10 // 每页显示多少条\n            },\n            tableData: [],\n            option:{\n                dialogWidth: '80%',\n                dialogHeight: '100%',\n                page:false,\n                align:'center',\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                editBtn:false,\n                delBtn:false,\n                addBtn:false,\n                viewBtn:true,\n                menuWidth:'100',\n                column:[\n                    { label:\"巡检单位\", prop:\"compName\",hide:true},\n                    { label:\"场所编号\", prop:\"csbaBh\",hide:true},\n                    { label:\"业务类型\", prop:\"ywLx\",hide:true,type:'select',\n                      dicUrl: '/portal/dict/getDict/业务类型/yl',\n                      dicMethod: 'get',\n                      dicQuery: {},\n                    },\n                    { label:\"巡检人\", prop:\"baxjXjr\",search:true},\n                    { label:\"巡检数\",prop: 'baxjXjs',},\n                    { label:\"漏检数\", prop:\"baxjLjs\",},\n                    { label:\"巡检开始时间\", prop:\"baxjKssj\",labelWidth:120,overHidden:true,},\n                    { label:\"巡检结束时间\", prop:\"baxjJssj\",labelWidth:120,overHidden:true,},\n                    { label:\"巡检线路\", prop:\"xjlxName\",overHidden:true,span:24},\n                    { label:\"备注\", prop:\"baxjBz\",overHidden:true,span:24},\n                ]\n            }\n        }\n    },\n    created(){\n        this.compId = this.csbaForm.compId\n    },\n    computed: {\n    },\n    watch: {\n        csbaForm: {\n            //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n            handler() {\n                this.compId = this.csbaForm.compId\n                this.getList(this.page,{});\n            },\n            deep: true\n        },\n    },\n    methods:{\n        getList(page, params) {\n            this.tableLoading = true\n            findBaxjPage(Object.assign({\n                current: page.currentPage,\n                size: page.pageSize,\n                compId:this.compId\n            }, params)).then(response => {\n                this.tableData = response.data.data.records\n                this.page.total = response.data.data.total\n                this.tableLoading = false\n            })\n        },\n        handleFilter(param) {\n            this.page.page = 1;\n            this.getList(this.page, param);\n        }\n\n    }\n}\n",{"version":3,"sources":["baxjList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"baxjList.vue","sourceRoot":"src/views/portal/archive/ylcs/baxj","sourcesContent":["<template>\n <div class=\"execution\">\n   <basic-container>\n    <avue-crud :option=\"option\"\n               :data=\"tableData\"\n               v-model=\"form\"\n               ref=\"crud\"\n               :page=\"page\"\n               @on-load=\"getList\"\n               @search-change=\"handleFilter\"\n               @refresh-change=\"handleFilter\"\n               :table-loading=\"tableLoading\">\n    </avue-crud>\n   </basic-container>\n\n    </div>\n</template>\n\n\n<script>\n    import {findBaxjPage} from \"@/api/portal/archive/ylcs/csba\";\n    import {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\n    export default {\n        name: 'baxj',\n        props:[\"csbaForm\"],\n        data(){\n            return {\n                compId:'',\n                form:{\n                },\n                tableLoading: false,\n                page: {\n                    total: 0, // 总页数\n                    currentPage: 1, // 当前页数\n                    pageSize: 10 // 每页显示多少条\n                },\n                tableData: [],\n                option:{\n                    dialogWidth: '80%',\n                    dialogHeight: '100%',\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:true,\n                    menuWidth:'100',\n                    column:[\n                        { label:\"巡检单位\", prop:\"compName\",hide:true},\n                        { label:\"场所编号\", prop:\"csbaBh\",hide:true},\n                        { label:\"业务类型\", prop:\"ywLx\",hide:true,type:'select',\n                          dicUrl: '/portal/dict/getDict/业务类型/yl',\n                          dicMethod: 'get',\n                          dicQuery: {},\n                        },\n                        { label:\"巡检人\", prop:\"baxjXjr\",search:true},\n                        { label:\"巡检数\",prop: 'baxjXjs',},\n                        { label:\"漏检数\", prop:\"baxjLjs\",},\n                        { label:\"巡检开始时间\", prop:\"baxjKssj\",labelWidth:120,overHidden:true,},\n                        { label:\"巡检结束时间\", prop:\"baxjJssj\",labelWidth:120,overHidden:true,},\n                        { label:\"巡检线路\", prop:\"xjlxName\",overHidden:true,span:24},\n                        { label:\"备注\", prop:\"baxjBz\",overHidden:true,span:24},\n                    ]\n                }\n            }\n        },\n        created(){\n            this.compId = this.csbaForm.compId\n        },\n        computed: {\n        },\n        watch: {\n            csbaForm: {\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n                handler() {\n                    this.compId = this.csbaForm.compId\n                    this.getList(this.page,{});\n                },\n                deep: true\n            },\n        },\n        methods:{\n            getList(page, params) {\n                this.tableLoading = true\n                findBaxjPage(Object.assign({\n                    current: page.currentPage,\n                    size: page.pageSize,\n                    compId:this.compId\n                }, params)).then(response => {\n                    this.tableData = response.data.data.records\n                    this.page.total = response.data.data.total\n                    this.tableLoading = false\n                })\n            },\n            handleFilter(param) {\n                this.page.page = 1;\n                this.getList(this.page, param);\n            }\n\n        }\n    }\n</script>"]}]}