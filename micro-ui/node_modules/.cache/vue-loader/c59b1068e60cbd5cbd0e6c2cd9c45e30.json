{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\mechanical\\jxyxt.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\mechanical\\jxyxt.vue","mtime":1559723440468},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {findListPage} from \"@/api/portal/archive/common/unitQuery\";\nimport fileInfo from './fileInfo/index.vue';\nexport default {\n    components: {\n        fileInfo,\n    },\n    props:[\"searchForm\"],\n    name:\"jxyxt\",\n    data(){\n        return {\n            paramForm: {\n                dwmc:undefined,\n                zagldwbm:undefined,\n                menuId:undefined,\n                dwbh:undefined\n            },\n            form:{ },\n            showDetail: false,\n            applyToBody: true,\n            detailTitle: '',\n            viewFlag: false,\n            tableLoading: false,\n            page: {\n                total: 0, // 总页数\n                currentPage: 1, // 当前页数\n                pageSize: 10, // 每页显示多少条,\n                ascs: \"\",\n                descs: \"\"\n            },\n            tableData: [],\n            option: {\n                dialogWidth: '100%',\n                dialogHeight: '100%',\n                dialogFullscreen: true,\n                page:false,\n                align:'center',\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                editBtn:false,\n                delBtn:false,\n                addBtn:false,\n                viewBtn:false,\n                menuWidth:'100',\n                card:true,\n                column:[\n                    {\n                        label: \"单位编号\",\n                        prop: \"zagldwbm\",\n                        hide:true,\n                        span:6\n                    },\n                    {\n                        label: \"单位名称\",\n                        prop: \"dwmc\",\n                        search:true,\n                        searchDefault:'',\n                        span:6,\n\n                    },\n                    {\n                        label:\"经营地址\",\n                        prop:\"单位地址地址编码\",\n                        hide:true,\n                        span:6\n                    },\n                    {\n                        label:\"联系电话\",\n                        prop:\"lxdh\",\n                        hide:true,\n                        viewDisplay:true,\n                        span:6\n                    },\n                    {\n                        label:\"法定代表人\",\n                        prop:\"fddbrxm\",\n                        hide:true,\n                        viewDisplay:true,\n                        span:6\n                    },\n                    {\n                        label:\"行业类别\",\n                        prop:\"dwlbdm\",\n                        search:true,\n                        type:'select',\n                        viewDisplay:true,\n                        dicUrl: '/portal/dict/getDict/qylb/jx',\n                        dicMethod: 'get',\n                        dicQuery: {},\n                        span:6\n                    },\n                    {\n                        label:\"经营状态\",\n                        prop:\"qyztdm\",\n                        type:'select',\n                        search:true,\n                        viewDisplay:true,\n                        dicUrl: '/portal/dict/getDict/qyzt/jx',\n                        dicMethod: 'get',\n                        dicQuery: {},\n                        span:6\n                    },\n                    {\n                        label:\"单位性质\",\n                        prop:\"jjlxdm\",\n                        type:'select',\n                        dicUrl: '/portal/dict/getDict//jjlx/jx',\n                        dicMethod: 'get',\n                        dicQuery: {},\n                        span:6\n                    },\n                    {\n                        label:\"责任民警警号\",\n                        prop:\"zrmjjh\",\n                        hide:true,\n                        span:6\n                    },\n                    {\n                        label:\"责任民警姓名\",\n                        prop:\"zrmjxm\",\n                        hide:true,\n                        span:6\n                    },\n                    {\n                        label:\"录入情况\",\n                        prop:\"lrqk\",\n                        hide:true,\n                        span:6\n                    },\n                    {\n                        label:\"辖区派出所\",\n                        prop:\"sjgsdwmc\",\n                        type:'select',\n                        span:6,\n                    },\n                    {\n                        label:\"行政区划\",\n                        prop:\"dwdzssxqdm\",\n                        type:'tree',\n                        search: true,\n                        searchFilterable: true,\n                        dicUrl: '/portal/area/areaData',\n                        dicMethod: 'get',\n                        expandLevel: 1,\n                        dicQuery: {},\n                        props: {\n                            label: \"name\",\n                            value: 'code'\n                        },\n                        span:6,\n                    },\n                    {\n                        label: \"总积分\", prop: \"pointScore\",\n\n                    },\n                    {\n                        label: \"积分等级\", prop: \"pointType\", search: true, type: 'select', searchFilterable: true\n                        , dicUrl: '/admin/dict/type/jfdj',\n                        dicMethod: 'get',\n                        dicQuery: {},\n                    },\n                ]\n            },\n        }\n    },\n    created(){\n        this.paramForm.dwmc=this.searchForm.dwmc\n        this.paramForm.menuId=this.searchForm.menuId\n        this.option.column[1].searchDefault=this.paramForm.dwmc\n    },\n    computed: {\n    },\n    methods:{\n        refreshChange() {\n            this.getList(this.page)\n        },\n\n        getList(page, params) {\n            this.tableLoading = true\n            findListPage(Object.assign({\n                current: page.currentPage,\n                size: page.pageSize\n            }, this.searchForm)).then(response => {\n                this.tableData = response.data.data.records\n                this.page.total = response.data.data.total\n                this.tableLoading = false\n            })\n        },\n\n        searchChange(form) {\n            this.searchForm.dwmc=form.dwmc\n            this.searchForm.placeType= form.dwlbdm\n            this.searchForm.placeState=form.qyztdm\n            this.searchForm.orgCode=form.dwdzssxqdm,\n            this.getList(this.page, this.searchForm)\n            this.$emit(\"changeCount\",this.searchForm);\n\n        },\n        handleDetail(row) {\n            this.showDetail = true\n            this.detailTitle = row.dwmc\n            this.paramForm.menuId =  this.paramForm.menuId\n            this.paramForm.dwbh = row.zagldwbm\n        },\n\n    }\n}\n",{"version":3,"sources":["jxyxt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"jxyxt.vue","sourceRoot":"src/views/portal/archive/mechanical","sourcesContent":["\r\n<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-crud :option=\"option\"\r\n                       :data=\"tableData\"\r\n                       v-model=\"form\"\r\n                       ref=\"crud\"\r\n                       @on-load=\"getList\"\r\n                       @refresh-change=\"refreshChange\"\r\n                       @search-change=\"searchChange\"\r\n                       :page=\"page\"\r\n                       :table-loading=\"tableLoading\">\r\n\r\n                <template slot=\"menu\" slot-scope=\"scope\" >\r\n                    <el-button size=\"mini\"\r\n                               type=\"text\"\r\n                               icon=\"el-icon-view\"\r\n                               @click=\"handleDetail(scope.row)\">查看\r\n                    </el-button>\r\n                </template>\r\n            </avue-crud>\r\n        </basic-container>\r\n        <el-dialog :title=\"detailTitle\" fullscreen :visible.sync=\"showDetail\"  :append-to-body=\"applyToBody\">\r\n            <keep-alive>\r\n                <file-Info v-bind:paramForm=\"paramForm\"/>\r\n            </keep-alive>\r\n\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import {findListPage} from \"@/api/portal/archive/common/unitQuery\";\r\n    import fileInfo from './fileInfo/index.vue';\r\n    export default {\r\n        components: {\r\n            fileInfo,\r\n        },\r\n        props:[\"searchForm\"],\r\n        name:\"jxyxt\",\r\n        data(){\r\n            return {\r\n                paramForm: {\r\n                    dwmc:undefined,\r\n                    zagldwbm:undefined,\r\n                    menuId:undefined,\r\n                    dwbh:undefined\r\n                },\r\n                form:{ },\r\n                showDetail: false,\r\n                applyToBody: true,\r\n                detailTitle: '',\r\n                viewFlag: false,\r\n                tableLoading: false,\r\n                page: {\r\n                    total: 0, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10, // 每页显示多少条,\r\n                    ascs: \"\",\r\n                    descs: \"\"\r\n                },\r\n                tableData: [],\r\n                option: {\r\n                    dialogWidth: '100%',\r\n                    dialogHeight: '100%',\r\n                    dialogFullscreen: true,\r\n                    page:false,\r\n                    align:'center',\r\n                    indexLabel: '序号',\r\n                    border: true,\r\n                    index: true,\r\n                    editBtn:false,\r\n                    delBtn:false,\r\n                    addBtn:false,\r\n                    viewBtn:false,\r\n                    menuWidth:'100',\r\n                    card:true,\r\n                    column:[\r\n                        {\r\n                            label: \"单位编号\",\r\n                            prop: \"zagldwbm\",\r\n                            hide:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label: \"单位名称\",\r\n                            prop: \"dwmc\",\r\n                            search:true,\r\n                            searchDefault:'',\r\n                            span:6,\r\n\r\n                        },\r\n                        {\r\n                            label:\"经营地址\",\r\n                            prop:\"单位地址地址编码\",\r\n                            hide:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"联系电话\",\r\n                            prop:\"lxdh\",\r\n                            hide:true,\r\n                            viewDisplay:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"法定代表人\",\r\n                            prop:\"fddbrxm\",\r\n                            hide:true,\r\n                            viewDisplay:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"行业类别\",\r\n                            prop:\"dwlbdm\",\r\n                            search:true,\r\n                            type:'select',\r\n                            viewDisplay:true,\r\n                            dicUrl: '/portal/dict/getDict/qylb/jx',\r\n                            dicMethod: 'get',\r\n                            dicQuery: {},\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"经营状态\",\r\n                            prop:\"qyztdm\",\r\n                            type:'select',\r\n                            search:true,\r\n                            viewDisplay:true,\r\n                            dicUrl: '/portal/dict/getDict/qyzt/jx',\r\n                            dicMethod: 'get',\r\n                            dicQuery: {},\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"单位性质\",\r\n                            prop:\"jjlxdm\",\r\n                            type:'select',\r\n                            dicUrl: '/portal/dict/getDict//jjlx/jx',\r\n                            dicMethod: 'get',\r\n                            dicQuery: {},\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"责任民警警号\",\r\n                            prop:\"zrmjjh\",\r\n                            hide:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"责任民警姓名\",\r\n                            prop:\"zrmjxm\",\r\n                            hide:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"录入情况\",\r\n                            prop:\"lrqk\",\r\n                            hide:true,\r\n                            span:6\r\n                        },\r\n                        {\r\n                            label:\"辖区派出所\",\r\n                            prop:\"sjgsdwmc\",\r\n                            type:'select',\r\n                            span:6,\r\n                        },\r\n                        {\r\n                            label:\"行政区划\",\r\n                            prop:\"dwdzssxqdm\",\r\n                            type:'tree',\r\n                            search: true,\r\n                            searchFilterable: true,\r\n                            dicUrl: '/portal/area/areaData',\r\n                            dicMethod: 'get',\r\n                            expandLevel: 1,\r\n                            dicQuery: {},\r\n                            props: {\r\n                                label: \"name\",\r\n                                value: 'code'\r\n                            },\r\n                            span:6,\r\n                        },\r\n                        {\r\n                            label: \"总积分\", prop: \"pointScore\",\r\n\r\n                        },\r\n                        {\r\n                            label: \"积分等级\", prop: \"pointType\", search: true, type: 'select', searchFilterable: true\r\n                            , dicUrl: '/admin/dict/type/jfdj',\r\n                            dicMethod: 'get',\r\n                            dicQuery: {},\r\n                        },\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        created(){\r\n            this.paramForm.dwmc=this.searchForm.dwmc\r\n            this.paramForm.menuId=this.searchForm.menuId\r\n            this.option.column[1].searchDefault=this.paramForm.dwmc\r\n        },\r\n        computed: {\r\n        },\r\n        methods:{\r\n            refreshChange() {\r\n                this.getList(this.page)\r\n            },\r\n\r\n            getList(page, params) {\r\n                this.tableLoading = true\r\n                findListPage(Object.assign({\r\n                    current: page.currentPage,\r\n                    size: page.pageSize\r\n                }, this.searchForm)).then(response => {\r\n                    this.tableData = response.data.data.records\r\n                    this.page.total = response.data.data.total\r\n                    this.tableLoading = false\r\n                })\r\n            },\r\n\r\n            searchChange(form) {\r\n                this.searchForm.dwmc=form.dwmc\r\n                this.searchForm.placeType= form.dwlbdm\r\n                this.searchForm.placeState=form.qyztdm\r\n                this.searchForm.orgCode=form.dwdzssxqdm,\r\n                this.getList(this.page, this.searchForm)\r\n                this.$emit(\"changeCount\",this.searchForm);\r\n\r\n            },\r\n            handleDetail(row) {\r\n                this.showDetail = true\r\n                this.detailTitle = row.dwmc\r\n                this.paramForm.menuId =  this.paramForm.menuId\r\n                this.paramForm.dwbh = row.zagldwbm\r\n            },\r\n\r\n        }\r\n    }\r\n</script>"]}]}