{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\ryLog\\rykq.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\ryLog\\rykq.vue","mtime":1559217815055},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {findRykqPage,getRyKqDetail} from \"@/api/portal/archive/ylcs/csba\";\nimport {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\nexport default {\n    name: 'rykq',\n    props:[\"csbaForm\"],\n    data(){\n        return {\n            csbaBabh:'',\n            compId:'',\n            form:{\n            },\n            tableLoading: false,\n            page: {\n                total: 0, // 总页数\n                currentPage: 1, // 当前页数\n                pageSize: 10 // 每页显示多少条\n            },\n            tableData: [],\n            fromDetail:{},\n            formView:false,\n            formTitle:'',\n            formOption:{\n                dialogWidth: '100%',\n                dialogHeight: '100%',\n                dialogFullscreen: true,\n                page:false,\n                align:'center',\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                editBtn:false,\n                delBtn:false,\n                addBtn:false,\n                viewBtn:false,\n                refreshBtn: false,\n                searchBtn:false,\n                columnBtn:false,\n                menu:false,\n                card:true,\n                group: [\n                    {\n                        label: '考勤信息',\n                        prop: 'jbxx',\n                        icon: 'el-icon-info',\n                        column:[\n                            { label:\"人员姓名\", prop:\"rybaMc\",},\n                            { label: \"证件号码\",prop: 'idcardNum',},\n                            { label: \"业务类型\",prop: 'ywLx',dicData:ylcsDict.ywlx},\n                            { label:\"打卡时间\", prop:\"rylogDksj\",},\n                            { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                            { label:\"打卡情况\", prop:\"sxbState\",type:'select',dicData:ylcsDict.dkqk},\n                            { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                            { label: \"工作地点\",prop: 'rylogGzdd',},\n                        ]\n                    },\n                    {\n                        label: '基本信息',\n                        prop: 'jbxx',\n                        icon: 'el-icon-info',\n                        column: [\n                            {label: '别名', prop: 'rybaBieming',},\n                            {label: '婚姻状况', prop: 'rybaHyzkdm',\n                             dicUrl: '/portal/dict/getDict/婚姻/yldm',\n                             dicMethod: 'get',\n                             dicQuery: {},\n                            },\n                            {label: '文化程度', prop: 'rybaWhcd',\n                             dicUrl: '/portal/dict/getDict/文化程度/yl',\n                             dicMethod: 'get',\n                             dicQuery: {},\n                            },\n                            {label: '性别',prop: 'rybaXb',type:'select',dicData:ylcsDict.sex},\n                            {label: '户籍地址', prop: 'rybaHjdz',},\n                            {label: '居住地址', prop: 'rybaJzdz',},\n                            {label: '民族', prop: 'rybaMz',},\n                            {label: '签发机关', prop: 'rybaQfjg',},\n                            {label: '健康状况', prop: 'rybaJkzk',},\n                            {label: '国籍', prop: 'rybaGjdm',\n                             dicUrl: '/portal/dict/getDict/国籍/yl',\n                             dicMethod: 'get',\n                             dicQuery: {},\n                            },\n                            {label: '身份证号', prop: 'rybaZjhm'},\n                            {label: '常用证件', prop: 'rybaZjdm',\n                             dicUrl: '/portal/dict/getDict/证件/yldm',\n                             dicMethod: 'get',\n                             dicQuery: {},\n                            },\n                            {label: '身高', prop: 'rybaSg',},\n                            {label: '暂住证号', prop: 'rybaZzzhm'},\n                            {label: '出生日期', prop: 'rybaCsrq',},\n                            {label: '血型', prop: 'rybaXx',},\n                            {label: '备注', prop: 'rybaBz',},\n                            {label: '户籍所在地区划代码', prop: 'rybaHjqhdm'},\n                        ]\n                    },\n                    {\n                        label: '从业情况',\n                        prop: 'cyqk',\n                        icon: 'el-icon-info',\n                        column: [\n                            {label: '从业单位', prop: 'compName',},\n                            {label: '联系电话', prop: 'rybaLxdh',},\n                            {label: '从业人员类别', prop: 'rybaLb',dicData:ylcsDict.rylb},\n                            {label: '岗位名称', prop: 'rybaGwmc',},\n                            {label: '岗位职责', prop: 'rybaGwzrms',},\n                            {label: '从业人员编号', prop: 'rybaBh',},\n                            {label: '从业状态', prop: 'rybaCyzt',dicData:ylcsDict.ryzt},\n                            {label: '所属负责人', prop: 'rybaSsfzr',},\n                            {label: '所属负责人电话', prop: 'rybaSsfzrdh',},\n                            {label: '岗位编号', prop: 'rybaGwbh',},\n                            {label: '紧急联系人', prop: 'rybaJjlxr',},\n                            {label: '紧急联系人电话', prop: 'rybaJjlxrdh',},\n                            {label: '离职时间', prop: 'rybaLzsj',},\n                        ]\n                    },\n                ]\n            },\n            option:{\n                dialogWidth: '100%',\n                dialogHeight: '100%',\n                dialogFullscreen: true,\n                page:false,\n                align:'center',\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                editBtn:false,\n                delBtn:false,\n                addBtn:false,\n                viewBtn:false,\n                menuWidth:'100',\n                card:true,\n                menu:false,\n                column:[\n                    { label:\"人员姓名\", prop:\"rybaMc\",slot:true,search:true,},\n                    { label: \"工作地点\",prop: 'rylogGzdd',},\n                    { label:\"打卡时间\", prop:\"rylogDksj\",},\n                    { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                    { label:\"打卡情况\", prop:\"sxbState\",search:true,type:'select',dicData:ylcsDict.dkqk},\n                    { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                ]\n            }\n        }\n    },\n    created(){\n        this.csbaBabh = this.csbaForm.csbaBabh\n        this.compId = this.csbaForm.compId\n    },\n    computed: {\n    },\n    watch: {\n        csbaForm: {\n            //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n            handler() {\n                this.csbaBabh = this.csbaForm.csbaBabh\n                this.compId = this.csbaForm.compId\n                this.getList(this.page,{});\n            },\n            deep: true\n        },\n    },\n    methods:{\n        getList(page, params) {\n            this.tableLoading = true\n            findRykqPage(Object.assign({\n                current: page.currentPage,\n                size: page.pageSize,\n                csbaBabh:this.csbaBabh,\n                compId:this.compId\n            }, params)).then(response => {\n                this.tableData = response.data.data.records\n                this.page.total = response.data.data.total\n                this.tableLoading = false\n            })\n        },\n        handleFilter(param) {\n            this.page.page = 1;\n            this.getList(this.page, param);\n        },\n        getFormDetail(id) {\n            getRyKqDetail(id).then(response => {\n                this.fromDetail = response.data.data\n            })\n        },\n        openRyxqDialog(row){\n            console.log(row.rylogId)\n            this.formView = true\n            this.formTitle = \"人员详情\"\n            this.getFormDetail(row.rylogId)\n        }\n    }\n}\n",{"version":3,"sources":["rykq.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rykq.vue","sourceRoot":"src/views/portal/archive/ylcs/ryLog","sourcesContent":["<template>\n <div class=\"execution\">\n   <basic-container>\n    <avue-crud :option=\"option\"\n               :data=\"tableData\"\n               v-model=\"form\"\n               ref=\"crud\"\n               :page=\"page\"\n               @on-load=\"getList\"\n               @search-change=\"handleFilter\"\n               @refresh-change=\"handleFilter\"\n               :table-loading=\"tableLoading\">\n\n        <template slot=\"rybaMc\" slot-scope=\"scope\">\n            <button type=\"button\" class=\"el-button el-button--text el-button--small\"\n                    @click=\"openRyxqDialog(scope.row)\" >{{scope.row.rybaMc}}</button>\n        </template>\n\n    </avue-crud>\n   </basic-container>\n\n     <el-dialog :title=\"formTitle\"  :visible.sync=\"formView\" :fullscreen=\"true\" :append-to-body=\"true\">\n         <avue-detail :option=\"formOption\" v-model=\"fromDetail\" >\n         </avue-detail>\n         <div slot=\"footer\"\n              class=\"dialog-footer\">\n             <el-button type=\"primary\" @click=\"formView=false\">关 闭\n             </el-button>\n         </div>\n     </el-dialog>\n\n    </div>\n</template>\n\n\n<script>\n    import {findRykqPage,getRyKqDetail} from \"@/api/portal/archive/ylcs/csba\";\n    import {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\n    export default {\n        name: 'rykq',\n        props:[\"csbaForm\"],\n        data(){\n            return {\n                csbaBabh:'',\n                compId:'',\n                form:{\n                },\n                tableLoading: false,\n                page: {\n                    total: 0, // 总页数\n                    currentPage: 1, // 当前页数\n                    pageSize: 10 // 每页显示多少条\n                },\n                tableData: [],\n                fromDetail:{},\n                formView:false,\n                formTitle:'',\n                formOption:{\n                    dialogWidth: '100%',\n                    dialogHeight: '100%',\n                    dialogFullscreen: true,\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:false,\n                    refreshBtn: false,\n                    searchBtn:false,\n                    columnBtn:false,\n                    menu:false,\n                    card:true,\n                    group: [\n                        {\n                            label: '考勤信息',\n                            prop: 'jbxx',\n                            icon: 'el-icon-info',\n                            column:[\n                                { label:\"人员姓名\", prop:\"rybaMc\",},\n                                { label: \"证件号码\",prop: 'idcardNum',},\n                                { label: \"业务类型\",prop: 'ywLx',dicData:ylcsDict.ywlx},\n                                { label:\"打卡时间\", prop:\"rylogDksj\",},\n                                { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                                { label:\"打卡情况\", prop:\"sxbState\",type:'select',dicData:ylcsDict.dkqk},\n                                { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                                { label: \"工作地点\",prop: 'rylogGzdd',},\n                            ]\n                        },\n                        {\n                            label: '基本信息',\n                            prop: 'jbxx',\n                            icon: 'el-icon-info',\n                            column: [\n                                {label: '别名', prop: 'rybaBieming',},\n                                {label: '婚姻状况', prop: 'rybaHyzkdm',\n                                 dicUrl: '/portal/dict/getDict/婚姻/yldm',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '文化程度', prop: 'rybaWhcd',\n                                 dicUrl: '/portal/dict/getDict/文化程度/yl',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '性别',prop: 'rybaXb',type:'select',dicData:ylcsDict.sex},\n                                {label: '户籍地址', prop: 'rybaHjdz',},\n                                {label: '居住地址', prop: 'rybaJzdz',},\n                                {label: '民族', prop: 'rybaMz',},\n                                {label: '签发机关', prop: 'rybaQfjg',},\n                                {label: '健康状况', prop: 'rybaJkzk',},\n                                {label: '国籍', prop: 'rybaGjdm',\n                                 dicUrl: '/portal/dict/getDict/国籍/yl',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '身份证号', prop: 'rybaZjhm'},\n                                {label: '常用证件', prop: 'rybaZjdm',\n                                 dicUrl: '/portal/dict/getDict/证件/yldm',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '身高', prop: 'rybaSg',},\n                                {label: '暂住证号', prop: 'rybaZzzhm'},\n                                {label: '出生日期', prop: 'rybaCsrq',},\n                                {label: '血型', prop: 'rybaXx',},\n                                {label: '备注', prop: 'rybaBz',},\n                                {label: '户籍所在地区划代码', prop: 'rybaHjqhdm'},\n                            ]\n                        },\n                        {\n                            label: '从业情况',\n                            prop: 'cyqk',\n                            icon: 'el-icon-info',\n                            column: [\n                                {label: '从业单位', prop: 'compName',},\n                                {label: '联系电话', prop: 'rybaLxdh',},\n                                {label: '从业人员类别', prop: 'rybaLb',dicData:ylcsDict.rylb},\n                                {label: '岗位名称', prop: 'rybaGwmc',},\n                                {label: '岗位职责', prop: 'rybaGwzrms',},\n                                {label: '从业人员编号', prop: 'rybaBh',},\n                                {label: '从业状态', prop: 'rybaCyzt',dicData:ylcsDict.ryzt},\n                                {label: '所属负责人', prop: 'rybaSsfzr',},\n                                {label: '所属负责人电话', prop: 'rybaSsfzrdh',},\n                                {label: '岗位编号', prop: 'rybaGwbh',},\n                                {label: '紧急联系人', prop: 'rybaJjlxr',},\n                                {label: '紧急联系人电话', prop: 'rybaJjlxrdh',},\n                                {label: '离职时间', prop: 'rybaLzsj',},\n                            ]\n                        },\n                    ]\n                },\n                option:{\n                    dialogWidth: '100%',\n                    dialogHeight: '100%',\n                    dialogFullscreen: true,\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:false,\n                    menuWidth:'100',\n                    card:true,\n                    menu:false,\n                    column:[\n                        { label:\"人员姓名\", prop:\"rybaMc\",slot:true,search:true,},\n                        { label: \"工作地点\",prop: 'rylogGzdd',},\n                        { label:\"打卡时间\", prop:\"rylogDksj\",},\n                        { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                        { label:\"打卡情况\", prop:\"sxbState\",search:true,type:'select',dicData:ylcsDict.dkqk},\n                        { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                    ]\n                }\n            }\n        },\n        created(){\n            this.csbaBabh = this.csbaForm.csbaBabh\n            this.compId = this.csbaForm.compId\n        },\n        computed: {\n        },\n        watch: {\n            csbaForm: {\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n                handler() {\n                    this.csbaBabh = this.csbaForm.csbaBabh\n                    this.compId = this.csbaForm.compId\n                    this.getList(this.page,{});\n                },\n                deep: true\n            },\n        },\n        methods:{\n            getList(page, params) {\n                this.tableLoading = true\n                findRykqPage(Object.assign({\n                    current: page.currentPage,\n                    size: page.pageSize,\n                    csbaBabh:this.csbaBabh,\n                    compId:this.compId\n                }, params)).then(response => {\n                    this.tableData = response.data.data.records\n                    this.page.total = response.data.data.total\n                    this.tableLoading = false\n                })\n            },\n            handleFilter(param) {\n                this.page.page = 1;\n                this.getList(this.page, param);\n            },\n            getFormDetail(id) {\n                getRyKqDetail(id).then(response => {\n                    this.fromDetail = response.data.data\n                })\n            },\n            openRyxqDialog(row){\n                console.log(row.rylogId)\n                this.formView = true\n                this.formTitle = \"人员详情\"\n                this.getFormDetail(row.rylogId)\n            }\n        }\n    }\n</script>"]}]}