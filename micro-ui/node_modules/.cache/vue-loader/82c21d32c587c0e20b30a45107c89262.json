{"remainingRequest":"E:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\intellij work\\micro-ui\\src\\views\\portal\\unit\\security\\rating\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\intellij work\\micro-ui\\src\\views\\portal\\unit\\security\\rating\\index.vue","mtime":1553148870963},{"path":"E:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet dict ={\n    pddj:[\n        {\"label\": \"A级\", \"value\": \"01\"},\n        {\"label\": \"B级\", \"value\": \"02\"},\n        {\"label\": \"C级\", \"value\": \"03\"},\n        {\"label\": \"D级\", \"value\": \"04\"},\n        {\"label\": \"E级\", \"value\": \"05\"},\n   ]\n}\nexport default {\n    data() {\n        return {\n            type:{},\n            page: {\n                total: 2, // 总页数\n                currentPage: 1, // 当前页数\n                pageSize: 10, // 每页显示多少条,\n                isAsc: false//是否倒序\n            },\n            option:{\n                column: [{\n                    label: '等级评定信息',\n                    prop: 'tab1',\n                }, {\n                    label: '半年日常检查情况',\n                    prop: 'tab2',\n                },]\n            },\n            unitView:false,\n            form: {},\n            fromDetail:{\n                pdrq:'2019-03-20',\n                pddj:'01',\n                pddjjg:'公安局',\n                pddjfzrxm:'郝建',\n                lrr:'郝建',\n                bz: '郝建2019.03.20在公安局检查了改单位情况',\n                zhxgr:'郝建',\n                lrrq:'2019-03-20',\n                zhxgrrq:'2019-03-20'\n            },\n            tabOption1:{\n                indexLabel: '序号',\n                viewBtn: false,\n                editBtn: true,\n                delBtn: false,\n                listLoading: true,\n                border: true,\n                column: [\n                    {\n                        label: '评定日期',\n                        prop: 'pdrq',\n                        type: 'datetime',\n                        slot: true,\n                        span:12,\n                        format: 'yyyy-MM-dd HH:mm',\n                        valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入评定日期',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '评定等级',\n                        prop: 'pddj',\n                        type:'select',\n                        span:12,\n                        dicData: dict.pddj,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入评定等级',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label:'评定等级机关',\n                        prop:'pddjjg',\n                        span:12,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入评定等级机关',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '评定负责人姓名',\n                        prop: 'pddjfzrxm',\n                        span:12,\n                    },\n                    {\n                        label: '备注',\n                        prop: 'bz',\n                        formWidth: '100%',\n                        type: 'textarea',\n                        hide: 'true',\n                        span:24\n                    },\n                    {\n                        label: '录入人',\n                        prop: 'lrr',\n                        hide: 'true',\n                        span:12,\n                    },\n                    {\n                        label: '录入日期',\n                        prop: 'lrrq',\n                        type: 'datetime ',\n                        hide: 'true',\n                        span:12,\n                        format: 'yyyy-MM-dd HH:mm',\n                        valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                    },\n                    {\n                        label: '最后修改人',\n                        prop: 'zhxgr',\n                        hide: 'true',\n                        span:12,\n                    },\n                    {\n                        label: '最后修改日期',\n                        prop: 'zhxgrrq',\n                        type: 'datetime',\n                        hide: 'true',\n                        span:12,\n                        format: 'yyyy-MM-dd HH:mm',\n                        valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                    },\n                ]\n            },\n            data1:[\n                {\n                    pdrq:'2019-03-20',\n                    pddj:'01',\n                    pddjjg:'公安局',\n                    pddjfzrxm:'郝建',\n                    lrr:'郝建',\n                    bz: '郝建2019.03.20在公安局检查了改单位情况',\n                    zhxgr:'郝建',\n                    lrrq:'2019-03-20',\n                    zhxgrrq:'2019-03-20'\n                },\n                {\n                    pdrq:'2019-03-20',\n                    pddj:'02',\n                    pddjjg:'公安局',\n                    pddjfzrxm:'张上',\n                    lrr:'张上',\n                    zhxgr:'张上',\n                    lrrq:'2019-03-20',\n                    pddjfzrxm:'张上',\n                },\n            ],\n            tabOption2:{\n                indexLabel: '序号',\n                viewBtn: true,\n                editBtn: false,\n                delBtn: false,\n                addBtn: false,\n                listLoading: true,\n                border: true,\n                column: [\n                    {\n                        label: '检查时间',\n                        prop: 'jcsj',\n                        type:'datetime',\n                        format: 'yyyy-MM-dd',\n                        valueFormat: 'yyyy-MM-dd',\n                    },\n                    {\n                        label: '检查人',\n                        prop: 'jcr',\n                    },\n                    {\n                        label: '检查单位',\n                        prop: 'jcdw',\n                    },\n                    {\n                        label: '处理意见',\n                        prop: 'clyj',\n                    },\n                    {\n                        label: '处理结果',\n                        prop: 'cljg',\n                    },\n                    {\n                        label: '当前分数',\n                        prop: 'dqfs',\n                    },\n                    {\n                        label: '最后修改人',\n                        prop: 'zhxgr',\n                        hide: 'true',\n                    },\n                ]\n            },\n            data2:[\n                {\n                    jcsj:'2019-03-20',\n                    jcr:'郝建',\n                    jcdw:'公安局',\n                    clyj:'罚款',\n                    cljg:'存在问题',\n                    dqfs:'88分',\n                    zhxgr:'郝建',\n                },\n                {\n                    jcsj:'2019-03-20',\n                    jcr:'郝建',\n                    jcdw:'公安局',\n                    clyj:' ',\n                    cljg:'正常',\n                    dqfs:'100分',\n                    zhxgr:'郝建',\n                },\n            ],\n        }\n    },\n    created(){\n        this.type = this.option.column[0];\n    },\n    methods: {\n        handleChange(column) {\n            this.type = column\n        },\n\n        handleSav(row, done, loading){\n            done();\n            this.$notify({\n                title: '成功',\n                message: '新增成功',\n                type: 'success',\n                duration: 2000\n            })\n        },\n        handleUpdate(row, index, done, loading) {\n            this.form.id=row.id\n            putObj(this.form).then(() => {\n                this.getList()\n                done();\n                this.$notify({\n                    title: '成功',\n                    message: '更新成功',\n                    type: 'success',\n                    duration: 2000\n                })\n            }).catch(() => {\n                loading();\n            });\n        },\n        handleDelete() {\n            var _this = this\n            this.$confirm('是否确认删除该记录吗\"?', '警告', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                _this.$message({\n                    showClose: true,\n                    message: '删除成功',\n                    type: 'success'\n                })\n            }).catch(function (err) {\n            })\n        },\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/portal/unit/security/rating","sourcesContent":["<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-tabs :option=\"option\" @change=\"handleChange\"></avue-tabs>\r\n            <span v-if=\"type.prop==='tab1'\">\r\n                <avue-crud ref=\"crud\"\r\n                           :page=\"page\"\r\n                           :option=\"tabOption1\"\r\n                           :data=\"data1\"\r\n                           @row-update=\"handleUpdate\"\r\n                           @row-save=\"handleSav\"\r\n                           @row-del=\"handleDelete\"\r\n                           v-model=\"form\">\r\n                <template slot=\"pdrq\" slot-scope=\"scope\">\r\n                    <button type=\"button\" class=\"el-button el-button--text el-button--small\"  @click=\"unitView=true\">{{scope.row.pdrq}}</button>\r\n                </template>\r\n\r\n                 <template slot=\"menu\" slot-scope=\"scope\">\r\n                    <el-button :size=\"scope.size\" :type=\"scope.type\" @click=\"\">查看历史轨迹</el-button>\r\n                </template>\r\n                </avue-crud>\r\n\r\n            </span>\r\n            <span v-else-if=\"type.prop==='tab2'\">\r\n                <avue-crud :page=\"page\"\r\n                           :option=\"tabOption2\"\r\n                           :data=\"data2\"\r\n                           >\r\n                </avue-crud>\r\n            </span>\r\n        </basic-container>\r\n        <el-dialog title=\"等级评定信息\" fullscreen :visible.sync=\"unitView\"  >\r\n                <avue-detail :option=\"tabOption1\" v-model=\"fromDetail\"></avue-detail>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"unitView=false\">关 闭</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    let dict ={\r\n        pddj:[\r\n            {\"label\": \"A级\", \"value\": \"01\"},\r\n            {\"label\": \"B级\", \"value\": \"02\"},\r\n            {\"label\": \"C级\", \"value\": \"03\"},\r\n            {\"label\": \"D级\", \"value\": \"04\"},\r\n            {\"label\": \"E级\", \"value\": \"05\"},\r\n       ]\r\n    }\r\n    export default {\r\n        data() {\r\n            return {\r\n                type:{},\r\n                page: {\r\n                    total: 2, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10, // 每页显示多少条,\r\n                    isAsc: false//是否倒序\r\n                },\r\n                option:{\r\n                    column: [{\r\n                        label: '等级评定信息',\r\n                        prop: 'tab1',\r\n                    }, {\r\n                        label: '半年日常检查情况',\r\n                        prop: 'tab2',\r\n                    },]\r\n                },\r\n                unitView:false,\r\n                form: {},\r\n                fromDetail:{\r\n                    pdrq:'2019-03-20',\r\n                    pddj:'01',\r\n                    pddjjg:'公安局',\r\n                    pddjfzrxm:'郝建',\r\n                    lrr:'郝建',\r\n                    bz: '郝建2019.03.20在公安局检查了改单位情况',\r\n                    zhxgr:'郝建',\r\n                    lrrq:'2019-03-20',\r\n                    zhxgrrq:'2019-03-20'\r\n                },\r\n                tabOption1:{\r\n                    indexLabel: '序号',\r\n                    viewBtn: false,\r\n                    editBtn: true,\r\n                    delBtn: false,\r\n                    listLoading: true,\r\n                    border: true,\r\n                    column: [\r\n                        {\r\n                            label: '评定日期',\r\n                            prop: 'pdrq',\r\n                            type: 'datetime',\r\n                            slot: true,\r\n                            span:12,\r\n                            format: 'yyyy-MM-dd HH:mm',\r\n                            valueFormat: 'yyyy-MM-dd HH:mm:ss',\r\n                            rules: [\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入评定日期',\r\n                                    trigger: 'blur'\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            label: '评定等级',\r\n                            prop: 'pddj',\r\n                            type:'select',\r\n                            span:12,\r\n                            dicData: dict.pddj,\r\n                            rules: [\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入评定等级',\r\n                                    trigger: 'blur'\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            label:'评定等级机关',\r\n                            prop:'pddjjg',\r\n                            span:12,\r\n                            rules: [\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入评定等级机关',\r\n                                    trigger: 'blur'\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            label: '评定负责人姓名',\r\n                            prop: 'pddjfzrxm',\r\n                            span:12,\r\n                        },\r\n                        {\r\n                            label: '备注',\r\n                            prop: 'bz',\r\n                            formWidth: '100%',\r\n                            type: 'textarea',\r\n                            hide: 'true',\r\n                            span:24\r\n                        },\r\n                        {\r\n                            label: '录入人',\r\n                            prop: 'lrr',\r\n                            hide: 'true',\r\n                            span:12,\r\n                        },\r\n                        {\r\n                            label: '录入日期',\r\n                            prop: 'lrrq',\r\n                            type: 'datetime ',\r\n                            hide: 'true',\r\n                            span:12,\r\n                            format: 'yyyy-MM-dd HH:mm',\r\n                            valueFormat: 'yyyy-MM-dd HH:mm:ss',\r\n                        },\r\n                        {\r\n                            label: '最后修改人',\r\n                            prop: 'zhxgr',\r\n                            hide: 'true',\r\n                            span:12,\r\n                        },\r\n                        {\r\n                            label: '最后修改日期',\r\n                            prop: 'zhxgrrq',\r\n                            type: 'datetime',\r\n                            hide: 'true',\r\n                            span:12,\r\n                            format: 'yyyy-MM-dd HH:mm',\r\n                            valueFormat: 'yyyy-MM-dd HH:mm:ss',\r\n                        },\r\n                    ]\r\n                },\r\n                data1:[\r\n                    {\r\n                        pdrq:'2019-03-20',\r\n                        pddj:'01',\r\n                        pddjjg:'公安局',\r\n                        pddjfzrxm:'郝建',\r\n                        lrr:'郝建',\r\n                        bz: '郝建2019.03.20在公安局检查了改单位情况',\r\n                        zhxgr:'郝建',\r\n                        lrrq:'2019-03-20',\r\n                        zhxgrrq:'2019-03-20'\r\n                    },\r\n                    {\r\n                        pdrq:'2019-03-20',\r\n                        pddj:'02',\r\n                        pddjjg:'公安局',\r\n                        pddjfzrxm:'张上',\r\n                        lrr:'张上',\r\n                        zhxgr:'张上',\r\n                        lrrq:'2019-03-20',\r\n                        pddjfzrxm:'张上',\r\n                    },\r\n                ],\r\n                tabOption2:{\r\n                    indexLabel: '序号',\r\n                    viewBtn: true,\r\n                    editBtn: false,\r\n                    delBtn: false,\r\n                    addBtn: false,\r\n                    listLoading: true,\r\n                    border: true,\r\n                    column: [\r\n                        {\r\n                            label: '检查时间',\r\n                            prop: 'jcsj',\r\n                            type:'datetime',\r\n                            format: 'yyyy-MM-dd',\r\n                            valueFormat: 'yyyy-MM-dd',\r\n                        },\r\n                        {\r\n                            label: '检查人',\r\n                            prop: 'jcr',\r\n                        },\r\n                        {\r\n                            label: '检查单位',\r\n                            prop: 'jcdw',\r\n                        },\r\n                        {\r\n                            label: '处理意见',\r\n                            prop: 'clyj',\r\n                        },\r\n                        {\r\n                            label: '处理结果',\r\n                            prop: 'cljg',\r\n                        },\r\n                        {\r\n                            label: '当前分数',\r\n                            prop: 'dqfs',\r\n                        },\r\n                        {\r\n                            label: '最后修改人',\r\n                            prop: 'zhxgr',\r\n                            hide: 'true',\r\n                        },\r\n                    ]\r\n                },\r\n                data2:[\r\n                    {\r\n                        jcsj:'2019-03-20',\r\n                        jcr:'郝建',\r\n                        jcdw:'公安局',\r\n                        clyj:'罚款',\r\n                        cljg:'存在问题',\r\n                        dqfs:'88分',\r\n                        zhxgr:'郝建',\r\n                    },\r\n                    {\r\n                        jcsj:'2019-03-20',\r\n                        jcr:'郝建',\r\n                        jcdw:'公安局',\r\n                        clyj:' ',\r\n                        cljg:'正常',\r\n                        dqfs:'100分',\r\n                        zhxgr:'郝建',\r\n                    },\r\n                ],\r\n            }\r\n        },\r\n        created(){\r\n            this.type = this.option.column[0];\r\n        },\r\n        methods: {\r\n            handleChange(column) {\r\n                this.type = column\r\n            },\r\n\r\n            handleSav(row, done, loading){\r\n                done();\r\n                this.$notify({\r\n                    title: '成功',\r\n                    message: '新增成功',\r\n                    type: 'success',\r\n                    duration: 2000\r\n                })\r\n            },\r\n            handleUpdate(row, index, done, loading) {\r\n                this.form.id=row.id\r\n                putObj(this.form).then(() => {\r\n                    this.getList()\r\n                    done();\r\n                    this.$notify({\r\n                        title: '成功',\r\n                        message: '更新成功',\r\n                        type: 'success',\r\n                        duration: 2000\r\n                    })\r\n                }).catch(() => {\r\n                    loading();\r\n                });\r\n            },\r\n            handleDelete() {\r\n                var _this = this\r\n                this.$confirm('是否确认删除该记录吗\"?', '警告', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(function () {\r\n                    _this.$message({\r\n                        showClose: true,\r\n                        message: '删除成功',\r\n                        type: 'success'\r\n                    })\r\n                }).catch(function (err) {\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>"]}]}