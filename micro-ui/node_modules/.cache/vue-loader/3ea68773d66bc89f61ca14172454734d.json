{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\unit\\inspect\\target\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\unit\\inspect\\target\\index.vue","mtime":1553485333280},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapGetters} from 'vuex'\nconst DIC = {\n    typeDicts: [\n        {\"label\":\"旅馆业\",\"value\":\"01\"},\n        {\"label\":\"刻印章业\",\"value\":\"02\"},\n        {\"label\":\"旧货业\",\"value\":\"03\"},\n        {\"label\":\"印刷业\",\"value\":\"04\"},\n        {\"label\":\"机动车修理业\",\"value\":\"05\"},\n        {\"label\":\"开锁业\",\"value\":\"06\"},\n        {\"label\":\"其他管理行业\",\"value\":\"07\"},\n        {\"label\":\"歌舞娱乐场所\",\"value\":\"08\"},\n        {\"label\":\"按摩服务业\",\"value\":\"09\"},\n        {\"label\":\"游戏游艺场所\",\"value\":\"10\"},\n        {\"label\":\"录像放映场所\",\"value\":\"11\"},\n        {\"label\":\"上网服务场所\",\"value\":\"12\"},\n        {\"label\":\"体育场馆\",\"value\":\"13\"},\n        {\"label\":\"广场公园\",\"value\":\"14\"},\n        {\"label\":\"其他场所\",\"value\":\"15\"},\n        {\"label\":\"报废机动车拆解业\",\"value\":\"16\"},\n        {\"label\":\"典当业\",\"value\":\"17\"},\n        {\"label\":\"废旧金属业\",\"value\":\"18\"}\n    ],\n    fieldTypeDict:[\n        {\"label\":\"文本框\",\"value\":\"1\"},\n        {\"label\":\"单选框\",\"value\":\"2\"},\n        {\"label\":\"多选框\",\"value\":\"3\"},\n        {\"label\":\"判断项\",\"value\":\"4\"}\n    ],\n    targetTree:[\n        {\n            id: 'a',\n            content: '单位履行消防安全职责情况',\n            children: [\n                {\n                    id: 'b',\n                    content: '合法性'\n                },\n                {\n                    id: 'j',\n                    content: '消防安全管理'\n                }\n            ]\n        },\n        {\n            id: 'l',\n            content: '责令更正情况'\n        }\n    ]\n}\n\nexport default {\n    data(){\n        return {\n            type:{},\n            targetManager_btn_edit:true,\n            targetManager_btn_del:true,\n            tabForm1:{\n                id:''\n            },\n            tabForm2:{\n                id:''\n            },\n            targetTree1:[],\n            targetTree2:[],\n            data1:[\n                {\n                    id: 'a1',\n                    type: '01',\n                    content: '入住登记制度健全落实',\n                    isUse: 0,\n                    sort:1,\n                    fieldType:'2'\n                },\n                {\n                    id: 'a2',\n                    type: '01',\n                    content: '来访登记制度健全落实',\n                    isUse: 0,\n                    sort:1,\n                    fieldType:'2'\n                },\n                {\n                    id: 'a3',\n                    type: '01',\n                    content: '值班巡查制度健全落实',\n                    isUse: 0,\n                    sort: 1,\n                    fieldType: '2'\n                },\n                {\n                    id: 'a4',\n                    type: '01',\n                    content: '财务保管制度情况健全落实',\n                    isUse: 0,\n                    sort:1,\n                    fieldType:'2'\n                },\n                {\n                    id: 'a5',\n                    type: '01',\n                    content: '报告制度健全落实',\n                    isUse: 0,\n                    sort:1,\n                    fieldType:'2'\n                }\n            ],\n            data2:[\n                {\n                    id: 'a',\n                    type: '',\n                    content: '单位履行消防安全职责情况',\n                    isUse: 0,\n                    sort:1,\n                    fieldType:'',\n                    children: [\n                        {\n                            id: 'b',\n                            type: '',\n                            content: '合法性',\n                            isUse: 0,\n                            sort:2,\n                            fieldType:'',\n                            parentId:'a',\n                            children: [\n                                {\n                                    parentId:'b',\n                                    id: 'c',\n                                    type: '01',\n                                    content: '被查建筑物名称',\n                                    isUse: 0,\n                                    sort:3,\n                                    fieldType:'1'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'd',\n                                    type: '01',\n                                    content: '1998年9月1日之前竣工建筑且此后来改建(含装修、用途变更)',\n                                    isUse: 0,\n                                    sort:4,\n                                    fieldType:'4'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'e',\n                                    type: '01',\n                                    content: '依法通过消防验收',\n                                    isUse: 0,\n                                    sort:5,\n                                    fieldType:'4'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'f',\n                                    type: '01',\n                                    content: '依法进行竣工验收消防备案',\n                                    isUse: 0,\n                                    sort:6,\n                                    fieldType:'4'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'g',\n                                    type: '01',\n                                    content: '其他情况',\n                                    isUse: 0,\n                                    sort:7,\n                                    fieldType:'1'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'h',\n                                    type: '01',\n                                    content: '公众聚集场所',\n                                    isUse: 0,\n                                    sort:8,\n                                    fieldType:'2'\n                                },\n                                {\n                                    parentId:'b',\n                                    id: 'i',\n                                    type: '01',\n                                    content: '依法通过投入使用、营业前消防安全检查',\n                                    isUse: 0,\n                                    sort:9,\n                                    fieldType:'2'\n                                }\n                            ]\n                        },\n                        {\n                            id: 'j',\n                            type: '',\n                            content: '消防安全管理',\n                            isUse: 0,\n                            sort:10,\n                            fieldType:'',\n                            parentId:'a',\n                            children:[\n                                {\n                                    parentId:'j',\n                                    id: 'k',\n                                    type: '01',\n                                    content: '消防安全制度',\n                                    isUse: 0,\n                                    sort:11,\n                                    fieldType:'2'\n                                }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    id: 'l',\n                    type: '',\n                    content: '责令更正情况',\n                    isUse: 0,\n                    sort:12,\n                    fieldType:'',\n                    children:[{\n                        parentId:'l',\n                        id: 'm',\n                        type: '01',\n                        content: '制发的法律文书名称和编号',\n                        isUse: 0,\n                        sort:11,\n                        fieldType:'1'\n                    }]\n                }\n            ],\n            targetTreeProps: {\n                label: \"content\",\n                value: 'id'\n            },\n            option:{\n                column: [{\n                    icon:'el-icon-date',\n                    label: '日常检查指标',\n                    prop: 'tab1',\n                }, {\n                    icon:'el-icon-bell',\n                    label: '消防检查指标',\n                    prop: 'tab2',\n                }]\n            },\n            tabOption1: {\n                expandAll: false,\n                expandLevel:2,\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                tree: true,\n                editBtn: false,\n                delBtn: false,\n                viewBtn: true,\n                formEdit: true,\n                formAdd: true,\n                column: [\n\n                    {\n                        label: '指标内容',\n                        prop: 'content',\n                        align: 'left',\n                        search:'true',\n                        width: 550,\n                        span:24,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入指标内容',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '上级指标',\n                        prop: 'parentId',\n                        align: 'left',\n                        width: 100,\n                        hide:true,\n                        formslot: true,\n                        slot: true,\n                        span:12\n                    },\n                    {\n                        label: '行业类型',\n                        prop: 'type',\n                        align: 'left',\n                        width: 100,\n                        hide:true,\n                        span:12,\n                        type: \"select\",\n                        dicData: DIC.typeDicts,\n                        multiple : true\n                    },\n                    {\n                        label: '启用',\n                        prop: 'isUse',\n                        align: 'left',\n                        width: 100,\n                        search:'true',\n                        type: 'radio',\n                        dicData: [{\n                            label: '是',\n                            value: 0\n                        }, {\n                            label: '否',\n                            value: 1,\n                        }],\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入指标内容',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '排序',\n                        prop: 'sort',\n                        align: 'left',\n                        width: 100,\n                        sortable:true,\n                        type: 'number',\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '字段类型',\n                        prop: 'fieldType',\n                        search:'true',\n                        align: 'left',\n                        type: \"select\",\n                        dicData: DIC.fieldTypeDict,\n                        span:24\n                     },\n                    {\n                        label:'',\n                        hide:true,\n                        formslot: true,\n                        slot: true,\n                        prop:'fieldContent',\n                        span:24\n                    }\n                ]\n            },\n            tabOption2: {\n                expandAll: false,\n                expandLevel:2,\n                indexLabel: '序号',\n                border: true,\n                index: true,\n                tree: true,\n                editBtn: false,\n                delBtn: false,\n                viewBtn: true,\n                formEdit: true,\n                formAdd: true,\n                column: [\n\n                    {\n                        label: '指标内容',\n                        prop: 'content',\n                        align: 'left',\n                        search:'true',\n                        width: 550,\n                        span:24,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入指标内容',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '上级指标',\n                        prop: 'parentId',\n                        align: 'left',\n                        width: 100,\n                        hide:true,\n                        formslot: true,\n                        slot: true,\n                        span:12\n                    },\n                    {\n                        label: '行业类型',\n                        prop: 'type',\n                        align: 'left',\n                        width: 100,\n                        hide:true,\n                        span:12,\n                        type: \"select\",\n                        dicData: DIC.typeDicts,\n                        multiple : true\n                    },\n                    {\n                        label: '启用',\n                        prop: 'isUse',\n                        align: 'left',\n                        width: 100,\n                        search:'true',\n                        type: 'radio',\n                        dicData: [{\n                            label: '是',\n                            value: 0\n                        }, {\n                            label: '否',\n                            value: 1,\n                        }],\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入指标内容',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '排序',\n                        prop: 'sort',\n                        align: 'left',\n                        width: 100,\n                        sortable:true,\n                        type: 'number',\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },\n                    {\n                        label: '字段类型',\n                        prop: 'fieldType',\n                        search:'true',\n                        align: 'left',\n                        type: \"select\",\n                        dicData: DIC.fieldTypeDict,\n                        span:24\n                    },\n                    {\n                        label:'',\n                        hide:true,\n                        formslot: true,\n                        slot: true,\n                        prop:'fieldContent',\n                        span:24\n                    }\n                ]\n            },\n            tableOption1:{\n                addBtn:false,\n                editBtn:false,\n                addRowBtn:true,\n                cellBtn:true,\n                refreshBtn:false,\n                columnBtn:false,\n                filterBtn:false,\n                keyId: 'id',\n                border:true,\n                column: [{\n                    label: '选项',\n                    prop: 'option',\n                    cell: true,\n                    rules: [\n                        {\n                            required: true,\n                            message: '请输入单选项',\n                            trigger: 'blur'\n                        }\n                    ]\n                },{\n                    label:'排序',\n                    prop:'sort',\n                    cell:true,\n                    type: 'number',\n                    rules:[\n                        {\n                            required: true,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                }]\n            },\n            tableData1: [\n                {\n                    id: 1,\n                    option: '是',\n                    sort:1\n                },\n                {\n                    id: 2,\n                    option: '否',\n                    sort:2\n                }\n            ],\n            tableOption2:{\n                addBtn:false,\n                editBtn:false,\n                addRowBtn:true,\n                cellBtn:true,\n                refreshBtn:false,\n                columnBtn:false,\n                filterBtn:false,\n                border:true,\n                keyId: 'id',\n                column: [{\n                    label: '选项',\n                    prop: 'option',\n                    cell: true,\n                    rules: [\n                        {\n                            required: true,\n                            message: '请输入单选项',\n                            trigger: 'blur'\n                        }\n                    ]\n                },{\n                    label:'排序',\n                    prop:'sort',\n                    cell:true,\n                    type: 'number',\n                    rules:[\n                        {\n                            required: true,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                }]\n            },\n            tableData2: [{\n                id: 1,\n                option: '未配置',\n                sort:1\n            }, {\n                id: 2,\n                option: '完好有效',\n                sort:2\n            }, {\n                id: 3,\n                option: '失效',\n                sort:3\n            }, {\n                id: 4,\n                option: '缺少',\n                sort:4\n            }],\n            tableOption3:{\n                addBtn:false,\n                editBtn:false,\n                addRowBtn:true,\n                cellBtn:true,\n                refreshBtn:false,\n                columnBtn:false,\n                filterBtn:false,\n                border:true,\n                keyId: 'id',\n                column: [{\n                    label: '选项',\n                    prop: 'option',\n                    cell: true,\n                    rules: [\n                        {\n                            required: true,\n                            message: '请输入单选项',\n                            trigger: 'blur'\n                        }\n                    ]\n                },{\n                    label:'排序',\n                    prop:'sort',\n                    cell:true,\n                    type: 'number',\n                    rules:[\n                        {\n                            required: true,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                }]\n            },\n            tableData3: [\n                {\n                    id: 1,\n                    option: '是',\n                    sort:1\n                },\n                {\n                    id: 2,\n                    option: '否',\n                    sort:2\n                }\n            ],\n            tableOption4:{\n                addBtn:false,\n                editBtn:false,\n                addRowBtn:true,\n                cellBtn:true,\n                refreshBtn:false,\n                columnBtn:false,\n                filterBtn:false,\n                border:true,\n                keyId: 'id',\n                column: [{\n                    label: '选项',\n                    prop: 'option',\n                    cell: true,\n                    rules: [\n                        {\n                            required: true,\n                            message: '请输入单选项',\n                            trigger: 'blur'\n                        }\n                    ]\n                },{\n                    label:'排序',\n                    prop:'sort',\n                    cell:true,\n                    type: 'number',\n                    rules:[\n                        {\n                            required: true,\n                            message: '请输入数字',\n                            trigger: 'blur'\n                        }\n                    ]\n                }]\n            },\n            tableData4: [{\n                id: 1,\n                option: '未配置',\n                sort:1\n            }, {\n                id: 2,\n                option: '完好有效',\n                sort:2\n            }, {\n                id: 3,\n                option: '失效',\n                sort:3\n            }, {\n                id: 4,\n                option: '缺少',\n                sort:4\n            }],\n        }\n    },\n    created(){\n        this.type = this.option.column[0];\n        this.targetTree2 = DIC.targetTree;\n    },\n    computed: {\n        ...mapGetters([\n            'elements',\n            'permissions'\n        ])\n    },\n    methods:{\n        handleChange(column) {\n            this.type = column\n            //this.$message.success(JSON.stringify(column.label))\n        },\n        handAdd: function (row) {\n            //第一次进入无法刷新上级指标\n            this.tabForm2.parentId = row.id;\n            this.$refs.crud.rowAdd();\n        },\n        handleEdit(row, index) {\n            this.$refs.crud.rowEdit(row, index)\n        },\n        handleDelete(row) {\n            this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                delObj(row.id).then(() => {\n                    this.getList()\n                    this.$notify({\n                        title: '成功',\n                        message: '删除成功',\n                        type: 'success',\n                        duration: 2000\n                    })\n                })\n            })\n        },\n        isAddChildren:function (row) {\n            if(row.fieldType==''||row.fieldType==null){\n                return true;\n            }else{\n                return false;\n            }\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/portal/unit/inspect/target","sourcesContent":["\n<template>\n    <div class=\"app-container calendar-list-container\">\n        <basic-container>\n            <avue-tabs :option=\"option\" @change=\"handleChange\"></avue-tabs>\n            <span v-if=\"type.prop==='tab1'\">\n                <avue-crud :option=\"tabOption1\" :data=\"data1\" v-model=\"tabForm1\" ref=\"crud\">\n                     <template slot=\"icon\" slot-scope=\"scope\">\n                        <i :class=\"scope.row.icon\" style=\"font-size:24px\"></i>\n                     </template>\n                    <template slot=\"parentIdForm\" slot-scope=\"scope\">\n                        <avue-input v-model=\"tabForm1.parentId\"\n                                    type=\"tree\"\n                                    placeholder=\"上级指标\"\n                                    :dic=\"targetTree1\"\n                                    :props=\"targetTreeProps\">\n                        </avue-input>\n                    </template>\n\n                    <template slot=\"menu\" slot-scope=\"scope\" >\n                        <el-button size=\"mini\"\n                                 type=\"text\"\n                                 icon=\"el-icon-plus\"\n                                 v-if=\"isAddChildren(scope.row)\"\n                                 @click=\"handAdd(scope.row)\">添加子级\n                        </el-button>\n                        <el-button size=\"mini\"\n                                   type=\"text\"\n                                   icon=\"el-icon-edit\"\n                                   v-if=\"targetManager_btn_edit\"\n                                   @click=\"handleEdit(scope.row,scope.index)\">编辑\n                        </el-button>\n                        <el-button size=\"mini\"\n                                   type=\"text\"\n                                   icon=\"el-icon-delete\"\n                                   v-if=\"targetManager_btn_del\"\n                                   @click=\"handleDelete(scope.row)\">删除\n                        </el-button>\n                    </template>\n                    <template slot=\"fieldContentForm\" slot-scope=\"scope\" :span=\"24\">\n                        <div v-if=\"tabForm1.fieldType == 1&&tabForm1.content!=''\">\n                            <el-row>\n                                <el-col :span=\"24\"><font style=\"font-weight: bold;font-size: 20px;\">示例</font></el-col>\n                                <el-col :span=\"24\" >\n                                    <label style=\"margin-right: 10px;\">{{tabForm1.content}}：</label><input class=\"el-input__inner\" style=\"width:180px;\" readonly=\"readonly\"/>\n                                </el-col>\n                            </el-row>\n                        </div>\n                        <div v-if=\"tabForm1.fieldType == 2\">\n                            <avue-crud :option=\"tableOption1\" :data=\"tableData1\" @row-update=\"addUpdate\"></avue-crud>\n                        </div>\n                        <div v-if=\"tabForm1.fieldType == 3\">\n                            <avue-crud :option=\"tableOption2\" :data=\"tableData2\" @row-update=\"addUpdate\"></avue-crud>\n                        </div>\n                        <div v-if=\"tabForm1.fieldType == 4&&tabForm1.content!=''\">\n                            <el-row>\n                                <el-col :span=\"24\"><font style=\"font-weight: bold;font-size: 20px;\">示例</font></el-col>\n                                <el-col :span=\"24\" >\n                                    <input type=\"checkbox\" class=\"el-checkbox-button\" style=\"margin-right: 10px;\" readonly=\"readonly\"/><label>{{tabForm1.content}}</label>\n                                </el-col>\n                            </el-row>\n                        </div>\n                    </template>\n                </avue-crud>\n            </span>\n            <span v-else-if=\"type.prop==='tab2'\">\n                <avue-crud :option=\"tabOption2\" :data=\"data2\" v-model=\"tabForm2\" ref=\"crud\">\n                     <template slot=\"icon\" slot-scope=\"scope\">\n                        <i :class=\"scope.row.icon\" style=\"font-size:24px\"></i>\n                     </template>\n                    <template slot=\"menu\" slot-scope=\"scope\" >\n                        <el-button size=\"mini\"\n                                   type=\"text\"\n                                   icon=\"el-icon-plus\"\n                                   v-if=\"isAddChildren(scope.row)\"\n                                   @click=\"handAdd(scope.row)\">添加子级\n                        </el-button>\n                        <el-button size=\"mini\"\n                                   type=\"text\"\n                                   icon=\"el-icon-edit\"\n                                   v-if=\"targetManager_btn_edit\"\n                                   @click=\"handleEdit(scope.row,scope.index)\">编辑\n                        </el-button>\n                        <el-button size=\"mini\"\n                                   type=\"text\"\n                                   icon=\"el-icon-delete\"\n                                   v-if=\"targetManager_btn_del\"\n                                   @click=\"handleDelete(scope.row)\">删除\n                        </el-button>\n                    </template>\n                    <template slot=\"parentIdForm\" slot-scope=\"scope\">\n                        <avue-input v-model=\"tabForm2.parentId\"\n                                    type=\"tree\"\n                                    placeholder=\"上级指标\"\n                                    :dic=\"targetTree2\"\n                                    :props=\"targetTreeProps\">\n                        </avue-input>\n                    </template>\n                    <template slot=\"fieldContentForm\" slot-scope=\"scope\" :span=\"24\">\n                        <div v-if=\"tabForm2.fieldType == 1&&tabForm2.content!=''\">\n                            <el-row>\n                                <el-col :span=\"24\"><font style=\"font-weight: bold;font-size: 20px;\">示例</font></el-col>\n                                <el-col :span=\"24\" >\n                                    <label style=\"margin-right: 20px;\">{{tabForm2.content}}：</label><input class=\"el-input__inner\" style=\"width:280px;\" readonly=\"readonly\"/>\n                                </el-col>\n                            </el-row>\n                        </div>\n                        <div v-if=\"tabForm2.fieldType == 2\">\n                            <avue-crud :option=\"tableOption3\" :data=\"tableData3\" @row-update=\"addUpdate\"></avue-crud>\n                        </div>\n                        <div v-if=\"tabForm2.fieldType == 3\">\n                            <avue-crud :option=\"tableOption4\" :data=\"tableData4\" @row-update=\"addUpdate\"></avue-crud>\n                        </div>\n                        <div v-if=\"tabForm2.fieldType == 4&&tabForm2.content!=''\">\n                            <el-row>\n                                <el-col :span=\"24\"><font style=\"font-weight: bold;font-size: 20px;\">示例</font></el-col>\n                                <el-col :span=\"24\" >\n                                    <input type=\"checkbox\" class=\"el-checkbox-button\" style=\"margin-right: 10px;\" readonly=\"readonly\"/><label>{{tabForm2.content}}</label>\n                                </el-col>\n                            </el-row>\n                        </div>\n                    </template>\n                </avue-crud>\n            </span>\n        </basic-container>\n        <template>\n\n        </template>\n    </div>\n</template>\n<style>\n\n</style>\n<script>\n    import {mapGetters} from 'vuex'\n    const DIC = {\n        typeDicts: [\n            {\"label\":\"旅馆业\",\"value\":\"01\"},\n            {\"label\":\"刻印章业\",\"value\":\"02\"},\n            {\"label\":\"旧货业\",\"value\":\"03\"},\n            {\"label\":\"印刷业\",\"value\":\"04\"},\n            {\"label\":\"机动车修理业\",\"value\":\"05\"},\n            {\"label\":\"开锁业\",\"value\":\"06\"},\n            {\"label\":\"其他管理行业\",\"value\":\"07\"},\n            {\"label\":\"歌舞娱乐场所\",\"value\":\"08\"},\n            {\"label\":\"按摩服务业\",\"value\":\"09\"},\n            {\"label\":\"游戏游艺场所\",\"value\":\"10\"},\n            {\"label\":\"录像放映场所\",\"value\":\"11\"},\n            {\"label\":\"上网服务场所\",\"value\":\"12\"},\n            {\"label\":\"体育场馆\",\"value\":\"13\"},\n            {\"label\":\"广场公园\",\"value\":\"14\"},\n            {\"label\":\"其他场所\",\"value\":\"15\"},\n            {\"label\":\"报废机动车拆解业\",\"value\":\"16\"},\n            {\"label\":\"典当业\",\"value\":\"17\"},\n            {\"label\":\"废旧金属业\",\"value\":\"18\"}\n        ],\n        fieldTypeDict:[\n            {\"label\":\"文本框\",\"value\":\"1\"},\n            {\"label\":\"单选框\",\"value\":\"2\"},\n            {\"label\":\"多选框\",\"value\":\"3\"},\n            {\"label\":\"判断项\",\"value\":\"4\"}\n        ],\n        targetTree:[\n            {\n                id: 'a',\n                content: '单位履行消防安全职责情况',\n                children: [\n                    {\n                        id: 'b',\n                        content: '合法性'\n                    },\n                    {\n                        id: 'j',\n                        content: '消防安全管理'\n                    }\n                ]\n            },\n            {\n                id: 'l',\n                content: '责令更正情况'\n            }\n        ]\n    }\n\n    export default {\n        data(){\n            return {\n                type:{},\n                targetManager_btn_edit:true,\n                targetManager_btn_del:true,\n                tabForm1:{\n                    id:''\n                },\n                tabForm2:{\n                    id:''\n                },\n                targetTree1:[],\n                targetTree2:[],\n                data1:[\n                    {\n                        id: 'a1',\n                        type: '01',\n                        content: '入住登记制度健全落实',\n                        isUse: 0,\n                        sort:1,\n                        fieldType:'2'\n                    },\n                    {\n                        id: 'a2',\n                        type: '01',\n                        content: '来访登记制度健全落实',\n                        isUse: 0,\n                        sort:1,\n                        fieldType:'2'\n                    },\n                    {\n                        id: 'a3',\n                        type: '01',\n                        content: '值班巡查制度健全落实',\n                        isUse: 0,\n                        sort: 1,\n                        fieldType: '2'\n                    },\n                    {\n                        id: 'a4',\n                        type: '01',\n                        content: '财务保管制度情况健全落实',\n                        isUse: 0,\n                        sort:1,\n                        fieldType:'2'\n                    },\n                    {\n                        id: 'a5',\n                        type: '01',\n                        content: '报告制度健全落实',\n                        isUse: 0,\n                        sort:1,\n                        fieldType:'2'\n                    }\n                ],\n                data2:[\n                    {\n                        id: 'a',\n                        type: '',\n                        content: '单位履行消防安全职责情况',\n                        isUse: 0,\n                        sort:1,\n                        fieldType:'',\n                        children: [\n                            {\n                                id: 'b',\n                                type: '',\n                                content: '合法性',\n                                isUse: 0,\n                                sort:2,\n                                fieldType:'',\n                                parentId:'a',\n                                children: [\n                                    {\n                                        parentId:'b',\n                                        id: 'c',\n                                        type: '01',\n                                        content: '被查建筑物名称',\n                                        isUse: 0,\n                                        sort:3,\n                                        fieldType:'1'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'd',\n                                        type: '01',\n                                        content: '1998年9月1日之前竣工建筑且此后来改建(含装修、用途变更)',\n                                        isUse: 0,\n                                        sort:4,\n                                        fieldType:'4'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'e',\n                                        type: '01',\n                                        content: '依法通过消防验收',\n                                        isUse: 0,\n                                        sort:5,\n                                        fieldType:'4'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'f',\n                                        type: '01',\n                                        content: '依法进行竣工验收消防备案',\n                                        isUse: 0,\n                                        sort:6,\n                                        fieldType:'4'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'g',\n                                        type: '01',\n                                        content: '其他情况',\n                                        isUse: 0,\n                                        sort:7,\n                                        fieldType:'1'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'h',\n                                        type: '01',\n                                        content: '公众聚集场所',\n                                        isUse: 0,\n                                        sort:8,\n                                        fieldType:'2'\n                                    },\n                                    {\n                                        parentId:'b',\n                                        id: 'i',\n                                        type: '01',\n                                        content: '依法通过投入使用、营业前消防安全检查',\n                                        isUse: 0,\n                                        sort:9,\n                                        fieldType:'2'\n                                    }\n                                ]\n                            },\n                            {\n                                id: 'j',\n                                type: '',\n                                content: '消防安全管理',\n                                isUse: 0,\n                                sort:10,\n                                fieldType:'',\n                                parentId:'a',\n                                children:[\n                                    {\n                                        parentId:'j',\n                                        id: 'k',\n                                        type: '01',\n                                        content: '消防安全制度',\n                                        isUse: 0,\n                                        sort:11,\n                                        fieldType:'2'\n                                    }\n                                ]\n                            }\n                        ]\n                    },\n                    {\n                        id: 'l',\n                        type: '',\n                        content: '责令更正情况',\n                        isUse: 0,\n                        sort:12,\n                        fieldType:'',\n                        children:[{\n                            parentId:'l',\n                            id: 'm',\n                            type: '01',\n                            content: '制发的法律文书名称和编号',\n                            isUse: 0,\n                            sort:11,\n                            fieldType:'1'\n                        }]\n                    }\n                ],\n                targetTreeProps: {\n                    label: \"content\",\n                    value: 'id'\n                },\n                option:{\n                    column: [{\n                        icon:'el-icon-date',\n                        label: '日常检查指标',\n                        prop: 'tab1',\n                    }, {\n                        icon:'el-icon-bell',\n                        label: '消防检查指标',\n                        prop: 'tab2',\n                    }]\n                },\n                tabOption1: {\n                    expandAll: false,\n                    expandLevel:2,\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    tree: true,\n                    editBtn: false,\n                    delBtn: false,\n                    viewBtn: true,\n                    formEdit: true,\n                    formAdd: true,\n                    column: [\n\n                        {\n                            label: '指标内容',\n                            prop: 'content',\n                            align: 'left',\n                            search:'true',\n                            width: 550,\n                            span:24,\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入指标内容',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '上级指标',\n                            prop: 'parentId',\n                            align: 'left',\n                            width: 100,\n                            hide:true,\n                            formslot: true,\n                            slot: true,\n                            span:12\n                        },\n                        {\n                            label: '行业类型',\n                            prop: 'type',\n                            align: 'left',\n                            width: 100,\n                            hide:true,\n                            span:12,\n                            type: \"select\",\n                            dicData: DIC.typeDicts,\n                            multiple : true\n                        },\n                        {\n                            label: '启用',\n                            prop: 'isUse',\n                            align: 'left',\n                            width: 100,\n                            search:'true',\n                            type: 'radio',\n                            dicData: [{\n                                label: '是',\n                                value: 0\n                            }, {\n                                label: '否',\n                                value: 1,\n                            }],\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入指标内容',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '排序',\n                            prop: 'sort',\n                            align: 'left',\n                            width: 100,\n                            sortable:true,\n                            type: 'number',\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入数字',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '字段类型',\n                            prop: 'fieldType',\n                            search:'true',\n                            align: 'left',\n                            type: \"select\",\n                            dicData: DIC.fieldTypeDict,\n                            span:24\n                         },\n                        {\n                            label:'',\n                            hide:true,\n                            formslot: true,\n                            slot: true,\n                            prop:'fieldContent',\n                            span:24\n                        }\n                    ]\n                },\n                tabOption2: {\n                    expandAll: false,\n                    expandLevel:2,\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    tree: true,\n                    editBtn: false,\n                    delBtn: false,\n                    viewBtn: true,\n                    formEdit: true,\n                    formAdd: true,\n                    column: [\n\n                        {\n                            label: '指标内容',\n                            prop: 'content',\n                            align: 'left',\n                            search:'true',\n                            width: 550,\n                            span:24,\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入指标内容',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '上级指标',\n                            prop: 'parentId',\n                            align: 'left',\n                            width: 100,\n                            hide:true,\n                            formslot: true,\n                            slot: true,\n                            span:12\n                        },\n                        {\n                            label: '行业类型',\n                            prop: 'type',\n                            align: 'left',\n                            width: 100,\n                            hide:true,\n                            span:12,\n                            type: \"select\",\n                            dicData: DIC.typeDicts,\n                            multiple : true\n                        },\n                        {\n                            label: '启用',\n                            prop: 'isUse',\n                            align: 'left',\n                            width: 100,\n                            search:'true',\n                            type: 'radio',\n                            dicData: [{\n                                label: '是',\n                                value: 0\n                            }, {\n                                label: '否',\n                                value: 1,\n                            }],\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入指标内容',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '排序',\n                            prop: 'sort',\n                            align: 'left',\n                            width: 100,\n                            sortable:true,\n                            type: 'number',\n                            rules: [\n                                {\n                                    required: true,\n                                    message: '请输入数字',\n                                    trigger: 'blur'\n                                }\n                            ]\n                        },\n                        {\n                            label: '字段类型',\n                            prop: 'fieldType',\n                            search:'true',\n                            align: 'left',\n                            type: \"select\",\n                            dicData: DIC.fieldTypeDict,\n                            span:24\n                        },\n                        {\n                            label:'',\n                            hide:true,\n                            formslot: true,\n                            slot: true,\n                            prop:'fieldContent',\n                            span:24\n                        }\n                    ]\n                },\n                tableOption1:{\n                    addBtn:false,\n                    editBtn:false,\n                    addRowBtn:true,\n                    cellBtn:true,\n                    refreshBtn:false,\n                    columnBtn:false,\n                    filterBtn:false,\n                    keyId: 'id',\n                    border:true,\n                    column: [{\n                        label: '选项',\n                        prop: 'option',\n                        cell: true,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入单选项',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },{\n                        label:'排序',\n                        prop:'sort',\n                        cell:true,\n                        type: 'number',\n                        rules:[\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    }]\n                },\n                tableData1: [\n                    {\n                        id: 1,\n                        option: '是',\n                        sort:1\n                    },\n                    {\n                        id: 2,\n                        option: '否',\n                        sort:2\n                    }\n                ],\n                tableOption2:{\n                    addBtn:false,\n                    editBtn:false,\n                    addRowBtn:true,\n                    cellBtn:true,\n                    refreshBtn:false,\n                    columnBtn:false,\n                    filterBtn:false,\n                    border:true,\n                    keyId: 'id',\n                    column: [{\n                        label: '选项',\n                        prop: 'option',\n                        cell: true,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入单选项',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },{\n                        label:'排序',\n                        prop:'sort',\n                        cell:true,\n                        type: 'number',\n                        rules:[\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    }]\n                },\n                tableData2: [{\n                    id: 1,\n                    option: '未配置',\n                    sort:1\n                }, {\n                    id: 2,\n                    option: '完好有效',\n                    sort:2\n                }, {\n                    id: 3,\n                    option: '失效',\n                    sort:3\n                }, {\n                    id: 4,\n                    option: '缺少',\n                    sort:4\n                }],\n                tableOption3:{\n                    addBtn:false,\n                    editBtn:false,\n                    addRowBtn:true,\n                    cellBtn:true,\n                    refreshBtn:false,\n                    columnBtn:false,\n                    filterBtn:false,\n                    border:true,\n                    keyId: 'id',\n                    column: [{\n                        label: '选项',\n                        prop: 'option',\n                        cell: true,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入单选项',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },{\n                        label:'排序',\n                        prop:'sort',\n                        cell:true,\n                        type: 'number',\n                        rules:[\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    }]\n                },\n                tableData3: [\n                    {\n                        id: 1,\n                        option: '是',\n                        sort:1\n                    },\n                    {\n                        id: 2,\n                        option: '否',\n                        sort:2\n                    }\n                ],\n                tableOption4:{\n                    addBtn:false,\n                    editBtn:false,\n                    addRowBtn:true,\n                    cellBtn:true,\n                    refreshBtn:false,\n                    columnBtn:false,\n                    filterBtn:false,\n                    border:true,\n                    keyId: 'id',\n                    column: [{\n                        label: '选项',\n                        prop: 'option',\n                        cell: true,\n                        rules: [\n                            {\n                                required: true,\n                                message: '请输入单选项',\n                                trigger: 'blur'\n                            }\n                        ]\n                    },{\n                        label:'排序',\n                        prop:'sort',\n                        cell:true,\n                        type: 'number',\n                        rules:[\n                            {\n                                required: true,\n                                message: '请输入数字',\n                                trigger: 'blur'\n                            }\n                        ]\n                    }]\n                },\n                tableData4: [{\n                    id: 1,\n                    option: '未配置',\n                    sort:1\n                }, {\n                    id: 2,\n                    option: '完好有效',\n                    sort:2\n                }, {\n                    id: 3,\n                    option: '失效',\n                    sort:3\n                }, {\n                    id: 4,\n                    option: '缺少',\n                    sort:4\n                }],\n            }\n        },\n        created(){\n            this.type = this.option.column[0];\n            this.targetTree2 = DIC.targetTree;\n        },\n        computed: {\n            ...mapGetters([\n                'elements',\n                'permissions'\n            ])\n        },\n        methods:{\n            handleChange(column) {\n                this.type = column\n                //this.$message.success(JSON.stringify(column.label))\n            },\n            handAdd: function (row) {\n                //第一次进入无法刷新上级指标\n                this.tabForm2.parentId = row.id;\n                this.$refs.crud.rowAdd();\n            },\n            handleEdit(row, index) {\n                this.$refs.crud.rowEdit(row, index)\n            },\n            handleDelete(row) {\n                this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    delObj(row.id).then(() => {\n                        this.getList()\n                        this.$notify({\n                            title: '成功',\n                            message: '删除成功',\n                            type: 'success',\n                            duration: 2000\n                        })\n                    })\n                })\n            },\n            isAddChildren:function (row) {\n                if(row.fieldType==''||row.fieldType==null){\n                    return true;\n                }else{\n                    return false;\n                }\n            }\n        }\n    }\n</script>"]}]}