{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\mechanical\\fileInfo\\cyry\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\mechanical\\fileInfo\\cyry\\index.vue","mtime":1559705073657},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {findCyryPage,getRyDetail,getRyImg} from \"@/api/portal/archive/mechanical/jxyxt\";\nimport {formOption} from \"@/const/crud/portal/archive/mechanical/jxyxt\";\nexport default {\n    props: [\"paramForm\"],\n    name:\"cyry\",\n    data(){\n        return {\n            form:{\n                dwmc:'',\n                dwbh:'',\n            },\n            tableLoading: false,\n            cyryFormView:false,\n            cyryFormOption:formOption,\n            cyryFromDetail:{},\n            page: {\n                total: 0, // 总页数\n                currentPage: 1, // 当前页数\n                pageSize: 10, // 每页显示多少条,\n                ascs: \"\",\n                descs: \"\"\n            },\n            tableData: [],\n            tableOption: {\n                dialogWidth: '100%',\n                dialogHeight: '100%',\n                dialogFullscreen: true,\n                border: true,\n                index: true,\n                indexLabel: '序号',\n                stripe: true,\n                menuAlign: 'center',\n                align: 'center',\n                addBtn: false,\n                viewBtn: false,\n                editBtn: false,\n                delBtn: false,\n                menu:false,\n                card:true,\n                column: [\n                    {\n                        label: '头像',\n                        prop: 'imgUi',\n                        hide:true,\n                        slot:true,\n                        formslot:true,\n                    },\n                    {\n                        label: '姓名',\n                        prop: 'xm',\n                        search:'true',\n                        slot:true,\n                    },\n                    {\n                        label: '证件号码',\n                        search:\"true\",\n                        prop: 'zjhm',\n                        overHidden: true,\n                    },\n                    {\n                        label: '性别',\n                        prop: 'xbdm',\n                        type: 'select',\n                        span: 6,\n                        dicUrl: '/portal/dict/getDict/0122/ly',\n                        dicMethod:'get',\n                        dicQuery:{},\n                    },\n                    {\n                        label: '出生日期',\n                        prop: 'csrq',\n                    },\n                    {\n                        label: '职务类别',\n                        prop: 'gzmc',\n                        search:'true',\n                        type: 'select',\n                        overHidden: true,\n                        dicData: [{\n                            label: '服务人员',\n                            value: '0'\n                        }, {\n                            label: '管理人员',\n                            value: '1'\n                        }, {\n                            label: '一般服务人员',\n                            value: '2'\n                        }, {\n                            label: '其他管理人员',\n                            value: '3'\n                        }\n                        ]\n                    },\n                    {\n                        label: '所属单位类别',\n                        prop: 'ryssdwlb',\n                        type: 'select',\n                        overHidden: true,\n                        dicData: [{\n                            label: '旅馆业',\n                            value: '0'\n                        }, {\n                            label: '歌舞娱乐场所',\n                            value: '1'\n                        }, {\n                            label: '游戏游艺场所',\n                            value: '2'\n                        }, {\n                            label: '机修业',\n                            value: '3'\n                        }, {\n                            label: '按摩服务场所',\n                            value: '4'\n                        }\n                        ]\n                    }\n                    ,\n                    {\n                        label: '上岗日期',\n                        prop: 'rzrq',\n                        type: \"daterange\",\n                        search:\"true\",\n                        startPlaceholder: '日期开始',\n                        endPlaceholder: '日期结束',\n                        overHidden: true,\n                    },\n                    {\n                        label: '离岗日期',\n                        prop: 'lzrq',\n                        type: \"daterange\",\n                    },\n\n                    {\n                        label: '人员状态',\n                        prop: 'ryzt',\n                        type:\"select\",\n                        search:\"true\",\n                        dicData: [{\n                            label: '在职',\n                            value: '0'\n                        }, {\n                            label: '离职',\n                            value: '1'\n                        }\n                        ]\n                    } ,\n                    {\n                        label:'七类人员类型',\n                        prop:'persontype',\n                    },\n                    {\n                        label: '现住址详址',\n                        prop: 'dzmcqhnxxdz',\n                        hide:true,\n                    },\n                    {\n                        label: '数据来源',\n                        prop: 'source',\n                        type: 'select',\n                        hide:true,\n                        overHidden: true,\n                        dicData: [{\n                            label: '治综',\n                            value: '0'\n                        }, {\n                            label: '警钟',\n                            value: '1'\n                        }, {\n                            label: '旅业',\n                            value: '2'\n                        }\n                        ]\n                    }/*,\n                    {\n                        label: '所属警务区',\n                        prop: 'ssjwq',\n                        type: 'select',\n                        search:'true',\n                        hide:'true',\n                        dicData: [{\n                            label: '海傍社区警务区',\n                            value: '0'\n                        }, {\n                            label: '甘化社区警务区',\n                            value: '1'\n                        }, {\n                            label: '常安社区警务区',\n                            value: '2'\n                        }, {\n                            label: '常安社区警务区',\n                            value: '3'\n                        }, {\n                            label: '良化北社区警务区',\n                            value: '4'\n                        }\n                        ]\n                    }*/\n                ],\n\n            },\n        }\n    },\n    created(){\n        this.form.dwbh = this.paramForm.dwbh;\n    },\n    computed: {\n    },\n    methods:{\n        initRyImg(id,imgId) {\n            getRyImg(id,imgId)\n        },\n        refreshChange() {\n            this.getList(this.page)\n        },\n        searchChange(form) {\n            this.getList(this.page, form)\n        },\n        getRyxqFormDetail(xxid) {\n            getRyDetail(xxid).then(response => {\n                this.cyryFromDetail = response.data.data\n            })\n        },\n        openRyxqDialog(row){\n            this.cyryFormView = true\n            this.getRyxqFormDetail(row.xxid)\n        },\n        getList(page, params) {\n            this.tableLoading = true\n            findCyryPage(Object.assign({\n                current: page.currentPage,\n                size: page.pageSize,\n                dwbh: this.form.dwbh\n            }, params)).then(response => {\n                this.tableData = response.data.data.records\n                this.page.total = response.data.data.total\n                this.tableLoading = false\n            })\n        },\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/portal/archive/mechanical/fileInfo/cyry","sourcesContent":["\r\n<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-crud :option=\"tableOption\"\r\n                       :data=\"tableData\"\r\n                       v-model=\"form\"\r\n                       ref=\"crud\"\r\n                       @on-load=\"getList\"\r\n                       @refresh-change=\"refreshChange\"\r\n                       @search-change=\"searchChange\"\r\n                       :page=\"page\"\r\n                       :table-loading=\"tableLoading\">\r\n\r\n                <template slot=\"xm\" slot-scope=\"scope\">\r\n                    <button type=\"button\" class=\"el-button el-button--text el-button--small\"\r\n                            @click=\"openRyxqDialog(scope.row)\"\r\n                    >{{scope.row.xm}}</button>\r\n                </template>\r\n            </avue-crud>\r\n            <el-dialog title=\"人员详情\"  :visible.sync=\"cyryFormView\" :fullscreen=\"true\" :append-to-body=\"true\">\r\n                <avue-detail :option=\"cyryFormOption\" v-model=\"cyryFromDetail\" @on-load=\"getList\">\r\n                    <template slot=\"imgUrl\" slot-scope=\"scope\">\r\n                        <img style=\"height: 100px;width: 100px\"  id=\"imgPerson\" :src=\"initRyImg(cyryFromDetail.xxid,'imgPerson')\"/>\r\n                    </template>\r\n                </avue-detail>\r\n                <div slot=\"footer\"\r\n                     class=\"dialog-footer\">\r\n                    <el-button type=\"primary\" @click=\"cyryFormView=false\">关 闭\r\n                    </el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </basic-container>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import {findCyryPage,getRyDetail,getRyImg} from \"@/api/portal/archive/mechanical/jxyxt\";\r\n    import {formOption} from \"@/const/crud/portal/archive/mechanical/jxyxt\";\r\n    export default {\r\n        props: [\"paramForm\"],\r\n        name:\"cyry\",\r\n        data(){\r\n            return {\r\n                form:{\r\n                    dwmc:'',\r\n                    dwbh:'',\r\n                },\r\n                tableLoading: false,\r\n                cyryFormView:false,\r\n                cyryFormOption:formOption,\r\n                cyryFromDetail:{},\r\n                page: {\r\n                    total: 0, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10, // 每页显示多少条,\r\n                    ascs: \"\",\r\n                    descs: \"\"\r\n                },\r\n                tableData: [],\r\n                tableOption: {\r\n                    dialogWidth: '100%',\r\n                    dialogHeight: '100%',\r\n                    dialogFullscreen: true,\r\n                    border: true,\r\n                    index: true,\r\n                    indexLabel: '序号',\r\n                    stripe: true,\r\n                    menuAlign: 'center',\r\n                    align: 'center',\r\n                    addBtn: false,\r\n                    viewBtn: false,\r\n                    editBtn: false,\r\n                    delBtn: false,\r\n                    menu:false,\r\n                    card:true,\r\n                    column: [\r\n                        {\r\n                            label: '头像',\r\n                            prop: 'imgUi',\r\n                            hide:true,\r\n                            slot:true,\r\n                            formslot:true,\r\n                        },\r\n                        {\r\n                            label: '姓名',\r\n                            prop: 'xm',\r\n                            search:'true',\r\n                            slot:true,\r\n                        },\r\n                        {\r\n                            label: '证件号码',\r\n                            search:\"true\",\r\n                            prop: 'zjhm',\r\n                            overHidden: true,\r\n                        },\r\n                        {\r\n                            label: '性别',\r\n                            prop: 'xbdm',\r\n                            type: 'select',\r\n                            span: 6,\r\n                            dicUrl: '/portal/dict/getDict/0122/ly',\r\n                            dicMethod:'get',\r\n                            dicQuery:{},\r\n                        },\r\n                        {\r\n                            label: '出生日期',\r\n                            prop: 'csrq',\r\n                        },\r\n                        {\r\n                            label: '职务类别',\r\n                            prop: 'gzmc',\r\n                            search:'true',\r\n                            type: 'select',\r\n                            overHidden: true,\r\n                            dicData: [{\r\n                                label: '服务人员',\r\n                                value: '0'\r\n                            }, {\r\n                                label: '管理人员',\r\n                                value: '1'\r\n                            }, {\r\n                                label: '一般服务人员',\r\n                                value: '2'\r\n                            }, {\r\n                                label: '其他管理人员',\r\n                                value: '3'\r\n                            }\r\n                            ]\r\n                        },\r\n                        {\r\n                            label: '所属单位类别',\r\n                            prop: 'ryssdwlb',\r\n                            type: 'select',\r\n                            overHidden: true,\r\n                            dicData: [{\r\n                                label: '旅馆业',\r\n                                value: '0'\r\n                            }, {\r\n                                label: '歌舞娱乐场所',\r\n                                value: '1'\r\n                            }, {\r\n                                label: '游戏游艺场所',\r\n                                value: '2'\r\n                            }, {\r\n                                label: '机修业',\r\n                                value: '3'\r\n                            }, {\r\n                                label: '按摩服务场所',\r\n                                value: '4'\r\n                            }\r\n                            ]\r\n                        }\r\n                        ,\r\n                        {\r\n                            label: '上岗日期',\r\n                            prop: 'rzrq',\r\n                            type: \"daterange\",\r\n                            search:\"true\",\r\n                            startPlaceholder: '日期开始',\r\n                            endPlaceholder: '日期结束',\r\n                            overHidden: true,\r\n                        },\r\n                        {\r\n                            label: '离岗日期',\r\n                            prop: 'lzrq',\r\n                            type: \"daterange\",\r\n                        },\r\n\r\n                        {\r\n                            label: '人员状态',\r\n                            prop: 'ryzt',\r\n                            type:\"select\",\r\n                            search:\"true\",\r\n                            dicData: [{\r\n                                label: '在职',\r\n                                value: '0'\r\n                            }, {\r\n                                label: '离职',\r\n                                value: '1'\r\n                            }\r\n                            ]\r\n                        } ,\r\n                        {\r\n                            label:'七类人员类型',\r\n                            prop:'persontype',\r\n                        },\r\n                        {\r\n                            label: '现住址详址',\r\n                            prop: 'dzmcqhnxxdz',\r\n                            hide:true,\r\n                        },\r\n                        {\r\n                            label: '数据来源',\r\n                            prop: 'source',\r\n                            type: 'select',\r\n                            hide:true,\r\n                            overHidden: true,\r\n                            dicData: [{\r\n                                label: '治综',\r\n                                value: '0'\r\n                            }, {\r\n                                label: '警钟',\r\n                                value: '1'\r\n                            }, {\r\n                                label: '旅业',\r\n                                value: '2'\r\n                            }\r\n                            ]\r\n                        }/*,\r\n                        {\r\n                            label: '所属警务区',\r\n                            prop: 'ssjwq',\r\n                            type: 'select',\r\n                            search:'true',\r\n                            hide:'true',\r\n                            dicData: [{\r\n                                label: '海傍社区警务区',\r\n                                value: '0'\r\n                            }, {\r\n                                label: '甘化社区警务区',\r\n                                value: '1'\r\n                            }, {\r\n                                label: '常安社区警务区',\r\n                                value: '2'\r\n                            }, {\r\n                                label: '常安社区警务区',\r\n                                value: '3'\r\n                            }, {\r\n                                label: '良化北社区警务区',\r\n                                value: '4'\r\n                            }\r\n                            ]\r\n                        }*/\r\n                    ],\r\n\r\n                },\r\n            }\r\n        },\r\n        created(){\r\n            this.form.dwbh = this.paramForm.dwbh;\r\n        },\r\n        computed: {\r\n        },\r\n        methods:{\r\n            initRyImg(id,imgId) {\r\n                getRyImg(id,imgId)\r\n            },\r\n            refreshChange() {\r\n                this.getList(this.page)\r\n            },\r\n            searchChange(form) {\r\n                this.getList(this.page, form)\r\n            },\r\n            getRyxqFormDetail(xxid) {\r\n                getRyDetail(xxid).then(response => {\r\n                    this.cyryFromDetail = response.data.data\r\n                })\r\n            },\r\n            openRyxqDialog(row){\r\n                this.cyryFormView = true\r\n                this.getRyxqFormDetail(row.xxid)\r\n            },\r\n            getList(page, params) {\r\n                this.tableLoading = true\r\n                findCyryPage(Object.assign({\r\n                    current: page.currentPage,\r\n                    size: page.pageSize,\r\n                    dwbh: this.form.dwbh\r\n                }, params)).then(response => {\r\n                    this.tableData = response.data.data.records\r\n                    this.page.total = response.data.data.total\r\n                    this.tableLoading = false\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>"]}]}