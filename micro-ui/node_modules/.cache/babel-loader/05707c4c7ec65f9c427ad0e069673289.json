{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\csbafj\\zzxx.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\csbafj\\zzxx.vue","mtime":1559648897284},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findCsbafjPage, getJbxxImg } from \"@/api/portal/archive/ylcs/csba\";\nexport default {\n  name: 'zzxx',\n  props: [\"csbaForm\"],\n  data: function data() {\n    return {\n      csbaId: '',\n      form: {},\n      tableLoading: false,\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tableData: [],\n      imgQuery: {\n        fjId: ''\n      },\n      option: {\n        dialogWidth: '100%',\n        dialogHeight: '100%',\n        dialogFullscreen: true,\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: true,\n        refreshBtn: false,\n        searchBtn: false,\n        columnBtn: false,\n        menuWidth: 100,\n        card: true,\n        column: [{\n          label: \"附件内容\",\n          prop: \"fjNeirong\",\n          hide: true,\n          formslot: true,\n          span: 24\n        }, {\n          label: \"附件名称\",\n          prop: 'fjMingcheng',\n          search: true\n        }, {\n          label: \"附件大小\",\n          prop: \"fjDaxiao\"\n        }, {\n          label: \"附件类型\",\n          prop: \"fjLeixingid\",\n          slot: true\n        }, {\n          label: \"附件上传时间\",\n          prop: \"fjShijian\",\n          labelWidth: 120\n        }, {\n          label: \"业务类型\",\n          prop: \"ywLx\",\n          hide: true,\n          dicUrl: '/portal/dict/getDict/业务类型/yl',\n          dicMethod: 'get',\n          dicQuery: {}\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.csbaId = this.csbaForm.csbaId;\n  },\n  computed: {},\n  watch: {\n    csbaForm: {\n      //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n      handler: function handler() {\n        this.csbaId = this.csbaForm.csbaId;\n        this.getList(this.page, {});\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getList: function getList(page, params) {\n      var _this = this;\n\n      this.tableLoading = true;\n      findCsbafjPage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize,\n        csbaId: this.csbaId\n      }, params)).then(function (response) {\n        _this.tableData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    handleFilter: function handleFilter(param) {\n      this.page.page = 1;\n      this.getList(this.page, param);\n    },\n    handleOpenBefore: function handleOpenBefore(show, type) {\n      window.boxType = type;\n      this.form.fjLeixingid = this.form.fileTypeName;\n\n      if (type === 'view') {\n        this.imgQuery.fjId = this.form.fjId;\n        getJbxxImg(this.imgQuery, this.form.fjId);\n      }\n\n      show();\n    }\n  }\n};",{"version":3,"sources":["zzxx.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,cAAA,EAAA,UAAA,QAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,KAAA,EAAA,CAAA,UAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAIA,MAAA,YAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,CADA;AACA;AACA,QAAA,WAAA,EAAA,CAFA;AAEA;AACA,QAAA,QAAA,EAAA,EAHA,CAGA;;AAHA,OALA;AAUA,MAAA,SAAA,EAAA,EAVA;AAWA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAXA;AAcA,MAAA,MAAA,EAAA;AACA,QAAA,WAAA,EAAA,MADA;AAEA,QAAA,YAAA,EAAA,MAFA;AAGA,QAAA,gBAAA,EAAA,IAHA;AAIA,QAAA,IAAA,EAAA,KAJA;AAKA,QAAA,KAAA,EAAA,QALA;AAMA,QAAA,UAAA,EAAA,IANA;AAOA,QAAA,MAAA,EAAA,IAPA;AAQA,QAAA,KAAA,EAAA,IARA;AASA,QAAA,OAAA,EAAA,KATA;AAUA,QAAA,MAAA,EAAA,KAVA;AAWA,QAAA,MAAA,EAAA,KAXA;AAYA,QAAA,OAAA,EAAA,IAZA;AAaA,QAAA,UAAA,EAAA,KAbA;AAcA,QAAA,SAAA,EAAA,KAdA;AAeA,QAAA,SAAA,EAAA,KAfA;AAgBA,QAAA,SAAA,EAAA,GAhBA;AAiBA,QAAA,IAAA,EAAA,IAjBA;AAkBA,QAAA,MAAA,EAAA,CACA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,IAAA,EAAA,WAAA;AAAA,UAAA,IAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,IAAA,EAAA,aAAA;AAAA,UAAA,MAAA,EAAA;AAAA,SAFA,EAGA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAHA,EAIA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,IAAA,EAAA,aAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAJA,EAKA;AAAA,UAAA,KAAA,EAAA,QAAA;AAAA,UAAA,IAAA,EAAA,WAAA;AAAA,UAAA,UAAA,EAAA;AAAA,SALA,EAMA;AAAA,UAAA,KAAA,EAAA,MAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,IAAA,EAAA,IAFA;AAGA,UAAA,MAAA,EAAA,8BAHA;AAIA,UAAA,SAAA,EAAA,KAJA;AAKA,UAAA,QAAA,EAAA;AALA,SANA;AAlBA;AAdA,KAAA;AAgDA,GApDA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,MAAA,GAAA,KAAA,QAAA,CAAA,MAAA;AACA,GAvDA;AAwDA,EAAA,QAAA,EAAA,EAxDA;AA0DA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA;AACA,MAAA,OAFA,qBAEA;AACA,aAAA,MAAA,GAAA,KAAA,QAAA,CAAA,MAAA;AACA,aAAA,OAAA,CAAA,KAAA,IAAA,EAAA,EAAA;AACA,OALA;AAMA,MAAA,IAAA,EAAA;AANA;AADA,GA1DA;AAoEA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,IADA,EACA,MADA,EACA;AAAA;;AACA,WAAA,YAAA,GAAA,IAAA;AACA,MAAA,cAAA,CAAA,eAAA;AACA,QAAA,OAAA,EAAA,IAAA,CAAA,WADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,QAFA;AAGA,QAAA,MAAA,EAAA,KAAA;AAHA,OAAA,EAIA,MAJA,CAAA,CAAA,CAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OARA;AASA,KAZA;AAaA,IAAA,YAbA,wBAaA,KAbA,EAaA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,CAAA;AACA,WAAA,OAAA,CAAA,KAAA,IAAA,EAAA,KAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,4BAiBA,IAjBA,EAiBA,IAjBA,EAiBA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,WAAA,IAAA,CAAA,WAAA,GAAA,KAAA,IAAA,CAAA,YAAA;;AACA,UAAA,IAAA,KAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,IAAA,GAAA,KAAA,IAAA,CAAA,IAAA;AACA,QAAA,UAAA,CAAA,KAAA,QAAA,EAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AACA;;AACA,MAAA,IAAA;AACA;AAzBA;AApEA,CAAA","sourcesContent":["<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-crud :option=\"option\"\r\n                       :data=\"tableData\"\r\n                       v-model=\"form\"\r\n                       ref=\"crud\"\r\n                       :page=\"page\"\r\n                       @on-load=\"getList\"\r\n                       @search-change=\"handleFilter\"\r\n                       :before-open=\"handleOpenBefore\"\r\n                       :table-loading=\"tableLoading\">\r\n\r\n                <template slot=\"fjLeixingid\" slot-scope=\"scope\">\r\n                    {{scope.row.fileTypeName}}\r\n                </template>\r\n                <template slot=\"fjNeirongForm\" slot-scope=\"scope\">\r\n                    <img :id=\"scope.row.fjId\" style=\"height:300px; width:350px;\"/>\r\n                </template>\r\n            </avue-crud>\r\n        </basic-container>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n    import {findCsbafjPage,getJbxxImg} from \"@/api/portal/archive/ylcs/csba\";\r\n\r\n    export default {\r\n        name: 'zzxx',\r\n        props:[\"csbaForm\"],\r\n        data(){\r\n            return {\r\n                csbaId:'',\r\n                form:{\r\n                },\r\n                tableLoading: false,\r\n                page: {\r\n                    total: 0, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10 // 每页显示多少条\r\n                },\r\n                tableData: [],\r\n                imgQuery:{\r\n                    fjId:'',\r\n                },\r\n                option:{\r\n                    dialogWidth: '100%',\r\n                    dialogHeight: '100%',\r\n                    dialogFullscreen: true,\r\n                    page:false,\r\n                    align:'center',\r\n                    indexLabel: '序号',\r\n                    border: true,\r\n                    index: true,\r\n                    editBtn:false,\r\n                    delBtn:false,\r\n                    addBtn:false,\r\n                    viewBtn:true,\r\n                    refreshBtn: false,\r\n                    searchBtn:false,\r\n                    columnBtn:false,\r\n                    menuWidth:100,\r\n                    card:true,\r\n                    column:[\r\n                        { label:\"附件内容\",prop:\"fjNeirong\",hide:true,formslot:true,span:24},\r\n                        { label: \"附件名称\",prop: 'fjMingcheng',search:true},\r\n                        { label:\"附件大小\", prop:\"fjDaxiao\",},\r\n                        { label:\"附件类型\", prop:\"fjLeixingid\",slot:true},\r\n                        { label:\"附件上传时间\", prop:\"fjShijian\",labelWidth:120},\r\n                        { label:\"业务类型\",\r\n                            prop:\"ywLx\",\r\n                            hide:true,\r\n                            dicUrl: '/portal/dict/getDict/业务类型/yl',\r\n                            dicMethod: 'get',\r\n                            dicQuery: {}\r\n                        }\r\n                        ]\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            this.csbaId = this.csbaForm.csbaId\r\n        },\r\n        computed: {\r\n        },\r\n        watch: {\r\n            csbaForm: {\r\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\r\n                handler() {\r\n                    this.csbaId = this.csbaForm.csbaId\r\n                    this.getList(this.page,{});\r\n                },\r\n                deep: true\r\n            },\r\n        },\r\n        methods:{\r\n            getList(page, params) {\r\n                this.tableLoading = true\r\n                findCsbafjPage(Object.assign({\r\n                    current: page.currentPage,\r\n                    size: page.pageSize,\r\n                    csbaId:this.csbaId,\r\n                }, params)).then(response => {\r\n                    this.tableData = response.data.data.records\r\n                    this.page.total = response.data.data.total\r\n                    this.tableLoading = false\r\n                })\r\n            },\r\n            handleFilter(param) {\r\n                this.page.page = 1;\r\n                this.getList(this.page, param);\r\n            },\r\n            handleOpenBefore(show, type) {\r\n                window.boxType = type;\r\n                this.form.fjLeixingid = this.form.fileTypeName;\r\n                if(type==='view'){\r\n                    this.imgQuery.fjId=this.form.fjId\r\n                    getJbxxImg(this.imgQuery,this.form.fjId)\r\n                }\r\n                show();\r\n            },\r\n\r\n        }\r\n    }\r\n</script>"],"sourceRoot":"src/views/portal/archive/ylcs/csbafj"}]}