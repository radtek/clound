{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\baxj\\baxjList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\baxj\\baxjList.vue","mtime":1559217814824},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findBaxjPage } from \"@/api/portal/archive/ylcs/csba\";\nimport { ylcsDict } from \"@/const/crud/portal/archive/ylcs/ylcsDict\";\nexport default {\n  name: 'baxj',\n  props: [\"csbaForm\"],\n  data: function data() {\n    return {\n      compId: '',\n      form: {},\n      tableLoading: false,\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tableData: [],\n      option: {\n        dialogWidth: '80%',\n        dialogHeight: '100%',\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: true,\n        menuWidth: '100',\n        column: [{\n          label: \"巡检单位\",\n          prop: \"compName\",\n          hide: true\n        }, {\n          label: \"场所编号\",\n          prop: \"csbaBh\",\n          hide: true\n        }, {\n          label: \"业务类型\",\n          prop: \"ywLx\",\n          hide: true,\n          type: 'select',\n          dicUrl: '/portal/dict/getDict/业务类型/yl',\n          dicMethod: 'get',\n          dicQuery: {}\n        }, {\n          label: \"巡检人\",\n          prop: \"baxjXjr\",\n          search: true\n        }, {\n          label: \"巡检数\",\n          prop: 'baxjXjs'\n        }, {\n          label: \"漏检数\",\n          prop: \"baxjLjs\"\n        }, {\n          label: \"巡检开始时间\",\n          prop: \"baxjKssj\",\n          labelWidth: 120,\n          overHidden: true\n        }, {\n          label: \"巡检结束时间\",\n          prop: \"baxjJssj\",\n          labelWidth: 120,\n          overHidden: true\n        }, {\n          label: \"巡检线路\",\n          prop: \"xjlxName\",\n          overHidden: true,\n          span: 24\n        }, {\n          label: \"备注\",\n          prop: \"baxjBz\",\n          overHidden: true,\n          span: 24\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.compId = this.csbaForm.compId;\n  },\n  computed: {},\n  watch: {\n    csbaForm: {\n      //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n      handler: function handler() {\n        this.compId = this.csbaForm.compId;\n        this.getList(this.page, {});\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getList: function getList(page, params) {\n      var _this = this;\n\n      this.tableLoading = true;\n      findBaxjPage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize,\n        compId: this.compId\n      }, params)).then(function (response) {\n        _this.tableData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    handleFilter: function handleFilter(param) {\n      this.page.page = 1;\n      this.getList(this.page, param);\n    }\n  }\n};",{"version":3,"sources":["baxjList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div class=\"execution\">\n   <basic-container>\n    <avue-crud :option=\"option\"\n               :data=\"tableData\"\n               v-model=\"form\"\n               ref=\"crud\"\n               :page=\"page\"\n               @on-load=\"getList\"\n               @search-change=\"handleFilter\"\n               @refresh-change=\"handleFilter\"\n               :table-loading=\"tableLoading\">\n    </avue-crud>\n   </basic-container>\n\n    </div>\n</template>\n\n\n<script>\n    import {findBaxjPage} from \"@/api/portal/archive/ylcs/csba\";\n    import {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\n    export default {\n        name: 'baxj',\n        props:[\"csbaForm\"],\n        data(){\n            return {\n                compId:'',\n                form:{\n                },\n                tableLoading: false,\n                page: {\n                    total: 0, // 总页数\n                    currentPage: 1, // 当前页数\n                    pageSize: 10 // 每页显示多少条\n                },\n                tableData: [],\n                option:{\n                    dialogWidth: '80%',\n                    dialogHeight: '100%',\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:true,\n                    menuWidth:'100',\n                    column:[\n                        { label:\"巡检单位\", prop:\"compName\",hide:true},\n                        { label:\"场所编号\", prop:\"csbaBh\",hide:true},\n                        { label:\"业务类型\", prop:\"ywLx\",hide:true,type:'select',\n                          dicUrl: '/portal/dict/getDict/业务类型/yl',\n                          dicMethod: 'get',\n                          dicQuery: {},\n                        },\n                        { label:\"巡检人\", prop:\"baxjXjr\",search:true},\n                        { label:\"巡检数\",prop: 'baxjXjs',},\n                        { label:\"漏检数\", prop:\"baxjLjs\",},\n                        { label:\"巡检开始时间\", prop:\"baxjKssj\",labelWidth:120,overHidden:true,},\n                        { label:\"巡检结束时间\", prop:\"baxjJssj\",labelWidth:120,overHidden:true,},\n                        { label:\"巡检线路\", prop:\"xjlxName\",overHidden:true,span:24},\n                        { label:\"备注\", prop:\"baxjBz\",overHidden:true,span:24},\n                    ]\n                }\n            }\n        },\n        created(){\n            this.compId = this.csbaForm.compId\n        },\n        computed: {\n        },\n        watch: {\n            csbaForm: {\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n                handler() {\n                    this.compId = this.csbaForm.compId\n                    this.getList(this.page,{});\n                },\n                deep: true\n            },\n        },\n        methods:{\n            getList(page, params) {\n                this.tableLoading = true\n                findBaxjPage(Object.assign({\n                    current: page.currentPage,\n                    size: page.pageSize,\n                    compId:this.compId\n                }, params)).then(response => {\n                    this.tableData = response.data.data.records\n                    this.page.total = response.data.data.total\n                    this.tableLoading = false\n                })\n            },\n            handleFilter(param) {\n                this.page.page = 1;\n                this.getList(this.page, param);\n            }\n\n        }\n    }\n</script>"],"sourceRoot":"src/views/portal/archive/ylcs/baxj"}]}