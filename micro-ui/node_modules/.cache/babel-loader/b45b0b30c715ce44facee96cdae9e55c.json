{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\ryLog\\rykq.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\ylcs\\ryLog\\rykq.vue","mtime":1559217815055},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findRykqPage, getRyKqDetail } from \"@/api/portal/archive/ylcs/csba\";\nimport { ylcsDict } from \"@/const/crud/portal/archive/ylcs/ylcsDict\";\nexport default {\n  name: 'rykq',\n  props: [\"csbaForm\"],\n  data: function data() {\n    return {\n      csbaBabh: '',\n      compId: '',\n      form: {},\n      tableLoading: false,\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tableData: [],\n      fromDetail: {},\n      formView: false,\n      formTitle: '',\n      formOption: {\n        dialogWidth: '100%',\n        dialogHeight: '100%',\n        dialogFullscreen: true,\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: false,\n        refreshBtn: false,\n        searchBtn: false,\n        columnBtn: false,\n        menu: false,\n        card: true,\n        group: [{\n          label: '考勤信息',\n          prop: 'jbxx',\n          icon: 'el-icon-info',\n          column: [{\n            label: \"人员姓名\",\n            prop: \"rybaMc\"\n          }, {\n            label: \"证件号码\",\n            prop: 'idcardNum'\n          }, {\n            label: \"业务类型\",\n            prop: 'ywLx',\n            dicData: ylcsDict.ywlx\n          }, {\n            label: \"打卡时间\",\n            prop: \"rylogDksj\"\n          }, {\n            label: \"打卡类型\",\n            prop: \"rylogDklx\",\n            type: 'select',\n            dicData: ylcsDict.dklx\n          }, {\n            label: \"打卡情况\",\n            prop: \"sxbState\",\n            type: 'select',\n            dicData: ylcsDict.dkqk\n          }, {\n            label: \"岗位信息\",\n            prop: \"rylogGwxx\"\n          }, {\n            label: \"工作地点\",\n            prop: 'rylogGzdd'\n          }]\n        }, {\n          label: '基本信息',\n          prop: 'jbxx',\n          icon: 'el-icon-info',\n          column: [{\n            label: '别名',\n            prop: 'rybaBieming'\n          }, {\n            label: '婚姻状况',\n            prop: 'rybaHyzkdm',\n            dicUrl: '/portal/dict/getDict/婚姻/yldm',\n            dicMethod: 'get',\n            dicQuery: {}\n          }, {\n            label: '文化程度',\n            prop: 'rybaWhcd',\n            dicUrl: '/portal/dict/getDict/文化程度/yl',\n            dicMethod: 'get',\n            dicQuery: {}\n          }, {\n            label: '性别',\n            prop: 'rybaXb',\n            type: 'select',\n            dicData: ylcsDict.sex\n          }, {\n            label: '户籍地址',\n            prop: 'rybaHjdz'\n          }, {\n            label: '居住地址',\n            prop: 'rybaJzdz'\n          }, {\n            label: '民族',\n            prop: 'rybaMz'\n          }, {\n            label: '签发机关',\n            prop: 'rybaQfjg'\n          }, {\n            label: '健康状况',\n            prop: 'rybaJkzk'\n          }, {\n            label: '国籍',\n            prop: 'rybaGjdm',\n            dicUrl: '/portal/dict/getDict/国籍/yl',\n            dicMethod: 'get',\n            dicQuery: {}\n          }, {\n            label: '身份证号',\n            prop: 'rybaZjhm'\n          }, {\n            label: '常用证件',\n            prop: 'rybaZjdm',\n            dicUrl: '/portal/dict/getDict/证件/yldm',\n            dicMethod: 'get',\n            dicQuery: {}\n          }, {\n            label: '身高',\n            prop: 'rybaSg'\n          }, {\n            label: '暂住证号',\n            prop: 'rybaZzzhm'\n          }, {\n            label: '出生日期',\n            prop: 'rybaCsrq'\n          }, {\n            label: '血型',\n            prop: 'rybaXx'\n          }, {\n            label: '备注',\n            prop: 'rybaBz'\n          }, {\n            label: '户籍所在地区划代码',\n            prop: 'rybaHjqhdm'\n          }]\n        }, {\n          label: '从业情况',\n          prop: 'cyqk',\n          icon: 'el-icon-info',\n          column: [{\n            label: '从业单位',\n            prop: 'compName'\n          }, {\n            label: '联系电话',\n            prop: 'rybaLxdh'\n          }, {\n            label: '从业人员类别',\n            prop: 'rybaLb',\n            dicData: ylcsDict.rylb\n          }, {\n            label: '岗位名称',\n            prop: 'rybaGwmc'\n          }, {\n            label: '岗位职责',\n            prop: 'rybaGwzrms'\n          }, {\n            label: '从业人员编号',\n            prop: 'rybaBh'\n          }, {\n            label: '从业状态',\n            prop: 'rybaCyzt',\n            dicData: ylcsDict.ryzt\n          }, {\n            label: '所属负责人',\n            prop: 'rybaSsfzr'\n          }, {\n            label: '所属负责人电话',\n            prop: 'rybaSsfzrdh'\n          }, {\n            label: '岗位编号',\n            prop: 'rybaGwbh'\n          }, {\n            label: '紧急联系人',\n            prop: 'rybaJjlxr'\n          }, {\n            label: '紧急联系人电话',\n            prop: 'rybaJjlxrdh'\n          }, {\n            label: '离职时间',\n            prop: 'rybaLzsj'\n          }]\n        }]\n      },\n      option: {\n        dialogWidth: '100%',\n        dialogHeight: '100%',\n        dialogFullscreen: true,\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: false,\n        menuWidth: '100',\n        card: true,\n        menu: false,\n        column: [{\n          label: \"人员姓名\",\n          prop: \"rybaMc\",\n          slot: true,\n          search: true\n        }, {\n          label: \"工作地点\",\n          prop: 'rylogGzdd'\n        }, {\n          label: \"打卡时间\",\n          prop: \"rylogDksj\"\n        }, {\n          label: \"打卡类型\",\n          prop: \"rylogDklx\",\n          type: 'select',\n          dicData: ylcsDict.dklx\n        }, {\n          label: \"打卡情况\",\n          prop: \"sxbState\",\n          search: true,\n          type: 'select',\n          dicData: ylcsDict.dkqk\n        }, {\n          label: \"岗位信息\",\n          prop: \"rylogGwxx\"\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.csbaBabh = this.csbaForm.csbaBabh;\n    this.compId = this.csbaForm.compId;\n  },\n  computed: {},\n  watch: {\n    csbaForm: {\n      //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n      handler: function handler() {\n        this.csbaBabh = this.csbaForm.csbaBabh;\n        this.compId = this.csbaForm.compId;\n        this.getList(this.page, {});\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getList: function getList(page, params) {\n      var _this = this;\n\n      this.tableLoading = true;\n      findRykqPage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize,\n        csbaBabh: this.csbaBabh,\n        compId: this.compId\n      }, params)).then(function (response) {\n        _this.tableData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    handleFilter: function handleFilter(param) {\n      this.page.page = 1;\n      this.getList(this.page, param);\n    },\n    getFormDetail: function getFormDetail(id) {\n      var _this2 = this;\n\n      getRyKqDetail(id).then(function (response) {\n        _this2.fromDetail = response.data.data;\n      });\n    },\n    openRyxqDialog: function openRyxqDialog(row) {\n      console.log(row.rylogId);\n      this.formView = true;\n      this.formTitle = \"人员详情\";\n      this.getFormDetail(row.rylogId);\n    }\n  }\n};",{"version":3,"sources":["rykq.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div class=\"execution\">\n   <basic-container>\n    <avue-crud :option=\"option\"\n               :data=\"tableData\"\n               v-model=\"form\"\n               ref=\"crud\"\n               :page=\"page\"\n               @on-load=\"getList\"\n               @search-change=\"handleFilter\"\n               @refresh-change=\"handleFilter\"\n               :table-loading=\"tableLoading\">\n\n        <template slot=\"rybaMc\" slot-scope=\"scope\">\n            <button type=\"button\" class=\"el-button el-button--text el-button--small\"\n                    @click=\"openRyxqDialog(scope.row)\" >{{scope.row.rybaMc}}</button>\n        </template>\n\n    </avue-crud>\n   </basic-container>\n\n     <el-dialog :title=\"formTitle\"  :visible.sync=\"formView\" :fullscreen=\"true\" :append-to-body=\"true\">\n         <avue-detail :option=\"formOption\" v-model=\"fromDetail\" >\n         </avue-detail>\n         <div slot=\"footer\"\n              class=\"dialog-footer\">\n             <el-button type=\"primary\" @click=\"formView=false\">关 闭\n             </el-button>\n         </div>\n     </el-dialog>\n\n    </div>\n</template>\n\n\n<script>\n    import {findRykqPage,getRyKqDetail} from \"@/api/portal/archive/ylcs/csba\";\n    import {ylcsDict}  from  \"@/const/crud/portal/archive/ylcs/ylcsDict\";\n    export default {\n        name: 'rykq',\n        props:[\"csbaForm\"],\n        data(){\n            return {\n                csbaBabh:'',\n                compId:'',\n                form:{\n                },\n                tableLoading: false,\n                page: {\n                    total: 0, // 总页数\n                    currentPage: 1, // 当前页数\n                    pageSize: 10 // 每页显示多少条\n                },\n                tableData: [],\n                fromDetail:{},\n                formView:false,\n                formTitle:'',\n                formOption:{\n                    dialogWidth: '100%',\n                    dialogHeight: '100%',\n                    dialogFullscreen: true,\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:false,\n                    refreshBtn: false,\n                    searchBtn:false,\n                    columnBtn:false,\n                    menu:false,\n                    card:true,\n                    group: [\n                        {\n                            label: '考勤信息',\n                            prop: 'jbxx',\n                            icon: 'el-icon-info',\n                            column:[\n                                { label:\"人员姓名\", prop:\"rybaMc\",},\n                                { label: \"证件号码\",prop: 'idcardNum',},\n                                { label: \"业务类型\",prop: 'ywLx',dicData:ylcsDict.ywlx},\n                                { label:\"打卡时间\", prop:\"rylogDksj\",},\n                                { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                                { label:\"打卡情况\", prop:\"sxbState\",type:'select',dicData:ylcsDict.dkqk},\n                                { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                                { label: \"工作地点\",prop: 'rylogGzdd',},\n                            ]\n                        },\n                        {\n                            label: '基本信息',\n                            prop: 'jbxx',\n                            icon: 'el-icon-info',\n                            column: [\n                                {label: '别名', prop: 'rybaBieming',},\n                                {label: '婚姻状况', prop: 'rybaHyzkdm',\n                                 dicUrl: '/portal/dict/getDict/婚姻/yldm',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '文化程度', prop: 'rybaWhcd',\n                                 dicUrl: '/portal/dict/getDict/文化程度/yl',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '性别',prop: 'rybaXb',type:'select',dicData:ylcsDict.sex},\n                                {label: '户籍地址', prop: 'rybaHjdz',},\n                                {label: '居住地址', prop: 'rybaJzdz',},\n                                {label: '民族', prop: 'rybaMz',},\n                                {label: '签发机关', prop: 'rybaQfjg',},\n                                {label: '健康状况', prop: 'rybaJkzk',},\n                                {label: '国籍', prop: 'rybaGjdm',\n                                 dicUrl: '/portal/dict/getDict/国籍/yl',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '身份证号', prop: 'rybaZjhm'},\n                                {label: '常用证件', prop: 'rybaZjdm',\n                                 dicUrl: '/portal/dict/getDict/证件/yldm',\n                                 dicMethod: 'get',\n                                 dicQuery: {},\n                                },\n                                {label: '身高', prop: 'rybaSg',},\n                                {label: '暂住证号', prop: 'rybaZzzhm'},\n                                {label: '出生日期', prop: 'rybaCsrq',},\n                                {label: '血型', prop: 'rybaXx',},\n                                {label: '备注', prop: 'rybaBz',},\n                                {label: '户籍所在地区划代码', prop: 'rybaHjqhdm'},\n                            ]\n                        },\n                        {\n                            label: '从业情况',\n                            prop: 'cyqk',\n                            icon: 'el-icon-info',\n                            column: [\n                                {label: '从业单位', prop: 'compName',},\n                                {label: '联系电话', prop: 'rybaLxdh',},\n                                {label: '从业人员类别', prop: 'rybaLb',dicData:ylcsDict.rylb},\n                                {label: '岗位名称', prop: 'rybaGwmc',},\n                                {label: '岗位职责', prop: 'rybaGwzrms',},\n                                {label: '从业人员编号', prop: 'rybaBh',},\n                                {label: '从业状态', prop: 'rybaCyzt',dicData:ylcsDict.ryzt},\n                                {label: '所属负责人', prop: 'rybaSsfzr',},\n                                {label: '所属负责人电话', prop: 'rybaSsfzrdh',},\n                                {label: '岗位编号', prop: 'rybaGwbh',},\n                                {label: '紧急联系人', prop: 'rybaJjlxr',},\n                                {label: '紧急联系人电话', prop: 'rybaJjlxrdh',},\n                                {label: '离职时间', prop: 'rybaLzsj',},\n                            ]\n                        },\n                    ]\n                },\n                option:{\n                    dialogWidth: '100%',\n                    dialogHeight: '100%',\n                    dialogFullscreen: true,\n                    page:false,\n                    align:'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn:false,\n                    delBtn:false,\n                    addBtn:false,\n                    viewBtn:false,\n                    menuWidth:'100',\n                    card:true,\n                    menu:false,\n                    column:[\n                        { label:\"人员姓名\", prop:\"rybaMc\",slot:true,search:true,},\n                        { label: \"工作地点\",prop: 'rylogGzdd',},\n                        { label:\"打卡时间\", prop:\"rylogDksj\",},\n                        { label:\"打卡类型\", prop:\"rylogDklx\",type:'select',dicData:ylcsDict.dklx},\n                        { label:\"打卡情况\", prop:\"sxbState\",search:true,type:'select',dicData:ylcsDict.dkqk},\n                        { label:\"岗位信息\", prop:\"rylogGwxx\",},\n                    ]\n                }\n            }\n        },\n        created(){\n            this.csbaBabh = this.csbaForm.csbaBabh\n            this.compId = this.csbaForm.compId\n        },\n        computed: {\n        },\n        watch: {\n            csbaForm: {\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n                handler() {\n                    this.csbaBabh = this.csbaForm.csbaBabh\n                    this.compId = this.csbaForm.compId\n                    this.getList(this.page,{});\n                },\n                deep: true\n            },\n        },\n        methods:{\n            getList(page, params) {\n                this.tableLoading = true\n                findRykqPage(Object.assign({\n                    current: page.currentPage,\n                    size: page.pageSize,\n                    csbaBabh:this.csbaBabh,\n                    compId:this.compId\n                }, params)).then(response => {\n                    this.tableData = response.data.data.records\n                    this.page.total = response.data.data.total\n                    this.tableLoading = false\n                })\n            },\n            handleFilter(param) {\n                this.page.page = 1;\n                this.getList(this.page, param);\n            },\n            getFormDetail(id) {\n                getRyKqDetail(id).then(response => {\n                    this.fromDetail = response.data.data\n                })\n            },\n            openRyxqDialog(row){\n                console.log(row.rylogId)\n                this.formView = true\n                this.formTitle = \"人员详情\"\n                this.getFormDetail(row.rylogId)\n            }\n        }\n    }\n</script>"],"sourceRoot":"src/views/portal/archive/ylcs/ryLog"}]}