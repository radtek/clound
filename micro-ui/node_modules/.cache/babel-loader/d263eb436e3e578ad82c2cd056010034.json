{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\routine-check\\checkList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\routine-check\\checkList.vue","mtime":1558749985878},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport _Array$isArray from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/array/is-array\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findCheckPage } from \"@/api/portal/archive/lvye/routineCheck\";\nimport { option, optionDetail } from \"@/const/crud/portal/archive/lvye/routineCheck\";\nexport default {\n  name: 'routineCheck',\n  props: [\"paramForm\"],\n  data: function data() {\n    return {\n      optionTable: option,\n      optionForm: optionDetail,\n      form: {},\n      searchFrom: {\n        unitId: undefined,\n        menuId: undefined\n      },\n      checkView: false,\n      tableLoading: false,\n      fromDetail: [],\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tableData: []\n    };\n  },\n  created: function created() {\n    this.searchFrom.menuId = this.paramForm.menuId;\n    this.searchFrom.unitId = this.paramForm.unitId;\n  },\n  computed: {},\n  watch: {\n    paramForm: {\n      //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n      handler: function handler() {\n        this.searchFrom.dwbh = this.paramForm.unitId;\n        this.searchFrom.menuId = this.paramForm.menuId;\n        this.findCheck(this.page, {});\n      },\n      deep: true\n    }\n  },\n  methods: {\n    preview: function preview(row) {\n      this.checkView = true;\n      this.fromDetail = row;\n    },\n    findCheck: function findCheck(page, params) {\n      var _this = this;\n\n      if (params) {\n        var date = params.checkTime;\n\n        if (date && _Array$isArray(date) && date.length === 2) {\n          params.startTime = date[0];\n          params.endTime = date[1];\n        }\n      }\n\n      this.tableLoading = true;\n      findCheckPage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize,\n        noHotel: this.searchFrom.unitId\n      }, params)).then(function (response) {\n        _this.tableData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    handleFilter: function handleFilter(param) {\n      console.log(this.$refs.checkTime);\n      this.page.page = 1;\n      this.findCheck(this.page, param);\n    }\n  }\n};",{"version":3,"sources":["checkList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-crud :option=\"optionTable\"\r\n                       :data=\"tableData\"\r\n                       v-model=\"form\"\r\n                       ref=\"crud\"\r\n                       :page=\"page\"\r\n                       @on-load=\"findCheck\"\r\n                       @search-change=\"handleFilter\"\r\n                       :table-loading=\"tableLoading\">\r\n                <template slot=\"mj\" slot-scope=\"scope\">\r\n                  <span> {{scope.row.jcmjZh}} {{scope.row.jcmjTwoZh==null?'':'、'+scope.row.jcmjTwoZh}}</span>\r\n                </template>\r\n                <template slot=\"menu\" slot-scope=\"scope\">\r\n                    <el-button\r\n                            size=\"small\"\r\n                            type=\"text\"\r\n                            icon=\"el-icon-view\"\r\n                            @click=\"preview(scope.row)\">详情\r\n                    </el-button>\r\n                </template>\r\n            </avue-crud>\r\n        </basic-container>\r\n\r\n        <el-dialog title=\"详情\"   :visible.sync=\"checkView\" append-to-body>\r\n\r\n                <avue-detail :option=\"optionForm\" v-model=\"fromDetail\" >\r\n\r\n                </avue-detail>\r\n            <div slot=\"footer\"\r\n                 class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"checkView=false\">关闭 </el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n\r\n    import {findCheckPage} from \"@/api/portal/archive/lvye/routineCheck\";\r\n    import {option,optionDetail}  from  \"@/const/crud/portal/archive/lvye/routineCheck\";\r\n\r\n    export default {\r\n        name: 'routineCheck',\r\n        props:[\"paramForm\"],\r\n        data(){\r\n            return {\r\n                optionTable:option,\r\n                optionForm:optionDetail,\r\n                form:{\r\n                },\r\n                searchFrom: {\r\n                    unitId: undefined,\r\n                    menuId: undefined,\r\n                },\r\n                checkView:false,\r\n                tableLoading: false,\r\n                fromDetail:[],\r\n                page: {\r\n                    total: 0, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10 // 每页显示多少条\r\n                },\r\n                tableData: [],\r\n\r\n            }\r\n        },\r\n        created(){\r\n           this.searchFrom.menuId=this.paramForm.menuId\r\n            this.searchFrom.unitId=this.paramForm.unitId\r\n        },\r\n        computed: {\r\n        },\r\n        watch: {\r\n            paramForm: {\r\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\r\n                handler() {\r\n                    this.searchFrom.dwbh = this.paramForm.unitId;\r\n                    this.searchFrom.menuId = this.paramForm.menuId;\r\n                    this.findCheck(this.page,{});\r\n                },\r\n                deep: true\r\n            },\r\n        },\r\n        methods:{\r\n            preview(row){\r\n              this.checkView=true\r\n                this.fromDetail=row\r\n            },\r\n            findCheck(page,params) {\r\n                if(params){\r\n                    let date=params.checkTime;\r\n                    if(date&&Array.isArray(date) && date.length === 2){\r\n                        params.startTime=date[0]\r\n                        params.endTime=date[1]\r\n                         }\r\n                }\r\n                this.tableLoading=true\r\n                findCheckPage(Object.assign({\r\n                    current: page.currentPage,\r\n                    size: page.pageSize,\r\n                    noHotel:this.searchFrom.unitId\r\n                },params)).then(response => {\r\n                    this.tableData = response.data.data.records\r\n                    this.page.total = response.data.data.total\r\n                    this.tableLoading = false\r\n                })\r\n            },\r\n\r\n            handleFilter(param) {\r\n                console.log(this.$refs.checkTime)\r\n                this.page.page = 1;\r\n                this.findCheck(this.page, param);\r\n            },\r\n\r\n        }\r\n    }\r\n</script>"],"sourceRoot":"src/views/portal/archive/lvye/routine-check"}]}