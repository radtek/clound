{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\hotel\\hotelList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\hotel\\hotelList.vue","mtime":1559729633847},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findListPage } from \"@/api/portal/archive/common/unitQuery\";\nimport hotelTab from \"./hotelTab\";\nexport default {\n  components: {\n    \"hotelTab\": hotelTab\n  },\n  props: [\"searchForm\"],\n  data: function data() {\n    return {\n      form: {\n        hname: ''\n      },\n      paramForm: {\n        menuId: undefined,\n        unitId: undefined\n      },\n      showDetail: false,\n      applyToBody: true,\n      detailTitle: '',\n      viewFlag: false,\n      tableLoading: false,\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tempSearchForm: {},\n      tableData: [],\n      option: {\n        dialogWidth: '100%',\n        dialogHeight: '100%',\n        dialogFullscreen: true,\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: false,\n        menuWidth: '100',\n        card: true,\n        column: [{\n          label: \"旅馆名称\",\n          prop: \"hname\",\n          search: true,\n          searchDefault: ''\n        }, {\n          label: \"旅馆类别\",\n          prop: \"hotelKind\",\n          dicUrl: '/portal/dict/getDict/LGLB/ly',\n          dicMethod: 'get'\n        }, {\n          label: \"行政区划\",\n          prop: \"cityCode\",\n          type: 'tree',\n          search: true,\n          searchFilterable: true,\n          dicUrl: '/portal/area/areaData',\n          dicMethod: 'get',\n          expandLevel: 1,\n          dicQuery: {},\n          props: {\n            label: \"name\",\n            value: 'code'\n          }\n        }, {\n          label: \"辖区派出所\",\n          prop: \"psCode\",\n          dicUrl: '/portal/dict/getDict/06/jzxt',\n          dicMethod: 'get',\n          overHidden: true\n        }, {\n          label: \"治安负责人\",\n          prop: \"socialDuty\"\n        }, {\n          label: \"企业状态\",\n          prop: \"state\",\n          search: true,\n          type: 'select',\n          searchFilterable: true,\n          dicUrl: '/portal/dict/getDict/0209/ly',\n          dicMethod: 'get'\n        }, {\n          label: \"总积分\",\n          prop: \"pointScore\"\n        }, {\n          label: \"积分等级\",\n          prop: \"pointType\",\n          search: true,\n          type: 'select',\n          searchFilterable: true,\n          dicUrl: '/admin/dict/type/jfdj',\n          dicMethod: 'get',\n\n          /*  searchMmultiple: true,*/\n          dicQuery: {}\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.form.hname = this.searchForm.dwmc;\n    this.option.column[0].searchDefault = this.form.hname;\n  },\n  computed: {},\n  methods: {\n    clearForm: function clearForm() {\n      this.tempSearchForm = {};\n    },\n    getList: function getList(page, params) {\n      var _this = this;\n\n      this.tableLoading = true;\n      findListPage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize\n      }, this.searchForm)).then(function (response) {\n        _this.tableData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    sizeChange: function sizeChange(size) {\n      this.page.pageSize = size;\n    },\n    searchChange: function searchChange(form) {\n      this.searchForm.dwmc = form.hname;\n      this.searchForm.placeType = form.placeType;\n      this.searchForm.placeState = form.state;\n      /* this.searchForm.pointType= form.pointType,*/\n\n      this.searchForm.orgCode = form.cityCode, this.tempSearchForm = this.searchForm;\n      this.getList(this.page, form);\n      this.$emit(\"changeCount\", this.searchForm);\n    },\n    handleDetail: function handleDetail(row) {\n      this.showDetail = true;\n      this.detailTitle = row.hname;\n      this.paramForm.menuId = this.searchForm.menuId;\n      this.paramForm.unitId = row.hnoHotel;\n    }\n  }\n};",{"version":3,"sources":["hotelList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"execution\">\n        <basic-container>\n            <avue-crud :option=\"option\"\n                       :data=\"tableData\"\n                       v-model=\"form\"\n                       ref=\"crud\"\n                       :page=\"page\"\n                       @size-change=\"sizeChange\"\n                       @search-reset=\"clearForm\"\n                       @on-load=\"getList\"\n                       @search-change=\"searchChange\"\n                       :table-loading=\"tableLoading\">\n\n                <template slot=\"menu\" slot-scope=\"scope\">\n                    <el-button size=\"mini\"\n                               type=\"text\"\n                               icon=\"el-icon-view\"\n                               @click=\"handleDetail(scope.row)\">查看\n                    </el-button>\n                </template>\n            </avue-crud>\n        </basic-container>\n\n        <el-dialog :title=\"detailTitle\" fullscreen :visible.sync=\"showDetail\" :append-to-body=\"applyToBody\">\n            <keep-alive>\n                <hotel-tab v-bind:param-form=\"paramForm\"/>\n            </keep-alive>\n\n        </el-dialog>\n\n\n    </div>\n</template>\n\n\n<script>\n    import {findListPage} from \"@/api/portal/archive/common/unitQuery\";\n    import hotelTab from \"./hotelTab\";\n\n    export default {\n        components: {\n            \"hotelTab\": hotelTab,\n        },\n        props: [\"searchForm\"],\n        data() {\n            return {\n                form: {\n                    hname: ''\n                },\n                paramForm: {\n                    menuId: undefined,\n                    unitId: undefined,\n                },\n                showDetail: false,\n                applyToBody: true,\n                detailTitle: '',\n                viewFlag: false,\n                tableLoading: false,\n                page: {\n                    total: 0, // 总页数\n                    currentPage: 1, // 当前页数\n                    pageSize: 10 // 每页显示多少条\n                },\n                tempSearchForm: {},\n                tableData: [],\n                option: {\n                    dialogWidth: '100%',\n                    dialogHeight: '100%',\n                    dialogFullscreen: true,\n                    page: false,\n                    align: 'center',\n                    indexLabel: '序号',\n                    border: true,\n                    index: true,\n                    editBtn: false,\n                    delBtn: false,\n                    addBtn: false,\n                    viewBtn: false,\n                    menuWidth: '100',\n                    card: true,\n                    column: [\n                        {label: \"旅馆名称\", prop: \"hname\", search: true, searchDefault: ''},\n                        {\n                            label: \"旅馆类别\", prop: \"hotelKind\",\n                            dicUrl: '/portal/dict/getDict/LGLB/ly',\n                            dicMethod: 'get',\n                        },\n                        {\n                            label: \"行政区划\", prop: \"cityCode\", type: 'tree', search: true,\n                            searchFilterable: true,\n                            dicUrl: '/portal/area/areaData',\n                            dicMethod: 'get',\n                            expandLevel: 1,\n                            dicQuery: {},\n                            props: {\n                                label: \"name\",\n                                value: 'code'\n                            }\n                        },\n                        {label: \"辖区派出所\", prop: \"psCode\",\n                            dicUrl: '/portal/dict/getDict/06/jzxt',\n                            dicMethod: 'get',\n                            overHidden:true,},\n                        {label: \"治安负责人\", prop: \"socialDuty\"},\n                        {\n                            label: \"企业状态\",\n                            prop: \"state\",\n                            search: true,\n                            type: 'select',\n                            searchFilterable: true,\n                            dicUrl: '/portal/dict/getDict/0209/ly',\n                            dicMethod: 'get',\n                        },\n                        {\n                            label: \"总积分\", prop: \"pointScore\",\n\n                        },\n                        {\n                            label: \"积分等级\", prop: \"pointType\", search: true, type: 'select', searchFilterable: true\n                            , dicUrl: '/admin/dict/type/jfdj',\n                            dicMethod: 'get',\n                          /*  searchMmultiple: true,*/\n                            dicQuery: {},\n                        },\n                        /* {  label:\"床位数\", prop:\"bedNum\", hide:true ,},\n                         {  label:\"数据加密方式\", prop:\"dbEncrypt\", hide:true ,},\n                         {  label:\"标记位\", prop:\"flag\", hide:true ,},\n                         {  label:\"床位数\", prop:\"floors\", hide:true ,},\n                         {  label:\"等级\", prop:\"grade\", hide:true ,},\n                         {  label:\"地址\", prop:\"haddress\", hide:true ,},\n                         {  label:\"旅馆编号\", prop:\"hnoHotel\",hide:true },\n                         {  label:\"旅馆前台类型\", prop:\"hotelType\", hide:true ,},\n                         {  label:\"旅馆前台版本\", prop:\"hotelVer\", hide:true ,},\n                         {  label:\"后台入库时间\", prop:\"inputTime\", hide:true ,},\n                         {  label:\"法人\", prop:\"legalPerson\", hide:true ,},\n                         {  label:\"联机时间\", prop:\"linkDate\", hide:true ,},\n                         {  label:\"负责人\", prop:\"principal\", hide:true ,},\n                         {  label:\"组织机构代码\", prop:\"psorgan\", hide:true ,},\n                         {  label:\"其它类型\", prop:\"qtlx\", hide:true ,},\n                         {  label:\"备注\", prop:\"remark\", hide:true ,},\n                         {  label:\"房间数\", prop:\"roomNum\", hide:true ,},\n                         {  label:\"保安部电话\", prop:\"safeTel\", hide:true ,},\n                         {  label:\"星级\", prop:\"stars\", hide:true ,},\n                         {  label:\"状态改变日期\", prop:\"stateDate\", hide:true ,},\n                         {  label:\"辖区派出所\", prop:\"station\", hide:true ,},\n                         {  label:\"辖区派出所\", prop:\"stationEx\", hide:true ,},\n                         {  label:\"联系电话\", prop:\"telPhone\", hide:true ,},\n                         {  label:\"前台第三方软件名称\", prop:\"thirdPart\", hide:true ,},\n                         {  label:\"上传方式\", prop:\"transType\", hide:true ,},\n                         {  label:\"验证码\", prop:\"validateCode\", hide:true ,}*/\n                    ]\n                }\n            }\n        },\n        created() {\n            this.form.hname = this.searchForm.dwmc\n            this.option.column[0].searchDefault = this.form.hname\n        },\n        computed: {},\n        methods: {\n\n            clearForm() {\n                this.tempSearchForm = {}\n            },\n            getList(page, params) {\n                this.tableLoading = true\n                findListPage(Object.assign({\n                    current: page.currentPage,\n                    size: page.pageSize,\n                }, this.searchForm)).then(response => {\n                    this.tableData = response.data.data.records\n                    this.page.total = response.data.data.total\n                    this.tableLoading = false\n                })\n            },\n            sizeChange(size) {\n                this.page.pageSize = size;\n            },\n            searchChange(form) {\n                    this.searchForm.dwmc = form.hname\n                    this.searchForm.placeType= form.placeType\n                    this.searchForm.placeState=form.state\n                       /* this.searchForm.pointType= form.pointType,*/\n                    this.searchForm.orgCode=form.cityCode,\n                    this.tempSearchForm=this.searchForm\n\n\n                this.getList(this.page, form)\n                this.$emit(\"changeCount\", this.searchForm);\n\n            },\n\n\n            handleDetail(row) {\n                this.showDetail = true\n                this.detailTitle = row.hname\n                this.paramForm.menuId = this.searchForm.menuId\n                this.paramForm.unitId = row.hnoHotel\n            }\n        }\n    }\n</script>\n\n\n"],"sourceRoot":"src/views/portal/archive/lvye/hotel"}]}