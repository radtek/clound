{"remainingRequest":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\employee\\employeeList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\intellij work\\micro-ui\\src\\views\\portal\\archive\\lvye\\employee\\employeeList.vue","mtime":1559523944992},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\intellij work\\micro-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"G:\\\\intellij work\\\\micro-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findEmployeePage } from \"@/api/portal/archive/lvye/employee\";\nimport employeeDetail from '../employee/employeeDetail';\nexport default {\n  components: {\n    employeeDetail: employeeDetail\n  },\n  name: 'employee',\n  props: [\"paramForm\"],\n  data: function data() {\n    return {\n      form: {},\n      searchFrom: {\n        unitId: undefined,\n        menuId: undefined\n      },\n      formDetail: {},\n      formView: false,\n      formTitle: '',\n      tableLoading: false,\n      page: {\n        total: 0,\n        // 总页数\n        currentPage: 1,\n        // 当前页数\n        pageSize: 10 // 每页显示多少条\n\n      },\n      tableData: [],\n      employeeData: [],\n      option: {\n        dialogWidth: '100%',\n        dialogHeight: '100%',\n        dialogFullscreen: true,\n        page: false,\n        align: 'center',\n        indexLabel: '序号',\n        border: true,\n        index: true,\n        editBtn: false,\n        delBtn: false,\n        addBtn: false,\n        viewBtn: false,\n        refreshBtn: false,\n        searchBtn: false,\n        columnBtn: false,\n        menu: false,\n        card: true,\n        column: [{\n          label: \"姓名\",\n          prop: 'xm',\n          slot: true,\n          search: true\n        }, {\n          label: \"证件号码\",\n          prop: \"zjhm\",\n          search: true\n        }, {\n          label: \"性别\",\n          prop: \"xb\",\n          dicUrl: '/portal/dict/getDict/0122/ly',\n          dicMethod: 'get',\n          searchFilterable: true\n        }, {\n          label: \"出生日期\",\n          prop: \"csrq\"\n        }, {\n          label: \"类别\",\n          prop: \"rylb\",\n          search: true,\n          type: 'select',\n          dicUrl: '/portal/dict/getDict/RYLB/ly',\n          dicMethod: 'get',\n          searchFilterable: true\n        }, {\n          label: \"岗位名称\",\n          prop: \"gzgw\",\n          dicUrl: '/portal/dict/getDict/GZGW/ly',\n          dicMethod: 'get'\n        }, {\n          label: \"上岗日期\",\n          prop: \"sgrq\"\n        }, {\n          label: \"离岗日期\",\n          prop: \"lgrq\"\n        }, {\n          label: \"状态\",\n          prop: \"ryzt\",\n          type: 'select',\n          search: true,\n          searchDefault: '',\n          dicUrl: '/portal/dict/getDict/RYZT/ly',\n          dicMethod: 'get',\n          searchFilterable: true\n        }, {\n          label: \"七类人员类型\",\n          prop: \"rybaLb\"\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.searchFrom.menuId = this.paramForm.menuId;\n    this.searchFrom.unitId = this.paramForm.unitId;\n  },\n  computed: {},\n  watch: {\n    paramForm: {\n      //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\n      handler: function handler() {\n        this.searchFrom.dwbh = this.paramForm.unitId;\n        this.searchFrom.menuId = this.paramForm.menuId;\n        this.findEmployee(this.page, {});\n      },\n      deep: true\n    }\n  },\n  methods: {\n    findEmployee: function findEmployee(page, params) {\n      var _this = this;\n\n      this.tableLoading = true;\n      findEmployeePage(_Object$assign({\n        current: page.currentPage,\n        size: page.pageSize,\n        dwbh: this.searchFrom.unitId\n      }, params)).then(function (response) {\n        _this.employeeData = response.data.data.records;\n        _this.page.total = response.data.data.total;\n        _this.tableLoading = false;\n      });\n    },\n    handleFilter: function handleFilter(param) {\n      this.page.page = 1;\n      this.findEmployee(this.page, param);\n    },\n    viewDialog: function viewDialog(row) {\n      this.formView = true;\n      this.formDetail = row;\n    }\n  }\n};",{"version":3,"sources":["employeeList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"execution\">\r\n        <basic-container>\r\n            <avue-crud :option=\"option\"\r\n                       :data=\"employeeData\"\r\n                       v-model=\"form\"\r\n                       ref=\"crud\"\r\n                       :page=\"page\"\r\n                       @on-load=\"findEmployee\"\r\n                       @search-change=\"handleFilter\"\r\n                       :table-loading=\"tableLoading\">\r\n\r\n                <template slot=\"xm\" slot-scope=\"scope\">\r\n                    <button type=\"button\" class=\"el-button el-button--text el-button--small\"\r\n                    @click=\"viewDialog(scope.row)\"\r\n                    >{{scope.row.xm}}</button>\r\n                </template>\r\n            </avue-crud>\r\n        </basic-container>\r\n\r\n        <el-dialog title=\"详情\"  :visible.sync=\"formView\" fullscreen :append-to-body=\"true\">\r\n           <employee-detail v-bind:detail-row=\"formDetail\"/>\r\n            <div slot=\"footer\"\r\n                 class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"formView=false\">关 闭\r\n                </el-button>\r\n            </div>\r\n\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n\r\n    import {findEmployeePage} from \"@/api/portal/archive/lvye/employee\";\r\n    import  employeeDetail from '../employee/employeeDetail'\r\n\r\n    export default {\r\n        components:{\r\n            employeeDetail\r\n        },\r\n        name: 'employee',\r\n        props:[\"paramForm\"],\r\n        data(){\r\n            return {\r\n                form:{\r\n                },\r\n                searchFrom: {\r\n                    unitId: undefined,\r\n                    menuId: undefined,\r\n                },\r\n\r\n                formDetail:{},\r\n                formView:false,\r\n                formTitle:'',\r\n                tableLoading: false,\r\n                page: {\r\n                    total: 0, // 总页数\r\n                    currentPage: 1, // 当前页数\r\n                    pageSize: 10 // 每页显示多少条\r\n                },\r\n\r\n                tableData: [],\r\n                employeeData:[],\r\n                option:{\r\n                    dialogWidth: '100%',\r\n                    dialogHeight: '100%',\r\n                    dialogFullscreen: true,\r\n                    page:false,\r\n                    align:'center',\r\n                    indexLabel: '序号',\r\n                    border: true,\r\n                    index: true,\r\n                    editBtn:false,\r\n                    delBtn:false,\r\n                    addBtn:false,\r\n                    viewBtn:false,\r\n                    refreshBtn: false,\r\n                    searchBtn:false,\r\n                    columnBtn:false,\r\n                    menu:false,\r\n                    card:true,\r\n                    column:[\r\n                        { label: \"姓名\",prop: 'xm',slot:true,search:true},\r\n                        { label:\"证件号码\", prop:\"zjhm\",search:true},\r\n                        {\r\n                            label: \"性别\", prop: \"xb\",\r\n                            dicUrl: '/portal/dict/getDict/0122/ly',\r\n                            dicMethod: 'get',\r\n                            searchFilterable: true\r\n                        },\r\n                        { label:\"出生日期\", prop:\"csrq\",},\r\n                        {\r\n                            label: \"类别\", prop: \"rylb\", search: true, type: 'select',\r\n\r\n                            dicUrl: '/portal/dict/getDict/RYLB/ly',\r\n                            dicMethod: 'get',\r\n                            searchFilterable: true\r\n                        },\r\n                        {\r\n                            label: \"岗位名称\", prop: \"gzgw\",\r\n                            dicUrl: '/portal/dict/getDict/GZGW/ly',\r\n                            dicMethod: 'get',\r\n                        },\r\n                        { label:\"上岗日期\", prop:\"sgrq\",},\r\n                        { label:\"离岗日期\", prop:\"lgrq\",},\r\n                        {\r\n                            label: \"状态\",\r\n                            prop: \"ryzt\",\r\n                            type: 'select',\r\n                            search: true,\r\n                            searchDefault: '',\r\n                            dicUrl: '/portal/dict/getDict/RYZT/ly',\r\n                            dicMethod: 'get',\r\n                            searchFilterable: true\r\n                        },\r\n                        { label:\"七类人员类型\", prop:\"rybaLb\",},\r\n                        ]\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n           this.searchFrom.menuId=this.paramForm.menuId\r\n            this.searchFrom.unitId=this.paramForm.unitId\r\n        },\r\n        computed: {\r\n        },\r\n        watch: {\r\n            paramForm: {\r\n                //深度监控父组件传递过来的值、否则无法根据传递过来的值更新数据\r\n                handler() {\r\n                    this.searchFrom.dwbh = this.paramForm.unitId;\r\n                    this.searchFrom.menuId = this.paramForm.menuId;\r\n\r\n                    this.findEmployee(this.page,{});\r\n                },\r\n                deep: true\r\n            },\r\n        },\r\n        methods:{\r\n            findEmployee(page,params) {\r\n                this.tableLoading=true\r\n                findEmployeePage(Object.assign({\r\n                    current: page.currentPage,\r\n                    size: page.pageSize,\r\n                    dwbh:this.searchFrom.unitId\r\n                },params)).then(response => {\r\n                    this.employeeData = response.data.data.records\r\n                    this.page.total = response.data.data.total\r\n                    this.tableLoading = false\r\n\r\n                })\r\n            },\r\n\r\n            handleFilter(param) {\r\n                this.page.page = 1;\r\n                this.findEmployee(this.page, param);\r\n            },\r\n            viewDialog(row){\r\n                this.formView=true\r\n                this.formDetail=row\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n"],"sourceRoot":"src/views/portal/archive/lvye/employee"}]}