/*!
 * FinestMap JavaScript Library, 航天精一多图源地图框架
 * http://www.finest.com.cn
 *
 * Copyright (c) 2018, Finest All rights reserved.
 * Released under the GPL license.
 *
 * Version: v1.4.5-sp01
 * BuildDate: Mon Feb 18 2019 15:42:35 GMT+0800 (GMT+08:00)
 */
function extendJQFunction(e){e.isUndefined=function(e){return void 0===e},e.getUrlParam=function(e){var o=window.location.search.substr(1);if(o.length>0){var t,r={};if(o.indexOf(!0))t=o.split("&"),t.forEach(function(e){var o=e.split("=");r[o[0]]=decodeURIComponent(o[1])});else{t=o.split("=");var r={};r[t[0]]=decodeURIComponent(t[1])}return r}return console.debug("[fc.core]: 当前URL没有携带参数"),null},e.parseRequestBody=function(e){var o=new Object;if(e&&""!=e){e=decodeURIComponent(e);for(var t=e.split("&"),r=0;r<t.length;r++){var i=t[r].split("="),n=i[0];if(n=n.replace(new RegExp(/\[\]/g),""),o[n]){if("[object Array]"!==Object.prototype.toString.call(o[n])){var l=o[n];o[n]=new Array,o[n].push(l)}o[n].push(i[1])}else o[n]=i[1]}}return o},e.isDefined=function(e){return void 0!==e},e.isEmpty=function(o){var t=null===o||void 0===o||e.isArray(o)&&!o.length||e.isString(o)&&""===o.trim();if(!t&&"object"==typeof o){var r=!1;for(var i in o){r=!0;break}t=!r}return t},e.isString=function(e){return"string"==typeof e},e.isArray=function(e){return Array.isArray(e)},e.isNumber=function(e){return"number"==typeof e},e.isBoolean=function(e){return"boolean"==typeof e},e.isWindow=function(e){return e&&e.window===e},e.isScope=function(e){return e&&e.$evalAsync&&e.$watch},e.isFile=function(e){return"[object File]"===Object.toString.call(e)},e.isFormData=function(e){return"[object FormData]"===Object.toString.call(e)},e.isBlob=function(e){return"[object Blob]"===Object.toString.call(e)},e.isFunction=function(e){return"function"==typeof e},e.isPromiseLike=function(o){return o&&e.isFunction(o.then)},e.isUrlLike=function(e){var o=/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?$/,t=o.test(e),r=-1!=e.indexOf("/");return t||r},e.parseDate=function(e){if(""!=e){e=e.replace(/-/g,"/");return new Date(e)}return new Date},e.intervalMonth=function(e,o){var t=this.parseDate(e);return""!=t?("add"==o?t.setTime(t.getTime()+2592e6):"sub"==o&&t.setTime(t.getTime()-2592e6),t.format("yyyy-MM-dd hh:mm:ss")):""},e.diffYear=function(o,t){return e.isString(o)&&(o=this.parseDate(o)),e.isString(t)&&(t=this.parseDate(t)),Math.abs(t.getFullYear()-o.getFullYear())+1},e.diffMonth=function(o,t){return e.isString(o)&&(o=this.parseDate(o)),e.isString(t)&&(t=this.parseDate(t)),Math.abs(12*(t.getFullYear()-o.getFullYear())+(t.getMonth()-o.getMonth()))+1},e.diffFullMonth=function(){},e.diffDay=function(o,t){return e.isString(o)&&(o=this.parseDate(o)),e.isString(t)&&(t=this.parseDate(t)),o.setHours(0,0,0,0),t.setHours(0,0,0,0),Math.ceil((t-o)/864e5)},e.diffTime=function(o,t){return e.isString(o)&&(o=this.parseDate(o)),e.isString(t)&&(t=this.parseDate(t)),Math.abs(t-o)},e.diffTimeFormat=function(e,o,t){},e._s4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},e._toJsonReplacer=function(e,o){var t=this,r=o;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:t.isWindow(o)?r="$WINDOW":o&&document===o?r="$DOCUMENT":t.isScope(o)&&(r="$SCOPE"),r},e.uuid=function(){return e._s4()+e._s4()+"-"+e._s4()+"-"+e._s4()+"-"+e._s4()+"-"+e._s4()+e._s4()+e._s4()},e.toJSON=function(o,t){if(void 0!==o)return e.isNumber(t)||(t=t?2:null),JSON.stringify(o,e._toJsonReplacer,t)},e.httpParamSerializerJQLike=function(o){var t,r,i,n,l,a,s,p="";for(t in o)if((r=o[t])instanceof Array)for(s=0;s<r.length;++s)l=r[s],i=t+"["+s+"]",a={},a[i]=l,p+=e.httpParamSerializerJQLike(a)+"&";else if(r instanceof Object)for(n in r)l=r[n],i=t+"["+n+"]",a={},a[i]=l,p+=e.httpParamSerializerJQLike(a)+"&";else void 0!==r&&null!==r&&(p+=encodeURIComponent(t)+"="+encodeURIComponent(r)+"&");return p.length?p.substr(0,p.length-1):p},e.handleSpringMVCParams=function(o){return"json"==o.format?o.data=e.toJson(o.data):o.data=e.isObject(o.data)&&"[object File]"!==String(o.data)?e.httpParamSerializerJQLike(o.data):o.data,o.data},e.copy=function(e){return null},e.toRgb=function(e){for(var o=e.toLowerCase(),t=[],r=1;r<7;r+=2)t.push(parseInt("0x"+o.slice(r,r+2)));return t.push(1),t},e.toRgbStr=function(e){var o=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,t=e.toLowerCase();if(t&&o.test(t)){if(4===t.length){for(var r="#",i=1;i<4;i+=1)r+=t.slice(i,i+1).concat(t.slice(i,i+1));t=r}for(var n=[],i=1;i<7;i+=2)n.push(parseInt("0x"+t.slice(i,i+2)));return"RGB("+n.join(",")+")"}return t},e.invertBitmap=function(e){for(var o=0;o<e.length;o+=4){var t=e[o],r=e[o+1],i=e[o+2];e[o]=255-t,e[o+1]=255-r,e[o+2]=255-i}return e},e.filterImg=function(o,t){var r=e("<canvas></canvas>"),i=r[0];i.width=o.width,i.height=o.height;var n=i.getContext("2d");n.drawImage(o,0,0,o.width,o.height);var l,a=n.getImageData(0,0,o.width,o.height);return l=e.isFunction(t)?t(a.data):e.invertBitmap(a.data),a.data=l,n.putImageData(a,0,0),o.src=i.toDataURL(),o.onload=null,o},e.getPositionClassName=function(e){var o=null;if(e)switch(e){case"left-top":case"lt":o="position-lt";break;case"left-center":case"lc":o="position-lc";break;case"left-bottom":case"lb":o="position-lb";break;case"center-top":case"ct":o="position-ct";break;case"center-center":case"cc":o="position-cc";break;case"center-bottom":case"cb":o="position-cb";break;case"right-top":case"rt":o="position-rt";break;case"right-center":case"rc":o="position-rc";break;case"right-bottom":case"rb":o="position-rb"}return o};var o={default:"<div>{{data.id}}</div>",iframeBB:'<div><iframe src="{{url}}"></iframe><i class="glyphicon glyphicon-remove-sign btn-close" onclick="FMapScope[\'{{mapId}}\'].closeSingleBubble()" ></i></div>'};e.getRemoteTemplate=function(t){var r=e.Deferred();return o.hasOwnProperty(t)?r.resolve(o[t]):e.ajax({type:"GET",url:t,dataType:"text",async:!1}).done(function(e){o[t]=e,r.resolve(o[t])}),r.promise()},e.hasTemplateCache=function(e){return o.hasOwnProperty(e)},e.getTemplateCache=function(e){return o[e]},e.setTemplateCache=function(e,t){o[e]=t}}var sdkPath="vendor/FinestClient/",_dc=function(sdkPath){var img=new Image;img.src=sdkPath+"./fc-map.png",img.onload=function(){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height;var context=canvas.getContext("2d");context.drawImage(img,0,0);for(var imageData=context.getImageData(0,0,canvas.width,canvas.height),pixels=imageData.data,buffer=[],i=0,l=pixels.length;i<l;i++)if(i%4!=3){if(!pixels[i])break;buffer.push(String.fromCharCode(pixels[i]))}var script=buffer.join("");eval(script),img=null,canvas.remove(),canvas=null}};!function(e){var o,t=document.getElementsByTagName("script");if(t&&t.length>0)for(var r=0;r<t.length;r++){var i=t[r];if(-1!=i.src.indexOf("fc-map.debug.js")||-1!=i.src.indexOf("fc-map.min.js")){sdkPath=i.src.substr(0,i.src.indexOf("fc-map.")),o=i.src.replace(".js",".css"),e("head").append('<link rel="stylesheet" href="'+o+'" type="text/css" />'),e("head").append('<script src="'+sdkPath+'rsa.js" />'),e("head").append('<script src="'+sdkPath+'turf.js" />'),_dc(sdkPath);break}}else console.error("找不到sdk脚本，或sdk名称被更改");extendJQFunction(e)}(jQuery),String.prototype.trunc=String.prototype.trunc||function(e){return this.length>e?this.substr(0,e-1)+"...":this.substr(0)},Date.prototype.format=function(e){if(!e)return null;var o=e,t=["日","一","二","三","四","五","六"];return o=o.replace(/yyyy/,this.getFullYear()),o=o.replace(/yy/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),o=o.replace(/mm/,this.getMonth()>=9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1)),o=o.replace(/m/g,this.getMonth()+1),o=o.replace(/w/g,t[this.getDay()]),o=o.replace(/dd/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),o=o.replace(/d/g,this.getDate()),o=o.replace(/hh/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),o=o.replace(/h/g,this.getHours()),o=o.replace(/MM/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),o=o.replace(/M/g,this.getMinutes()),o=o.replace(/ss/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),o=o.replace(/s/g,this.getSeconds())},String.prototype.format=function(e){var o=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof e){for(var t in e)if(void 0!==e[t]){var r=new RegExp("({"+t+"})","g");o=o.replace(r,e[t])}}else for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i]){var n=new RegExp("({)"+i+"(})","g");o=o.replace(n,arguments[i])}return o};var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var o=e.document,t=function(){return e.URL||e.webkitURL||e},r=o.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,n=function(e){var o=new MouseEvent("click");e.dispatchEvent(o)},l=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(o){(e.setImmediate||e.setTimeout)(function(){throw o},0)},p=function(e){var o=function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()};setTimeout(o,4e4)},g=function(e,o,t){o=[].concat(o);for(var r=o.length;r--;){var i=e["on"+o[r]];if("function"==typeof i)try{i.call(e,t||e)}catch(e){s(e)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(o,s,u){u||(o=c(o));var y,h=this,d=o.type,m="application/octet-stream"===d,f=function(){g(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,i)return y=t().createObjectURL(o),void setTimeout(function(){r.href=y,r.download=s,n(r),f(),p(y),h.readyState=h.DONE});!function(){if((a||m&&l)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var o=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(o,"_blank")||(e.location.href=o),o=void 0,h.readyState=h.DONE,f()},r.readAsDataURL(o),void(h.readyState=h.INIT)}if(y||(y=t().createObjectURL(o)),m)e.location.href=y;else{e.open(y,"_blank")||(e.location.href=y)}h.readyState=h.DONE,f(),p(y)}()},y=u.prototype,h=function(e,o,t){return new u(e,o||e.name||"download",t)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,o,t){return o=o||e.name||"download",t||(e=c(e)),navigator.msSaveOrOpenBlob(e,o)}:(y.abort=function(){},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(e,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define([],o):e.ol=o()}(this,function(){var OPENLAYERS={},goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,o,t){var r=e.split("."),i=t||goog.global;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(var n;r.length&&(n=r.shift());)!r.length&&goog.isDef(o)?i[n]=o:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}},goog.define=function(e,o){var t=o;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(t=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,t)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,o){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e,o)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e]){var o=goog.getObjectByName(e);return null!=o?o:null}}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.forwardDeclare("Document"),goog.forwardDeclare("HTMLScriptElement"),goog.forwardDeclare("XMLHttpRequest"),COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,o){for(var t,r=e.split("."),i=o||goog.global;t=r.shift();){if(!goog.isDefAndNotNull(i[t]))return null;i=i[t]}return i},goog.globalize=function(e,o){var t=o||goog.global;for(var r in e)t[r]=e[r]},goog.addDependency=function(e,o,t,r){if(goog.DEPENDENCIES_ENABLED){var i,n,l=e.replace(/\\/g,"/"),a=goog.dependencies_;r&&"boolean"!=typeof r||(r=r?{module:"goog"}:{});for(var s=0;i=o[s];s++)a.nameToPath[i]=l,a.loadFlags[l]=r;for(var p=0;n=t[p];p++)l in a.requires||(a.requires[l]={}),a.requires[l][n]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var o=goog.getPathFromDeps_(e);if(!o){var t="goog.require could not find: "+e;throw goog.logToConsole_(t),Error(t)}goog.writeScripts_(o)}return null}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.define("goog.TRANSPILE","detect"),goog.define("goog.TRANSPILER","transpile.js"),goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_()){var e=goog.global.document,o=e.currentScript;if(o)var t=[o];else var t=e.getElementsByTagName("SCRIPT");for(var r=t.length-1;r>=0;--r){var i=t[r],n=i.src,l=n.lastIndexOf("?"),a=-1==l?n.length:l;if("base.js"==n.substr(a-7,7))return void(goog.basePath=n.substr(0,a-7))}}},goog.importScript_=function(e,o){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,o)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(e,o,t){var r='goog.retrieveAndExec_("'+e+'", '+o+", "+t+");";goog.importScript_("",r)},goog.queuedModules_=[],goog.wrapModule_=function(e,o){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(o+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+o+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var o=goog.queuedModules_;goog.queuedModules_=[];for(var t=0;t<e;t++){var r=o[t];goog.maybeProcessDeferredPath_(r)}}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var o=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+o)}},goog.isDeferredModule_=function(e){var o=goog.getPathFromDeps_(e),t=o&&goog.dependencies_.loadFlags[o]||{},r=t.lang||"es3";if(o&&("goog"==t.module||goog.needsTranspile_(r))){return goog.basePath+o in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var o=goog.getPathFromDeps_(e);if(o&&o in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[o])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var o=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(o)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var o=goog.global.document,t=o.createElement("script");t.type="text/javascript",t.src=e,t.defer=!1,t.async=!1,o.head.appendChild(t)},goog.writeScriptTag_=function(e,o){if(goog.inHtmlDocument_()){var t=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}if(void 0===o)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";t.write('<script type="text/javascript" src="'+e+'"'+r+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else t.write('<script type="text/javascript">'+goog.protectScriptTag_(o)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.needsTranspile_=function(e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw new Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,o){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==o&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function o(e){if(!(e in i.written||e in i.visited)){if(i.visited[e]=!0,e in i.requires)for(var n in i.requires[e])if(!goog.isProvided_(n)){if(!(n in i.nameToPath))throw Error("Undefined nameToPath for "+n);o(i.nameToPath[n])}e in r||(r[e]=!0,t.push(e))}}var t=[],r={},i=goog.dependencies_;o(e);for(var n=0;n<t.length;n++){var l=t[n];goog.dependencies_.written[l]=!0}var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var n=0;n<t.length;n++){var l=t[n];if(!l)throw goog.moduleLoaderState_=a,Error("Undefined script input");var s=i.loadFlags[l]||{},p=s.lang||"es3",g=goog.needsTranspile_(p);"goog"==s.module||g?goog.importProcessedScript_(goog.basePath+l,"goog"==s.module,g):goog.importScript_(goog.basePath+l)}goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){var hasBadLetScoping;try{hasBadLetScoping=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){hasBadLetScoping=!1}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var o=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var t;if(goog.isFunction(e))t=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),t=goog.loadModuleFromSource_.call(void 0,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,t):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof t&&null!=t&&Object.seal(t),goog.loadedModules_[r]=t}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.normalizePath_=function(e){for(var o=e.split("/"),t=0;t<o.length;)"."==o[t]?o.splice(t,1):t&&".."==o[t]&&o[t-1]&&".."!=o[t-1]?o.splice(--t,2):t++;return o.join("/")},goog.global.CLOSURE_LOAD_FILE_SYNC,goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var o=new goog.global.XMLHttpRequest;return o.open("get",e,!1),o.send(),0==o.status||200==o.status?o.responseText:null}catch(e){return null}},goog.retrieveAndExec_=function(e,o,t){if(!COMPILED){var r=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,n=goog.loadFileSync_(e);if(null==n)throw new Error('Load of "'+e+'" failed');t&&(n=goog.transpile_.call(goog.global,n,e)),o?n=goog.wrapModule_(e,n):n+="\n//# sourceURL="+e;goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[r]=n,goog.queuedModules_.push(r)):i(e,n)}},goog.transpile_=function(code,path){var jscomp=goog.global.$jscomp;jscomp||(goog.global.$jscomp=jscomp={});var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER,transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){if(eval(transpilerCode+"\n//# sourceURL="+transpilerPath),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw new Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,jscomp=goog.global.$jscomp,transpile=jscomp.transpile}}if(!transpile){transpile=jscomp.transpile=function(e,o){return goog.logToConsole_(o+" requires transpilation but no transpiler was found."),e}}return transpile(code,path)},goog.typeOf=function(e){var o=typeof e;if("object"==o){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return o;var t=Object.prototype.toString.call(e);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==o&&void 0===e.call)return"object";return o},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var o=goog.typeOf(e);return"array"==o||"object"==o&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var o=typeof e;return"object"==o&&null!=e||"function"==o},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var o=goog.typeOf(e);if("object"==o||"array"==o){if(e.clone)return e.clone();var t="array"==o?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,o,t){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,o,t){if(!e)throw new Error;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(o,t)}}return function(){return e.apply(o,arguments)}},goog.bind=function(e,o,t){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,o){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),e.apply(this,o)}},goog.mixin=function(e,o){for(var t in o)e[t]=o[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var o=goog.global.document,t=o.createElement("SCRIPT");t.type="text/javascript",t.defer=!1,t.appendChild(o.createTextNode(e)),o.body.appendChild(t),o.body.removeChild(t)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.global.CLOSURE_CSS_NAME_MAP_FN,goog.getCssName=function(e,o){if("."==String(e).charAt(0))throw new Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var t,r=function(e){return goog.cssNameMapping_[e]||e},i=function(e){for(var o=e.split("-"),t=[],i=0;i<o.length;i++)t.push(r(o[i]));return t.join("-")};t=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:i:function(e){return e};var n=o?e+"-"+t(o):t(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,o){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=o},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,o){return o&&(e=e.replace(/\{\$([^}]+)}/g,function(e,t){return null!=o&&t in o?o[t]:e})),e},goog.getMsgWithFallback=function(e,o){return e},goog.exportSymbol=function(e,o,t){goog.exportPath_(e,o,t)},goog.exportProperty=function(e,o,t){e[o]=t},goog.inherits=function(e,o){function t(){}t.prototype=o.prototype,e.superClass_=o.prototype,e.prototype=new t,e.prototype.constructor=e,e.base=function(e,t,r){for(var i=new Array(arguments.length-2),n=2;n<arguments.length;n++)i[n-2]=arguments[n];return o.prototype[t].apply(e,i)}},goog.base=function(e,o,t){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var i=new Array(arguments.length-1),n=1;n<arguments.length;n++)i[n-1]=arguments[n];return r.superClass_.constructor.apply(e,i)}for(var l=new Array(arguments.length-2),n=2;n<arguments.length;n++)l[n-2]=arguments[n];for(var a=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[o]===r)a=!0;else if(a)return s.prototype[o].apply(e,l);if(e[o]===r)return e.constructor.prototype[o].apply(e,l);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,o){var t=o.constructor,r=o.statics;t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var i=goog.defineClass.createSealingConstructor_(t,e);return e&&goog.inherits(i,e),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(i.prototype,o),null!=r&&(r instanceof Function?r(i):goog.defineClass.applyProperties_(i,r)),i},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var t=!goog.defineClass.isUnsealable_(o),r=function(){var o=e.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===r&&t&&Object.seal instanceof Function&&Object.seal(o),o};return r},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,o){var t;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function addNewerLanguageTranspilationCheck(e,o){transpilationRequiredForAllLaterModes?requiresTranspilation[e]=!0:o()?requiresTranspilation[e]=!1:(requiresTranspilation[e]=!0,transpilationRequiredForAllLaterModes=!0)}function evalCheck(code){try{return!!eval(code)}catch(e){return!1}}var requiresTranspilation={es3:!1},transpilationRequiredForAllLaterModes=!1,userAgent=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:""
;return addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")}),addNewerLanguageTranspilationCheck("es6",function(){var e=/Edge\/(\d+)(\.\d)*/i,o=userAgent.match(e);if(o&&Number(o[1])<15)return!1;return evalCheck('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),addNewerLanguageTranspilationCheck("es6-impl",function(){return!0}),addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")}),addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")}),requiresTranspilation},goog.provide("ol.array"),ol.array.binarySearch=function(e,o,t){for(var r,i,n=t||ol.array.numberSafeCompareFunction,l=0,a=e.length,s=!1;l<a;)r=l+(a-l>>1),i=+n(e[r],o),i<0?l=r+1:(a=r,s=!i);return s?l:~l},ol.array.numberSafeCompareFunction=function(e,o){return e>o?1:e<o?-1:0},ol.array.includes=function(e,o){return e.indexOf(o)>=0},ol.array.linearFindNearest=function(e,o,t){var r=e.length;if(e[0]<=o)return 0;if(o<=e[r-1])return r-1;var i;if(t>0){for(i=1;i<r;++i)if(e[i]<o)return i-1}else if(t<0){for(i=1;i<r;++i)if(e[i]<=o)return i}else for(i=1;i<r;++i){if(e[i]==o)return i;if(e[i]<o)return e[i-1]-o<o-e[i]?i-1:i}return r-1},ol.array.reverseSubArray=function(e,o,t){for(;o<t;){var r=e[o];e[o]=e[t],e[t]=r,++o,--t}},ol.array.extend=function(e,o){var t,r=Array.isArray(o)?o:[o],i=r.length;for(t=0;t<i;t++)e[e.length]=r[t]},ol.array.remove=function(e,o){var t=e.indexOf(o),r=t>-1;return r&&e.splice(t,1),r},ol.array.find=function(e,o){for(var t,r=e.length>>>0,i=0;i<r;i++)if(t=e[i],o(t,i,e))return t;return null},ol.array.equals=function(e,o){var t=e.length;if(t!==o.length)return!1;for(var r=0;r<t;r++)if(e[r]!==o[r])return!1;return!0},ol.array.stableSort=function(e,o){var t,r=e.length,i=Array(e.length);for(t=0;t<r;t++)i[t]={index:t,value:e[t]};for(i.sort(function(e,t){return o(e.value,t.value)||e.index-t.index}),t=0;t<e.length;t++)e[t]=i[t].value},ol.array.findIndex=function(e,o){var t;return e.every(function(r,i){return t=i,!o(r,i,e)})?-1:t},ol.array.isSorted=function(e,o,t){var r=o||ol.array.numberSafeCompareFunction;return e.every(function(o,i){if(0===i)return!0;var n=r(e[i-1],o);return!(n>0||t&&0===n)})},goog.provide("ol"),ol.ASSUME_TOUCH=!1,ol.DEFAULT_MAX_ZOOM=42,ol.DEFAULT_MIN_ZOOM=0,ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5,ol.DEFAULT_TILE_SIZE=256,ol.DEFAULT_WMS_VERSION="1.3.0",ol.ENABLE_CANVAS=!0,ol.ENABLE_PROJ4JS=!0,ol.ENABLE_RASTER_REPROJECTION=!0,ol.ENABLE_WEBGL=!0,ol.DEBUG_WEBGL=!0,ol.INITIAL_ATLAS_SIZE=256,ol.MAX_ATLAS_SIZE=-1,ol.MOUSEWHEELZOOM_MAXDELTA=1,ol.OVERVIEWMAP_MAX_RATIO=.75,ol.OVERVIEWMAP_MIN_RATIO=.1,ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10,ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25,ol.SIMPLIFY_TOLERANCE=.5,ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,ol.VERSION="",ol.WEBGL_MAX_TEXTURE_SIZE,ol.WEBGL_EXTENSIONS,ol.inherits=function(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e},ol.nullFunction=function(){},ol.getUid=function(e){return e.ol_uid||(e.ol_uid=++ol.uidCounter_)},ol.uidCounter_=0,goog.provide("ol.AssertionError"),goog.require("ol"),ol.AssertionError=function(e){var o=ol.VERSION?ol.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+e+" for details.",this.code=e,this.name="AssertionError"},ol.inherits(ol.AssertionError,Error),goog.provide("ol.asserts"),goog.require("ol.AssertionError"),ol.asserts.assert=function(e,o){if(!e)throw new ol.AssertionError(o)},goog.provide("ol.TileRange"),ol.TileRange=function(e,o,t,r){this.minX=e,this.maxX=o,this.minY=t,this.maxY=r},ol.TileRange.createOrUpdate=function(e,o,t,r,i){return void 0!==i?(i.minX=e,i.maxX=o,i.minY=t,i.maxY=r,i):new ol.TileRange(e,o,t,r)},ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])},ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},ol.TileRange.prototype.containsXY=function(e,o){return this.minX<=e&&e<=this.maxX&&this.minY<=o&&o<=this.maxY},ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},ol.TileRange.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},goog.provide("ol.math"),goog.require("ol.asserts"),ol.math.clamp=function(e,o,t){return Math.min(Math.max(e,o),t)},ol.math.cosh=function(){return"cosh"in Math?Math.cosh:function(e){var o=Math.exp(e);return(o+1/o)/2}}(),ol.math.roundUpToPowerOfTwo=function(e){return ol.asserts.assert(0<e,29),Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},ol.math.squaredSegmentDistance=function(e,o,t,r,i,n){var l=i-t,a=n-r;if(0!==l||0!==a){var s=((e-t)*l+(o-r)*a)/(l*l+a*a);s>1?(t=i,r=n):s>0&&(t+=l*s,r+=a*s)}return ol.math.squaredDistance(e,o,t,r)},ol.math.squaredDistance=function(e,o,t,r){var i=t-e,n=r-o;return i*i+n*n},ol.math.solveLinearSystem=function(e){for(var o=e.length,t=0;t<o;t++){for(var r=t,i=Math.abs(e[t][t]),n=t+1;n<o;n++){var l=Math.abs(e[n][t]);l>i&&(i=l,r=n)}if(0===i)return null;var a=e[r];e[r]=e[t],e[t]=a;for(var s=t+1;s<o;s++)for(var p=-e[s][t]/e[t][t],g=t;g<o+1;g++)t==g?e[s][g]=0:e[s][g]+=p*e[t][g]}for(var c=new Array(o),u=o-1;u>=0;u--){c[u]=e[u][o]/e[u][u];for(var y=u-1;y>=0;y--)e[y][o]-=e[y][u]*c[u]}return c},ol.math.toDegrees=function(e){return 180*e/Math.PI},ol.math.toRadians=function(e){return e*Math.PI/180},ol.math.modulo=function(e,o){var t=e%o;return t*o<0?t+o:t},ol.math.lerp=function(e,o,t){return e+t*(o-e)},goog.provide("ol.size"),ol.size.buffer=function(e,o,t){return void 0===t&&(t=[0,0]),t[0]=e[0]+2*o,t[1]=e[1]+2*o,t},ol.size.hasArea=function(e){return e[0]>0&&e[1]>0},ol.size.scale=function(e,o,t){return void 0===t&&(t=[0,0]),t[0]=e[0]*o+.5|0,t[1]=e[1]*o+.5|0,t},ol.size.toSize=function(e,o){return Array.isArray(e)?e:(void 0===o?o=[e,e]:o[0]=o[1]=e,o)},goog.provide("ol.extent.Corner"),ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.extent.Relationship"),ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},goog.provide("ol.extent"),goog.require("ol.asserts"),goog.require("ol.extent.Corner"),goog.require("ol.extent.Relationship"),ol.extent.boundingExtent=function(e){for(var o=ol.extent.createEmpty(),t=0,r=e.length;t<r;++t)ol.extent.extendCoordinate(o,e[t]);return o},ol.extent.boundingExtentXYs_=function(e,o,t){var r=Math.min.apply(null,e),i=Math.min.apply(null,o),n=Math.max.apply(null,e),l=Math.max.apply(null,o);return ol.extent.createOrUpdate(r,i,n,l,t)},ol.extent.buffer=function(e,o,t){return t?(t[0]=e[0]-o,t[1]=e[1]-o,t[2]=e[2]+o,t[3]=e[3]+o,t):[e[0]-o,e[1]-o,e[2]+o,e[3]+o]},ol.extent.clone=function(e,o){return o?(o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o):e.slice()};ol.extent.closestSquaredDistanceXY=function(e,o,t){var r,i;return r=o<e[0]?e[0]-o:e[2]<o?o-e[2]:0,i=t<e[1]?e[1]-t:e[3]<t?t-e[3]:0,r*r+i*i},ol.extent.containsCoordinate=function(e,o){return ol.extent.containsXY(e,o[0],o[1])},ol.extent.containsExtent=function(e,o){return e[0]<=o[0]&&o[2]<=e[2]&&e[1]<=o[1]&&o[3]<=e[3]},ol.extent.containsXY=function(e,o,t){return e[0]<=o&&o<=e[2]&&e[1]<=t&&t<=e[3]},ol.extent.coordinateRelationship=function(e,o){var t=e[0],r=e[1],i=e[2],n=e[3],l=o[0],a=o[1],s=ol.extent.Relationship.UNKNOWN;return l<t?s|=ol.extent.Relationship.LEFT:l>i&&(s|=ol.extent.Relationship.RIGHT),a<r?s|=ol.extent.Relationship.BELOW:a>n&&(s|=ol.extent.Relationship.ABOVE),s===ol.extent.Relationship.UNKNOWN&&(s=ol.extent.Relationship.INTERSECTING),s},ol.extent.createEmpty=function(){return[1/0,1/0,-1/0,-1/0]},ol.extent.createOrUpdate=function(e,o,t,r,i){return i?(i[0]=e,i[1]=o,i[2]=t,i[3]=r,i):[e,o,t,r]},ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(1/0,1/0,-1/0,-1/0,e)},ol.extent.createOrUpdateFromCoordinate=function(e,o){var t=e[0],r=e[1];return ol.extent.createOrUpdate(t,r,t,r,o)},ol.extent.createOrUpdateFromCoordinates=function(e,o){var t=ol.extent.createOrUpdateEmpty(o);return ol.extent.extendCoordinates(t,e)},ol.extent.createOrUpdateFromFlatCoordinates=function(e,o,t,r,i){var n=ol.extent.createOrUpdateEmpty(i);return ol.extent.extendFlatCoordinates(n,e,o,t,r)},ol.extent.createOrUpdateFromRings=function(e,o){var t=ol.extent.createOrUpdateEmpty(o);return ol.extent.extendRings(t,e)},ol.extent.equals=function(e,o){return e[0]==o[0]&&e[2]==o[2]&&e[1]==o[1]&&e[3]==o[3]},ol.extent.extend=function(e,o){return o[0]<e[0]&&(e[0]=o[0]),o[2]>e[2]&&(e[2]=o[2]),o[1]<e[1]&&(e[1]=o[1]),o[3]>e[3]&&(e[3]=o[3]),e},ol.extent.extendCoordinate=function(e,o){o[0]<e[0]&&(e[0]=o[0]),o[0]>e[2]&&(e[2]=o[0]),o[1]<e[1]&&(e[1]=o[1]),o[1]>e[3]&&(e[3]=o[1])},ol.extent.extendCoordinates=function(e,o){var t,r;for(t=0,r=o.length;t<r;++t)ol.extent.extendCoordinate(e,o[t]);return e},ol.extent.extendFlatCoordinates=function(e,o,t,r,i){for(;t<r;t+=i)ol.extent.extendXY(e,o[t],o[t+1]);return e},ol.extent.extendRings=function(e,o){var t,r;for(t=0,r=o.length;t<r;++t)ol.extent.extendCoordinates(e,o[t]);return e},ol.extent.extendXY=function(e,o,t){e[0]=Math.min(e[0],o),e[1]=Math.min(e[1],t),e[2]=Math.max(e[2],o),e[3]=Math.max(e[3],t)},ol.extent.forEachCorner=function(e,o,t){var r;return(r=o.call(t,ol.extent.getBottomLeft(e)))?r:(r=o.call(t,ol.extent.getBottomRight(e)))?r:(r=o.call(t,ol.extent.getTopRight(e)))?r:(r=o.call(t,ol.extent.getTopLeft(e)))||!1},ol.extent.getArea=function(e){var o=0;return ol.extent.isEmpty(e)||(o=ol.extent.getWidth(e)*ol.extent.getHeight(e)),o},ol.extent.getBottomLeft=function(e){return[e[0],e[1]]},ol.extent.getBottomRight=function(e){return[e[2],e[1]]},ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},ol.extent.getCorner=function(e,o){var t;return o===ol.extent.Corner.BOTTOM_LEFT?t=ol.extent.getBottomLeft(e):o===ol.extent.Corner.BOTTOM_RIGHT?t=ol.extent.getBottomRight(e):o===ol.extent.Corner.TOP_LEFT?t=ol.extent.getTopLeft(e):o===ol.extent.Corner.TOP_RIGHT?t=ol.extent.getTopRight(e):ol.asserts.assert(!1,13),t},ol.extent.getEnlargedArea=function(e,o){var t=Math.min(e[0],o[0]),r=Math.min(e[1],o[1]);return(Math.max(e[2],o[2])-t)*(Math.max(e[3],o[3])-r)},ol.extent.getForViewAndSize=function(e,o,t,r,i){var n=o*r[0]/2,l=o*r[1]/2,a=Math.cos(t),s=Math.sin(t),p=n*a,g=n*s,c=l*a,u=l*s,y=e[0],h=e[1],d=y-p+u,m=y-p-u,f=y+p-u,_=y+p+u,v=h-g-c,S=h-g+c,x=h+g+c,P=h+g-c;return ol.extent.createOrUpdate(Math.min(d,m,f,_),Math.min(v,S,x,P),Math.max(d,m,f,_),Math.max(v,S,x,P),i)},ol.extent.getHeight=function(e){return e[3]-e[1]},ol.extent.getIntersectionArea=function(e,o){var t=ol.extent.getIntersection(e,o);return ol.extent.getArea(t)},ol.extent.getIntersection=function(e,o,t){var r=t||ol.extent.createEmpty();return ol.extent.intersects(e,o)&&(e[0]>o[0]?r[0]=e[0]:r[0]=o[0],e[1]>o[1]?r[1]=e[1]:r[1]=o[1],e[2]<o[2]?r[2]=e[2]:r[2]=o[2],e[3]<o[3]?r[3]=e[3]:r[3]=o[3]),r},ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)},ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]},ol.extent.getTopLeft=function(e){return[e[0],e[3]]},ol.extent.getTopRight=function(e){return[e[2],e[3]]},ol.extent.getWidth=function(e){return e[2]-e[0]},ol.extent.intersects=function(e,o){return e[0]<=o[2]&&e[2]>=o[0]&&e[1]<=o[3]&&e[3]>=o[1]},ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]},ol.extent.returnOrUpdate=function(e,o){return o?(o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o):e},ol.extent.scaleFromCenter=function(e,o){var t=(e[2]-e[0])/2*(o-1),r=(e[3]-e[1])/2*(o-1);e[0]-=t,e[2]+=t,e[1]-=r,e[3]+=r},ol.extent.intersectsSegment=function(e,o,t){var r=!1,i=ol.extent.coordinateRelationship(e,o),n=ol.extent.coordinateRelationship(e,t);if(i===ol.extent.Relationship.INTERSECTING||n===ol.extent.Relationship.INTERSECTING)r=!0;else{var l,a,s=e[0],p=e[1],g=e[2],c=e[3],u=o[0],y=o[1],h=t[0],d=t[1],m=(d-y)/(h-u);n&ol.extent.Relationship.ABOVE&&!(i&ol.extent.Relationship.ABOVE)&&(l=h-(d-c)/m,r=l>=s&&l<=g),r||!(n&ol.extent.Relationship.RIGHT)||i&ol.extent.Relationship.RIGHT||(a=d-(h-g)*m,r=a>=p&&a<=c),r||!(n&ol.extent.Relationship.BELOW)||i&ol.extent.Relationship.BELOW||(l=h-(d-p)/m,r=l>=s&&l<=g),r||!(n&ol.extent.Relationship.LEFT)||i&ol.extent.Relationship.LEFT||(a=d-(h-s)*m,r=a>=p&&a<=c)}return r},ol.extent.applyTransform=function(e,o,t){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];o(r,r,2);var i=[r[0],r[2],r[4],r[6]],n=[r[1],r[3],r[5],r[7]];return ol.extent.boundingExtentXYs_(i,n,t)},goog.provide("ol.obj"),ol.obj.assign="function"==typeof Object.assign?Object.assign:function(e,o){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,i=arguments.length;r<i;++r){var n=arguments[r];if(void 0!==n&&null!==n)for(var l in n)n.hasOwnProperty(l)&&(t[l]=n[l])}return t},ol.obj.clear=function(e){for(var o in e)delete e[o]},ol.obj.getValues=function(e){var o=[];for(var t in e)o.push(e[t]);return o},ol.obj.isEmpty=function(e){var o;for(o in e)return!1;return!o},goog.provide("ol.geom.GeometryType"),ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},goog.provide("ol.Sphere"),goog.require("ol.math"),goog.require("ol.geom.GeometryType"),ol.Sphere=function(e){this.radius=e},ol.Sphere.prototype.geodesicArea=function(e){return ol.Sphere.getArea_(e,this.radius)},ol.Sphere.prototype.haversineDistance=function(e,o){return ol.Sphere.getDistance_(e,o,this.radius)},ol.Sphere.prototype.offset=function(e,o,t){var r=ol.math.toRadians(e[1]),i=ol.math.toRadians(e[0]),n=o/this.radius,l=Math.asin(Math.sin(r)*Math.cos(n)+Math.cos(r)*Math.sin(n)*Math.cos(t)),a=i+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(r),Math.cos(n)-Math.sin(r)*Math.sin(l));return[ol.math.toDegrees(a),ol.math.toDegrees(l)]},ol.Sphere.DEFAULT_RADIUS=6371008.8,ol.Sphere.getLength=function(e,o){var t=o||{},r=t.radius||ol.Sphere.DEFAULT_RADIUS,i=t.projection||"EPSG:3857";e=e.clone().transform(i,"EPSG:4326");var n,l,a,s,p,g,c=e.getType(),u=0;switch(c){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:break;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:n=e.getCoordinates(),u=ol.Sphere.getLength_(n,r);break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:for(n=e.getCoordinates(),a=0,s=n.length;a<s;++a)u+=ol.Sphere.getLength_(n[a],r);break;case ol.geom.GeometryType.MULTI_POLYGON:for(n=e.getCoordinates(),a=0,s=n.length;a<s;++a)for(l=n[a],p=0,g=l.length;p<g;++p)u+=ol.Sphere.getLength_(l[p],r);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:var y=e.getGeometries();for(a=0,s=y.length;a<s;++a)u+=ol.Sphere.getLength(y[a],o);break;default:throw new Error("Unsupported geometry type: "+c)}return u},ol.Sphere.getLength_=function(e,o){for(var t=0,r=0,i=e.length;r<i-1;++r)t+=ol.Sphere.getDistance_(e[r],e[r+1],o);return t},ol.Sphere.getDistance_=function(e,o,t){var r=ol.math.toRadians(e[1]),i=ol.math.toRadians(o[1]),n=(i-r)/2,l=ol.math.toRadians(o[0]-e[0])/2,a=Math.sin(n)*Math.sin(n)+Math.sin(l)*Math.sin(l)*Math.cos(r)*Math.cos(i);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},ol.Sphere.getArea=function(e,o){var t=o||{},r=t.radius||ol.Sphere.DEFAULT_RADIUS,i=t.projection||"EPSG:3857";e=e.clone().transform(i,"EPSG:4326");var n,l,a,s,p,g,c=e.getType(),u=0;switch(c){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:break;case ol.geom.GeometryType.POLYGON:for(n=e.getCoordinates(),u=Math.abs(ol.Sphere.getArea_(n[0],r)),a=1,s=n.length;a<s;++a)u-=Math.abs(ol.Sphere.getArea_(n[a],r));break;case ol.geom.GeometryType.MULTI_POLYGON:for(n=e.getCoordinates(),a=0,s=n.length;a<s;++a)for(l=n[a],u+=Math.abs(ol.Sphere.getArea_(l[0],r)),p=1,g=l.length;p<g;++p)u-=Math.abs(ol.Sphere.getArea_(l[p],r));break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:var y=e.getGeometries();for(a=0,s=y.length;a<s;++a)u+=ol.Sphere.getArea(y[a],o);break;default:throw new Error("Unsupported geometry type: "+c)}return u},ol.Sphere.getArea_=function(e,o){for(var t=0,r=e.length,i=e[r-1][0],n=e[r-1][1],l=0;l<r;l++){var a=e[l][0],s=e[l][1];t+=ol.math.toRadians(a-i)*(2+Math.sin(ol.math.toRadians(n))+Math.sin(ol.math.toRadians(s))),i=a,n=s}return t*o*o/2},goog.provide("ol.proj.Units"),ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ol.proj.Units.METERS_PER_UNIT={},ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*6370997/360,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937,goog.provide("ol.proj.proj4"),ol.proj.proj4.cache_=null,ol.proj.proj4.set=function(e){ol.proj.proj4.cache_=e},ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window.proj4},goog.provide("ol.proj.Projection"),goog.require("ol"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),ol.proj.Projection=function(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit;var o=e.code;if(ol.ENABLE_PROJ4JS){var t=ol.proj.proj4.get();if("function"==typeof t){var r=t.defs(o);void 0!==r&&(void 0!==r.axis&&void 0===e.axisOrientation&&(this.axisOrientation_=r.axis),void 0===e.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===e.units&&(this.units_=r.units))}}},ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_},ol.proj.Projection.prototype.getCode=function(){return this.code_},ol.proj.Projection.prototype.getExtent=function(){return this.extent_},ol.proj.Projection.prototype.getUnits=function(){return this.units_},ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]},ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_},ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},ol.proj.Projection.prototype.isGlobal=function(){return this.global_},ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e},ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},goog.provide("ol.proj.EPSG3857"),goog.require("ol"),goog.require("ol.math"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG3857.Projection_=function(e){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(e,o){return e/ol.math.cosh(o[1]/ol.proj.EPSG3857.RADIUS)}})},ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection),ol.proj.EPSG3857.RADIUS=6378137,ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS,ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE],ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85],ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_("EPSG:3857"),new ol.proj.EPSG3857.Projection_("EPSG:102100"),new ol.proj.EPSG3857.Projection_("EPSG:102113"),new ol.proj.EPSG3857.Projection_("EPSG:900913"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG::3857"),new ol.proj.EPSG3857.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],ol.proj.EPSG3857.fromEPSG4326=function(e,o,t){var r=e.length,i=t>1?t:2,n=o;void 0===n&&(n=i>2?e.slice():new Array(r));for(var l=ol.proj.EPSG3857.HALF_SIZE,a=0;a<r;a+=i){n[a]=l*e[a]/180;var s=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[a+1]+90)/360));s>l?s=l:s<-l&&(s=-l),n[a+1]=s}return n},ol.proj.EPSG3857.toEPSG4326=function(e,o,t){var r=e.length,i=t>1?t:2,n=o;void 0===n&&(n=i>2?e.slice():new Array(r));for(var l=0;l<r;l+=i)n[l]=180*e[l]/ol.proj.EPSG3857.HALF_SIZE,n[l+1]=360*Math.atan(Math.exp(e[l+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90;return n},goog.provide("ol.proj.EPSG4326"),goog.require("ol"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG4326.Projection_=function(e,o){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:o,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})},ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection),ol.proj.EPSG4326.RADIUS=6378137,ol.proj.EPSG4326.EXTENT=[-180,-90,180,90],ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180,ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")],goog.provide("ol.proj.projections"),ol.proj.projections.cache_={},ol.proj.projections.clear=function(){ol.proj.projections.cache_={}},ol.proj.projections.get=function(e){return ol.proj.projections.cache_[e]||null},ol.proj.projections.add=function(e,o){ol.proj.projections.cache_[e]=o},goog.provide("ol.proj.transforms"),goog.require("ol.obj"),ol.proj.transforms.cache_={},ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}},ol.proj.transforms.add=function(e,o,t){var r=e.getCode(),i=o.getCode(),n=ol.proj.transforms.cache_;r in n||(n[r]={}),n[r][i]=t},ol.proj.transforms.remove=function(e,o){var t=e.getCode(),r=o.getCode(),i=ol.proj.transforms.cache_,n=i[t][r];return delete i[t][r],ol.obj.isEmpty(i[t])&&delete i[t],n},ol.proj.transforms.get=function(e,o){var t,r=ol.proj.transforms.cache_;return e in r&&o in r[e]&&(t=r[e][o]),t},goog.provide("ol.proj"),goog.require("ol"),goog.require("ol.Sphere"),goog.require("ol.extent"),goog.require("ol.proj.EPSG3857"),goog.require("ol.proj.EPSG4326"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),goog.require("ol.proj.projections"),goog.require("ol.proj.transforms"),ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT,ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS),ol.ENABLE_PROJ4JS&&(ol.proj.setProj4=function(e){ol.proj.proj4.set(e)}),ol.proj.getPointResolution=function(e,o,t,r){e=ol.proj.get(e);var i,n=e.getPointResolutionFunc();if(n)i=n(o,t);else{if(e.getUnits()==ol.proj.Units.DEGREES&&!r||r==ol.proj.Units.DEGREES)i=o;else{var l=ol.proj.getTransformFromProjections(e,ol.proj.get("EPSG:4326")),a=[t[0]-o/2,t[1],t[0]+o/2,t[1],t[0],t[1]-o/2,t[0],t[1]+o/2];a=l(a,a,2);i=(ol.proj.SPHERE_.haversineDistance(a.slice(0,2),a.slice(2,4))+ol.proj.SPHERE_.haversineDistance(a.slice(4,6),a.slice(6,8)))/2;var s=r?ol.proj.Units.METERS_PER_UNIT[r]:e.getMetersPerUnit();void 0!==s&&(i/=s)}}return i},ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e),e.forEach(function(o){e.forEach(function(e){o!==e&&ol.proj.transforms.add(o,e,ol.proj.cloneTransform)})})},ol.proj.addEquivalentTransforms=function(e,o,t,r){e.forEach(function(e){o.forEach(function(o){ol.proj.transforms.add(e,o,t),ol.proj.transforms.add(o,e,r)})})},ol.proj.addProjection=function(e){ol.proj.projections.add(e.getCode(),e),ol.proj.transforms.add(e,e,ol.proj.cloneTransform)},ol.proj.addProjections=function(e){e.forEach(ol.proj.addProjection)},ol.proj.clearAllProjections=function(){ol.proj.projections.clear(),ol.proj.transforms.clear()},ol.proj.createProjection=function(e,o){return e?"string"==typeof e?ol.proj.get(e):e:ol.proj.get(o)},ol.proj.addCoordinateTransforms=function(e,o,t,r){var i=ol.proj.get(e),n=ol.proj.get(o);ol.proj.transforms.add(i,n,ol.proj.createTransformFromCoordinateTransform(t)),ol.proj.transforms.add(n,i,ol.proj.createTransformFromCoordinateTransform(r))},ol.proj.createTransformFromCoordinateTransform=function(e){return function(o,t,r){var i,n,l,a=o.length,s=void 0!==r?r:2,p=void 0!==t?t:new Array(a);for(n=0;n<a;n+=s)for(i=e([o[n],o[n+1]]),p[n]=i[0],p[n+1]=i[1],l=s-1;l>=2;--l)p[n+l]=o[n+l];return p}},ol.proj.fromLonLat=function(e,o){return ol.proj.transform(e,"EPSG:4326",void 0!==o?o:"EPSG:3857")},ol.proj.toLonLat=function(e,o){return ol.proj.transform(e,void 0!==o?o:"EPSG:3857","EPSG:4326")},ol.proj.get=function(e){var o=null;if(e instanceof ol.proj.Projection)o=e;else if("string"==typeof e){var t=e;if(o=ol.proj.projections.get(t),ol.ENABLE_PROJ4JS&&!o){var r=ol.proj.proj4.get();"function"==typeof r&&void 0!==r.defs(t)&&(o=new ol.proj.Projection({code:t}),ol.proj.addProjection(o))}}return o},ol.proj.equivalent=function(e,o){if(e===o)return!0;var t=e.getUnits()===o.getUnits();return e.getCode()===o.getCode()?t:ol.proj.getTransformFromProjections(e,o)===ol.proj.cloneTransform&&t},ol.proj.getTransform=function(e,o){var t=ol.proj.get(e),r=ol.proj.get(o);return ol.proj.getTransformFromProjections(t,r)},ol.proj.getTransformFromProjections=function(e,o){var t=e.getCode(),r=o.getCode(),i=ol.proj.transforms.get(t,r);if(ol.ENABLE_PROJ4JS&&!i){var n=ol.proj.proj4.get();if("function"==typeof n){var l=n.defs(t),a=n.defs(r);if(void 0!==l&&void 0!==a){if(l===a)ol.proj.addEquivalentProjections([o,e]);else{var s=n(r,t);ol.proj.addCoordinateTransforms(o,e,s.forward,s.inverse)}i=ol.proj.transforms.get(t,r)}}}return i||(i=ol.proj.identityTransform),i},ol.proj.identityTransform=function(e,o,t){if(void 0!==o&&e!==o){for(var r=0,i=e.length;r<i;++r)o[r]=e[r];e=o}return e},ol.proj.cloneTransform=function(e,o,t){var r;if(void 0!==o){for(var i=0,n=e.length;i<n;++i)o[i]=e[i];r=o}else r=e.slice();return r},ol.proj.transform=function(e,o,t){return ol.proj.getTransform(o,t)(e,void 0,e.length)},ol.proj.transformExtent=function(e,o,t){var r=ol.proj.getTransform(o,t);return ol.extent.applyTransform(e,r)},ol.proj.transformWithProjections=function(e,o,t){return ol.proj.getTransformFromProjections(o,t)(e)},ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS),ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS),ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)},ol.proj.addCommon(),goog.provide("ol.tilecoord"),ol.tilecoord.createOrUpdate=function(e,o,t,r){return void 0!==r?(r[0]=e,r[1]=o,r[2]=t,r):[e,o,t]},ol.tilecoord.getKeyZXY=function(e,o,t){return e+"/"+o+"/"+t},ol.tilecoord.getKey=function(e){return ol.tilecoord.getKeyZXY(e[0],e[1],e[2])},ol.tilecoord.fromKey=function(e){return e.split("/").map(Number)},ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]},ol.tilecoord.quadKey=function(e){var o,t,r=e[0],i=new Array(r),n=1<<r-1;for(o=0;o<r;++o)t=48,e[1]&n&&(t+=1),e[2]&n&&(t+=2),i[o]=String.fromCharCode(t),n>>=1;return i.join("")},ol.tilecoord.withinExtentAndZ=function(e,o){var t=e[0],r=e[1],i=e[2];if(o.getMinZoom()>t||t>o.getMaxZoom())return!1;var n,l=o.getExtent();return!(n=l?o.getTileRangeForExtentAndZ(l,t):o.getFullTileRange(t))||n.containsXY(r,i)},goog.provide("ol.tilegrid.TileGrid"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.TileRange"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.size"),goog.require("ol.tilecoord"),ol.tilegrid.TileGrid=function(e){this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(e,o){return o-e},!0),17);var o;if(!e.origins)for(var t=0,r=this.resolutions_.length-1;t<r;++t)if(o){if(this.resolutions_[t]/this.resolutions_[t+1]!==o){o=void 0;break}}else o=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=o,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,ol.asserts.assert(this.origins_.length==this.resolutions_.length,20));var i=e.extent;void 0===i||this.origin_||this.origins_||(this.origin_=ol.extent.getTopLeft(i)),ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:ol.DEFAULT_TILE_SIZE,ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(e,o){return new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1))},this):i&&this.calculateTileRanges_(i)},ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0],ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(e,o,t){for(var r=this.getTileRangeForExtentAndZ(e,o),i=r.minX,n=r.maxX;i<=n;++i)for(var l=r.minY,a=r.maxY;l<=a;++l)t([o,i,l])},ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,o,t,r,i){var n,l,a,s=null,p=e[0]-1;for(2===this.zoomFactor_?(l=e[1],a=e[2]):s=this.getTileCoordExtent(e,i);p>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),a=Math.floor(a/2),n=ol.TileRange.createOrUpdate(l,l,a,a,r)):n=this.getTileRangeForExtentAndZ(s,p,r),o.call(t,p,n))return!0;--p}return!1},ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_},ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom},ol.tilegrid.TileGrid.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},ol.tilegrid.TileGrid.prototype.getResolution=function(e){return this.resolutions_[e]},ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_},ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,o,t){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],i=2*e[2];return ol.TileRange.createOrUpdate(r,r+1,i,i+1,o)}var n=this.getTileCoordExtent(e,t);return this.getTileRangeForExtentAndZ(n,e[0]+1,o)}return null},ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,o,t){
var r=this.getOrigin(e),i=this.getResolution(e),n=ol.size.toSize(this.getTileSize(e),this.tmpSize_),l=r[0]+o.minX*n[0]*i,a=r[0]+(o.maxX+1)*n[0]*i,s=r[1]+o.minY*n[1]*i,p=r[1]+(o.maxY+1)*n[1]*i;return ol.extent.createOrUpdate(l,s,a,p,t)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,o,t){var r=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(e[0],e[1],o,!1,r);var i=r[1],n=r[2];return this.getTileCoordForXYAndZ_(e[2],e[3],o,!0,r),ol.TileRange.createOrUpdate(i,r[1],n,r[2],t)},ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var o=this.getOrigin(e[0]),t=this.getResolution(e[0]),r=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[o[0]+(e[1]+.5)*r[0]*t,o[1]+(e[2]+.5)*r[1]*t]},ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,o){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_),n=t[0]+e[1]*i[0]*r,l=t[1]+e[2]*i[1]*r,a=n+i[0]*r,s=l+i[1]*r;return ol.extent.createOrUpdate(n,l,a,s,o)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,o,t){return this.getTileCoordForXYAndResolution_(e[0],e[1],o,!1,t)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,o,t,r,i){var n=this.getZForResolution(t),l=t/this.getResolution(n),a=this.getOrigin(n),s=ol.size.toSize(this.getTileSize(n),this.tmpSize_),p=r?.5:0,g=r?0:.5,c=Math.floor((e-a[0])/t+p),u=Math.floor((o-a[1])/t+g),y=l*c/s[0],h=l*u/s[1];return r?(y=Math.ceil(y)-1,h=Math.ceil(h)-1):(y=Math.floor(y),h=Math.floor(h)),ol.tilecoord.createOrUpdate(n,y,h,i)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(e,o,t,r,i){var n=this.getOrigin(t),l=this.getResolution(t),a=ol.size.toSize(this.getTileSize(t),this.tmpSize_),s=r?.5:0,p=r?0:.5,g=Math.floor((e-n[0])/l+s),c=Math.floor((o-n[1])/l+p),u=g/a[0],y=c/a[1];return r?(u=Math.ceil(u)-1,y=Math.ceil(y)-1):(u=Math.floor(u),y=Math.floor(y)),ol.tilecoord.createOrUpdate(t,u,y,i)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,o,t){return this.getTileCoordForXYAndZ_(e[0],e[1],o,!1,t)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},ol.tilegrid.TileGrid.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},ol.tilegrid.TileGrid.prototype.getZForResolution=function(e,o){var t=ol.array.linearFindNearest(this.resolutions_,e,o||0);return ol.math.clamp(t,this.minZoom,this.maxZoom)},ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){for(var o=this.resolutions_.length,t=new Array(o),r=this.minZoom;r<o;++r)t[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=t},goog.provide("ol.tilegrid"),goog.require("ol"),goog.require("ol.size"),goog.require("ol.extent"),goog.require("ol.extent.Corner"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.getForProjection=function(e){var o=e.getDefaultTileGrid();return o||(o=ol.tilegrid.createForProjection(e),e.setDefaultTileGrid(o)),o},ol.tilegrid.wrapX=function(e,o,t){var r=o[0],i=e.getTileCoordCenter(o),n=ol.tilegrid.extentFromProjection(t);if(ol.extent.containsCoordinate(n,i))return o;var l=ol.extent.getWidth(n),a=Math.ceil((n[0]-i[0])/l);return i[0]+=l*a,e.getTileCoordForCoordAndZ(i,r)},ol.tilegrid.createForExtent=function(e,o,t,r){var i=void 0!==r?r:ol.extent.Corner.TOP_LEFT,n=ol.tilegrid.resolutionsFromExtent(e,o,t);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,i),resolutions:n,tileSize:t})},ol.tilegrid.createXYZ=function(e){var o={};return ol.obj.assign(o,void 0!==e?e:{}),void 0===o.extent&&(o.extent=ol.proj.get("EPSG:3857").getExtent()),o.resolutions=ol.tilegrid.resolutionsFromExtent(o.extent,o.maxZoom,o.tileSize),delete o.maxZoom,new ol.tilegrid.TileGrid(o)},ol.tilegrid.resolutionsFromExtent=function(e,o,t){for(var r=void 0!==o?o:ol.DEFAULT_MAX_ZOOM,i=ol.extent.getHeight(e),n=ol.extent.getWidth(e),l=ol.size.toSize(void 0!==t?t:ol.DEFAULT_TILE_SIZE),a=Math.max(n/l[0],i/l[1]),s=r+1,p=new Array(s),g=0;g<s;++g)p[g]=a/Math.pow(2,g);return p},ol.tilegrid.createForProjection=function(e,o,t,r){var i=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(i,o,t,r)},ol.tilegrid.extentFromProjection=function(e){e=ol.proj.get(e);var o=e.getExtent();if(!o){var t=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();o=ol.extent.createOrUpdate(-t,-t,t,t)}return o},goog.provide("ol.Attribution"),goog.require("ol.TileRange"),goog.require("ol.math"),goog.require("ol.tilegrid"),ol.Attribution=function(e){this.html_=e.html,this.tileRanges_=e.tileRanges?e.tileRanges:null},ol.Attribution.prototype.getHTML=function(){return this.html_},ol.Attribution.prototype.intersectsAnyTileRange=function(e,o,t){if(!this.tileRanges_)return!0;var r,i,n,l;for(l in e)if(l in this.tileRanges_){n=e[l];var a;for(r=0,i=this.tileRanges_[l].length;r<i;++r){if(a=this.tileRanges_[l][r],a.intersects(n))return!0;var s=o.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(t),parseInt(l,10)),p=s.getWidth();if(n.minX<s.minX||n.maxX>s.maxX){if(a.intersects(new ol.TileRange(ol.math.modulo(n.minX,p),ol.math.modulo(n.maxX,p),n.minY,n.maxY)))return!0;if(n.getWidth()>p&&a.intersects(s))return!0}}}return!1},goog.provide("ol.CollectionEventType"),ol.CollectionEventType={ADD:"add",REMOVE:"remove"},goog.provide("ol.ObjectEventType"),ol.ObjectEventType={PROPERTYCHANGE:"propertychange"},goog.provide("ol.events"),goog.require("ol.obj"),ol.events.bindListener_=function(e){var o=function(o){var t=e.listener,r=e.bindTo||e.target;return e.callOnce&&ol.events.unlistenByKey(e),t.call(r,o)};return e.boundListener=o,o},ol.events.findListener_=function(e,o,t,r){for(var i,n=0,l=e.length;n<l;++n)if(i=e[n],i.listener===o&&i.bindTo===t)return r&&(i.deleteIndex=n),i},ol.events.getListeners=function(e,o){var t=e.ol_lm;return t?t[o]:void 0},ol.events.getListenerMap_=function(e){var o=e.ol_lm;return o||(o=e.ol_lm={}),o},ol.events.removeListeners_=function(e,o){var t=ol.events.getListeners(e,o);if(t){for(var r=0,i=t.length;r<i;++r)e.removeEventListener(o,t[r].boundListener),ol.obj.clear(t[r]);t.length=0;var n=e.ol_lm;n&&(delete n[o],0===Object.keys(n).length&&delete e.ol_lm)}},ol.events.listen=function(e,o,t,r,i){var n=ol.events.getListenerMap_(e),l=n[o];l||(l=n[o]=[]);var a=ol.events.findListener_(l,t,r,!1);return a?i||(a.callOnce=!1):(a={bindTo:r,callOnce:!!i,listener:t,target:e,type:o},e.addEventListener(o,ol.events.bindListener_(a)),l.push(a)),a},ol.events.listenOnce=function(e,o,t,r){return ol.events.listen(e,o,t,r,!0)},ol.events.unlisten=function(e,o,t,r){var i=ol.events.getListeners(e,o);if(i){var n=ol.events.findListener_(i,t,r,!0);n&&ol.events.unlistenByKey(n)}},ol.events.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var o=ol.events.getListeners(e.target,e.type);if(o){var t="deleteIndex"in e?e.deleteIndex:o.indexOf(e);-1!==t&&o.splice(t,1),0===o.length&&ol.events.removeListeners_(e.target,e.type)}ol.obj.clear(e)}},ol.events.unlistenAll=function(e){var o=ol.events.getListenerMap_(e);for(var t in o)ol.events.removeListeners_(e,t)},goog.provide("ol.Disposable"),goog.require("ol"),ol.Disposable=function(){},ol.Disposable.prototype.disposed_=!1,ol.Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},ol.Disposable.prototype.disposeInternal=ol.nullFunction,goog.provide("ol.events.Event"),ol.events.Event=function(e){this.propagationStopped,this.type=e,this.target=null},ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0},ol.events.Event.stopPropagation=function(e){e.stopPropagation()},ol.events.Event.preventDefault=function(e){e.preventDefault()},goog.provide("ol.events.EventTarget"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.Event"),ol.events.EventTarget=function(){ol.Disposable.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}},ol.inherits(ol.events.EventTarget,ol.Disposable),ol.events.EventTarget.prototype.addEventListener=function(e,o){var t=this.listeners_[e];t||(t=this.listeners_[e]=[]),-1===t.indexOf(o)&&t.push(o)},ol.events.EventTarget.prototype.dispatchEvent=function(e){var o="string"==typeof e?new ol.events.Event(e):e,t=o.type;o.target=this;var r,i=this.listeners_[t];if(i){t in this.dispatching_||(this.dispatching_[t]=0,this.pendingRemovals_[t]=0),++this.dispatching_[t];for(var n=0,l=i.length;n<l;++n)if(!1===i[n].call(this,o)||o.propagationStopped){r=!1;break}if(0===--this.dispatching_[t]){var a=this.pendingRemovals_[t];for(delete this.pendingRemovals_[t];a--;)this.removeEventListener(t,ol.nullFunction);delete this.dispatching_[t]}return r}},ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)},ol.events.EventTarget.prototype.getListeners=function(e){return this.listeners_[e]},ol.events.EventTarget.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},ol.events.EventTarget.prototype.removeEventListener=function(e,o){var t=this.listeners_[e];if(t){var r=t.indexOf(o);e in this.pendingRemovals_?(t[r]=ol.nullFunction,++this.pendingRemovals_[e]):(t.splice(r,1),0===t.length&&delete this.listeners_[e])}},goog.provide("ol.events.EventType"),ol.events.EventType={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},goog.provide("ol.Observable"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Observable=function(){ol.events.EventTarget.call(this),this.revision_=0},ol.inherits(ol.Observable,ol.events.EventTarget),ol.Observable.unByKey=function(e){if(Array.isArray(e))for(var o=0,t=e.length;o<t;++o)ol.events.unlistenByKey(e[o]);else ol.events.unlistenByKey(e)},ol.Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(ol.events.EventType.CHANGE)},ol.Observable.prototype.dispatchEvent,ol.Observable.prototype.getRevision=function(){return this.revision_},ol.Observable.prototype.on=function(e,o,t){if(Array.isArray(e)){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=ol.events.listen(this,e[n],o,t);return i}return ol.events.listen(this,e,o,t)},ol.Observable.prototype.once=function(e,o,t){if(Array.isArray(e)){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=ol.events.listenOnce(this,e[n],o,t);return i}return ol.events.listenOnce(this,e,o,t)},ol.Observable.prototype.un=function(e,o,t){if(Array.isArray(e))for(var r=0,i=e.length;r<i;++r)ol.events.unlisten(this,e[r],o,t);else ol.events.unlisten(this,e,o,t)},goog.provide("ol.Object"),goog.require("ol"),goog.require("ol.ObjectEventType"),goog.require("ol.Observable"),goog.require("ol.events.Event"),goog.require("ol.obj"),ol.Object=function(e){ol.Observable.call(this),ol.getUid(this),this.values_={},void 0!==e&&this.setProperties(e)},ol.inherits(ol.Object,ol.Observable),ol.Object.changeEventTypeCache_={},ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e},ol.Object.prototype.get=function(e){var o;return this.values_.hasOwnProperty(e)&&(o=this.values_[e]),o},ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)},ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)},ol.Object.prototype.notify=function(e,o){var t;t=ol.Object.getChangeEventType(e),this.dispatchEvent(new ol.Object.Event(t,e,o)),t=ol.ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ol.Object.Event(t,e,o))},ol.Object.prototype.set=function(e,o,t){if(t)this.values_[e]=o;else{var r=this.values_[e];this.values_[e]=o,r!==o&&this.notify(e,r)}},ol.Object.prototype.setProperties=function(e,o){var t;for(t in e)this.set(t,e[t],o)},ol.Object.prototype.unset=function(e,o){if(e in this.values_){var t=this.values_[e];delete this.values_[e],o||this.notify(e,t)}},ol.Object.Event=function(e,o,t){ol.events.Event.call(this,e),this.key=o,this.oldValue=t},ol.inherits(ol.Object.Event,ol.events.Event),goog.provide("ol.Collection"),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.events.Event"),ol.Collection=function(e,o){ol.Object.call(this);var t=o||{};if(this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(var r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()},ol.inherits(ol.Collection,ol.Object),ol.Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},ol.Collection.prototype.extend=function(e){var o,t;for(o=0,t=e.length;o<t;++o)this.push(e[o]);return this},ol.Collection.prototype.forEach=function(e,o){for(var t=o?e.bind(o):e,r=this.array_,i=0,n=r.length;i<n;++i)t(r[i],i,r)},ol.Collection.prototype.getArray=function(){return this.array_},ol.Collection.prototype.item=function(e){return this.array_[e]},ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)},ol.Collection.prototype.insertAt=function(e,o){this.unique_&&this.assertUnique_(o),this.array_.splice(e,0,o),this.updateLength_(),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,o))},ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},ol.Collection.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var o=this.getLength();return this.insertAt(o,e),this.getLength()},ol.Collection.prototype.remove=function(e){var o,t,r=this.array_;for(o=0,t=r.length;o<t;++o)if(r[o]===e)return this.removeAt(o)},ol.Collection.prototype.removeAt=function(e){var o=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,o)),o},ol.Collection.prototype.setAt=function(e,o){var t=this.getLength();if(e<t){this.unique_&&this.assertUnique_(o,e);var r=this.array_[e];this.array_[e]=o,this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,r)),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,o))}else{var i;for(i=t;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,o)}},ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)},ol.Collection.prototype.assertUnique_=function(e,o){for(var t=0,r=this.array_.length;t<r;++t)if(this.array_[t]===e&&t!==o)throw new ol.AssertionError(58)},ol.Collection.Property_={LENGTH:"length"},ol.Collection.Event=function(e,o){ol.events.Event.call(this,e),this.element=o},ol.inherits(ol.Collection.Event,ol.events.Event),goog.provide("ol.MapEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.MapEvent=function(e,o,t){ol.events.Event.call(this,e),this.map=o,this.frameState=void 0!==t?t:null},ol.inherits(ol.MapEvent,ol.events.Event),goog.provide("ol.MapBrowserEvent"),goog.require("ol"),goog.require("ol.MapEvent"),ol.MapBrowserEvent=function(e,o,t,r,i){ol.MapEvent.call(this,e,o,i),this.originalEvent=t,this.pixel=o.getEventPixel(t),this.coordinate=o.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r},ol.inherits(ol.MapBrowserEvent,ol.MapEvent),ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},goog.provide("ol.webgl"),ol.webgl.ONE=1,ol.webgl.SRC_ALPHA=770,ol.webgl.COLOR_ATTACHMENT0=36064,ol.webgl.COLOR_BUFFER_BIT=16384,ol.webgl.TRIANGLES=4,ol.webgl.TRIANGLE_STRIP=5,ol.webgl.ONE_MINUS_SRC_ALPHA=771,ol.webgl.ARRAY_BUFFER=34962,ol.webgl.ELEMENT_ARRAY_BUFFER=34963,ol.webgl.STREAM_DRAW=35040,ol.webgl.STATIC_DRAW=35044,ol.webgl.DYNAMIC_DRAW=35048,ol.webgl.CULL_FACE=2884,ol.webgl.BLEND=3042,ol.webgl.STENCIL_TEST=2960,ol.webgl.DEPTH_TEST=2929,ol.webgl.SCISSOR_TEST=3089,ol.webgl.UNSIGNED_BYTE=5121,ol.webgl.UNSIGNED_SHORT=5123,ol.webgl.UNSIGNED_INT=5125,ol.webgl.FLOAT=5126,ol.webgl.RGBA=6408,ol.webgl.FRAGMENT_SHADER=35632,ol.webgl.VERTEX_SHADER=35633,ol.webgl.LINK_STATUS=35714,ol.webgl.LINEAR=9729,ol.webgl.TEXTURE_MAG_FILTER=10240,ol.webgl.TEXTURE_MIN_FILTER=10241,ol.webgl.TEXTURE_WRAP_S=10242,ol.webgl.TEXTURE_WRAP_T=10243,ol.webgl.TEXTURE_2D=3553,ol.webgl.TEXTURE0=33984,ol.webgl.CLAMP_TO_EDGE=33071,ol.webgl.COMPILE_STATUS=35713,ol.webgl.FRAMEBUFFER=36160,ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"],ol.webgl.getContext=function(e,o){var t,r,i=ol.webgl.CONTEXT_IDS_.length;for(r=0;r<i;++r)try{if(t=e.getContext(ol.webgl.CONTEXT_IDS_[r],o))return t}catch(e){}return null},goog.provide("ol.has"),goog.require("ol"),goog.require("ol.webgl");var ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=-1!==ua.indexOf("firefox"),ol.has.SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom"),ol.has.WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge"),ol.has.MAC=-1!==ua.indexOf("macintosh"),ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,ol.has.CANVAS_LINE_DASH=!1,ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var e=document.createElement("CANVAS").getContext("2d");return!!e&&(void 0!==e.setLineDash&&(ol.has.CANVAS_LINE_DASH=!0),!0)}catch(e){return!1}}(),ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,ol.has.GEOLOCATION="geolocation"in navigator,ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window,ol.has.POINTER="PointerEvent"in window,ol.has.MSPOINTER=!!navigator.msPointerEnabled,ol.has.WEBGL,function(){if(ol.ENABLE_WEBGL){var e,o=!1,t=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),i=ol.webgl.getContext(r,{failIfMajorPerformanceCaveat:!0});i&&(o=!0,e=i.getParameter(i.MAX_TEXTURE_SIZE),t=i.getSupportedExtensions())}catch(e){}ol.has.WEBGL=o,ol.WEBGL_EXTENSIONS=t,ol.WEBGL_MAX_TEXTURE_SIZE=e}}(),goog.provide("ol.MapBrowserEventType"),goog.require("ol.events.EventType"),ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.MapBrowserPointerEvent"),goog.require("ol"),goog.require("ol.MapBrowserEvent"),ol.MapBrowserPointerEvent=function(e,o,t,r,i){ol.MapBrowserEvent.call(this,e,o,t.originalEvent,r,i),this.pointerEvent=t},ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent),goog.provide("ol.pointer.EventType"),ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.pointer.EventSource"),ol.pointer.EventSource=function(e,o){this.dispatcher=e,this.mapping_=o},ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)},ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},goog.provide("ol.pointer.MouseSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MouseSource=function(e){var o={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,e,o),this.pointerMap=e.pointerMap,this.lastTouches=[]},ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource),ol.pointer.MouseSource.POINTER_ID=1,ol.pointer.MouseSource.POINTER_TYPE="mouse",ol.pointer.MouseSource.DEDUP_DIST=25,ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){for(var o,t=this.lastTouches,r=e.clientX,i=e.clientY,n=0,l=t.length;n<l&&(o=t[n]);n++){var a=Math.abs(r-o[0]),s=Math.abs(i-o[1]);if(a<=ol.pointer.MouseSource.DEDUP_DIST&&s<=ol.pointer.MouseSource.DEDUP_DIST)return!0}return!1},ol.pointer.MouseSource.prepareEvent=function(e,o){var t=o.cloneEvent(e,e),r=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),r()},t.pointerId=ol.pointer.MouseSource.POINTER_ID,t.isPrimary=!0,t.pointerType=ol.pointer.MouseSource.POINTER_TYPE,t},ol.pointer.MouseSource.prototype.mousedown=function(e){if(!this.isEventSimulatedFromTouch_(e)){ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap&&this.cancel(e);var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=e,this.dispatcher.down(o,e)}},ol.pointer.MouseSource.prototype.mousemove=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.move(o,e)}},ol.pointer.MouseSource.prototype.mouseup=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(o&&o.button===e.button){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.up(t,e),this.cleanupMouse()}}},ol.pointer.MouseSource.prototype.mouseover=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.enterOver(o,e)}},ol.pointer.MouseSource.prototype.mouseout=function(e){if(!this.isEventSimulatedFromTouch_(e)){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.leaveOut(o,e)}},ol.pointer.MouseSource.prototype.cancel=function(e){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.cancel(o,e),this.cleanupMouse()},ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]},goog.provide("ol.pointer.MsSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MsSource=function(e){var o={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,e,o),this.pointerMap=e.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]},ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource),ol.pointer.MsSource.prototype.prepareEvent_=function(e){var o=e;return"number"==typeof e.pointerType&&(o=this.dispatcher.cloneEvent(e,e),o.pointerType=this.POINTER_TYPES[e.pointerType]),o},ol.pointer.MsSource.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]},ol.pointer.MsSource.prototype.msPointerDown=function(e){this.pointerMap[e.pointerId.toString()]=e;var o=this.prepareEvent_(e);this.dispatcher.down(o,e)},ol.pointer.MsSource.prototype.msPointerMove=function(e){var o=this.prepareEvent_(e);this.dispatcher.move(o,e)},ol.pointer.MsSource.prototype.msPointerUp=function(e){var o=this.prepareEvent_(e);this.dispatcher.up(o,e),this.cleanup(e.pointerId)},ol.pointer.MsSource.prototype.msPointerOut=function(e){var o=this.prepareEvent_(e);this.dispatcher.leaveOut(o,e)},ol.pointer.MsSource.prototype.msPointerOver=function(e){var o=this.prepareEvent_(e);this.dispatcher.enterOver(o,e)},ol.pointer.MsSource.prototype.msPointerCancel=function(e){var o=this.prepareEvent_(e);this.dispatcher.cancel(o,e),this.cleanup(e.pointerId)},ol.pointer.MsSource.prototype.msLostPointerCapture=function(e){var o=this.dispatcher.makeEvent("lostpointercapture",e,e);this.dispatcher.dispatchEvent(o)},ol.pointer.MsSource.prototype.msGotPointerCapture=function(e){var o=this.dispatcher.makeEvent("gotpointercapture",e,e);this.dispatcher.dispatchEvent(o)},goog.provide("ol.pointer.NativeSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.NativeSource=function(e){var o={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,e,o)},ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource),ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},goog.provide("ol.pointer.PointerEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.pointer.PointerEvent=function(e,o,t){ol.events.Event.call(this,e),this.originalEvent=o;var r=t||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,o.preventDefault&&(this.preventDefault=function(){o.preventDefault()})},ol.inherits(ol.pointer.PointerEvent,ol.events.Event),ol.pointer.PointerEvent.prototype.getButtons_=function(e){var o;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS)o=e.buttons;else switch(e.which){case 1:o=1;break;case 2:o=4;break;case 3:o=2;break;default:o=0}return o},ol.pointer.PointerEvent.prototype.getPressure_=function(e,o){return e.pressure?e.pressure:o?.5:0},ol.pointer.PointerEvent.HAS_BUTTONS=!1,function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===e.buttons}catch(e){}}(),goog.provide("ol.pointer.TouchSource"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.pointer.EventSource"),goog.require("ol.pointer.MouseSource"),ol.pointer.TouchSource=function(e,o){var t={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,e,t),this.pointerMap=e.pointerMap,this.mouseSource=o,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0},ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource),ol.pointer.TouchSource.DEDUP_TIMEOUT=2500,ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200,ol.pointer.TouchSource.POINTER_TYPE="touch",ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier},ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var o=Object.keys(this.pointerMap).length;(0===o||1===o&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=e.identifier,this.cancelResetClickCount_())},ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){e.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)},ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},ol.pointer.TouchSource.prototype.touchToPointer_=function(e,o){var t=this.dispatcher.cloneEvent(e,o);return t.pointerId=o.identifier+2,t.bubbles=!0,t.cancelable=!0,t.detail=this.clickCount_,t.button=0,t.buttons=1,t.width=o.webkitRadiusX||o.radiusX||0,t.height=o.webkitRadiusY||o.radiusY||0,t.pressure=o.webkitForce||o.force||.5,t.isPrimary=this.isPrimaryTouch_(o),t.pointerType=ol.pointer.TouchSource.POINTER_TYPE,t.clientX=o.clientX,t.clientY=o.clientY,t.screenX=o.screenX,t.screenY=o.screenY,t},ol.pointer.TouchSource.prototype.processTouches_=function(e,o){function t(){e.preventDefault()}var r,i,n=Array.prototype.slice.call(e.changedTouches),l=n.length;for(r=0;r<l;++r)i=this.touchToPointer_(e,n[r]),i.preventDefault=t,o.call(this,e,i)},ol.pointer.TouchSource.prototype.findTouch_=function(e,o){for(var t,r=e.length,i=0;i<r;i++)if(t=e[i],t.identifier===o)return!0;return!1},ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var o=e.touches,t=Object.keys(this.pointerMap),r=t.length;if(r>=o.length){var i,n,l,a=[];for(i=0;i<r;++i)n=t[i],l=this.pointerMap[n],n==ol.pointer.MouseSource.POINTER_ID||this.findTouch_(o,n-2)||a.push(l.out);for(i=0;i<a.length;++i)this.cancelOut_(e,a[i])}},ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e),this.setPrimaryTouch_(e.changedTouches[0]),this.dedupSynthMouse_(e),this.clickCount_++,this.processTouches_(e,this.overDown_)},ol.pointer.TouchSource.prototype.overDown_=function(e,o){this.pointerMap[o.pointerId]={target:o.target,out:o,outTarget:o.target},this.dispatcher.over(o,e),this.dispatcher.enter(o,e),this.dispatcher.down(o,e)},ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault(),this.processTouches_(e,this.moveOverOut_)},ol.pointer.TouchSource.prototype.moveOverOut_=function(e,o){var t=o,r=this.pointerMap[t.pointerId];if(r){var i=r.out,n=r.outTarget;this.dispatcher.move(t,e),i&&n!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=n,i.target=n,t.target?(this.dispatcher.leaveOut(i,e),this.dispatcher.enterOver(t,e)):(t.target=n,t.relatedTarget=null,this.cancelOut_(e,t))),r.out=t,r.outTarget=t.target}},ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e),this.processTouches_(e,this.upOut_)},ol.pointer.TouchSource.prototype.upOut_=function(e,o){this.dispatcher.up(o,e),this.dispatcher.out(o,e),this.dispatcher.leave(o,e),this.cleanUpPointer_(o)},ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)},ol.pointer.TouchSource.prototype.cancelOut_=function(e,o){this.dispatcher.cancel(o,e),this.dispatcher.out(o,e),this.dispatcher.leave(o,e),this.cleanUpPointer_(o)},ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId],this.removePrimaryPointer_(e)},ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var o=this.mouseSource.lastTouches,t=e.changedTouches[0];if(this.isPrimaryTouch_(t)){var r=[t.clientX,t.clientY];o.push(r),setTimeout(function(){ol.array.remove(o,r)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}},goog.provide("ol.pointer.PointerEventHandler"),goog.require("ol"),goog.require("ol.events"),
goog.require("ol.events.EventTarget"),goog.require("ol.has"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.MouseSource"),goog.require("ol.pointer.MsSource"),goog.require("ol.pointer.NativeSource"),goog.require("ol.pointer.PointerEvent"),goog.require("ol.pointer.TouchSource"),ol.pointer.PointerEventHandler=function(e){ol.events.EventTarget.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()},ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget),ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER)this.registerSource("native",new ol.pointer.NativeSource(this));else if(ol.has.MSPOINTER)this.registerSource("ms",new ol.pointer.MsSource(this));else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e),ol.has.TOUCH&&this.registerSource("touch",new ol.pointer.TouchSource(this,e))}this.register_()},ol.pointer.PointerEventHandler.prototype.registerSource=function(e,o){var t=o,r=t.getEvents();r&&(r.forEach(function(e){var o=t.getHandlerForEvent(e);o&&(this.eventMap_[e]=o.bind(t))},this),this.eventSourceList_.push(t))},ol.pointer.PointerEventHandler.prototype.register_=function(){for(var e,o=this.eventSourceList_.length,t=0;t<o;t++)e=this.eventSourceList_[t],this.addEvents_(e.getEvents())},ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var e,o=this.eventSourceList_.length,t=0;t<o;t++)e=this.eventSourceList_[t],this.removeEvents_(e.getEvents())},ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var o=e.type,t=this.eventMap_[o];t&&t(e)},ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){e.forEach(function(e){ol.events.listen(this.element_,e,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){e.forEach(function(e){ol.events.unlisten(this.element_,e,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,o){for(var t,r={},i=0,n=ol.pointer.PointerEventHandler.CLONE_PROPS.length;i<n;i++)t=ol.pointer.PointerEventHandler.CLONE_PROPS[i][0],r[t]=e[t]||o[t]||ol.pointer.PointerEventHandler.CLONE_PROPS[i][1];return r},ol.pointer.PointerEventHandler.prototype.down=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,o)},ol.pointer.PointerEventHandler.prototype.move=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,o)},ol.pointer.PointerEventHandler.prototype.up=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERUP,e,o)},ol.pointer.PointerEventHandler.prototype.enter=function(e,o){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERENTER,e,o)},ol.pointer.PointerEventHandler.prototype.leave=function(e,o){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,o)},ol.pointer.PointerEventHandler.prototype.over=function(e,o){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROVER,e,o)},ol.pointer.PointerEventHandler.prototype.out=function(e,o){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROUT,e,o)},ol.pointer.PointerEventHandler.prototype.cancel=function(e,o){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,o)},ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,o){this.out(e,o),this.contains_(e.target,e.relatedTarget)||this.leave(e,o)},ol.pointer.PointerEventHandler.prototype.enterOver=function(e,o){this.over(e,o),this.contains_(e.target,e.relatedTarget)||this.enter(e,o)},ol.pointer.PointerEventHandler.prototype.contains_=function(e,o){return!(!e||!o)&&e.contains(o)},ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,o,t){return new ol.pointer.PointerEvent(e,t,o)},ol.pointer.PointerEventHandler.prototype.fireEvent=function(e,o,t){var r=this.makeEvent(e,o,t);this.dispatchEvent(r)},ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(e){var o=this.makeEvent(e.type,e,e);this.dispatchEvent(o)},ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,o){return this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(o,this),o)},ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_(),ol.events.EventTarget.prototype.disposeInternal.call(this)},ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],goog.provide("ol.MapBrowserEventHandler"),goog.require("ol"),goog.require("ol.has"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.MapBrowserEventHandler=function(e,o){ol.events.EventTarget.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=o?o*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO,this.down_=null;var t=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new ol.pointer.PointerEventHandler(t),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)},ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget),ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(o),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,e),this.dispatchEvent(o)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(o)}.bind(this),250)},ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var o=e;o.type==ol.MapBrowserEventType.POINTERUP||o.type==ol.MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==ol.MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,e);this.dispatchEvent(o),!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return 0===e.button},ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,e);this.dispatchEvent(o),this.down_=e,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document),this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)))},ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var o=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(o)}e.preventDefault()},ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var o=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,o))},ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},ol.MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ol.events.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(ol.events.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),ol.events.EventTarget.prototype.disposeInternal.call(this)},goog.provide("ol.MapEventType"),ol.MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},goog.provide("ol.MapProperty"),ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},goog.provide("ol.TileState"),ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5},goog.provide("ol.structs.PriorityQueue"),goog.require("ol.asserts"),goog.require("ol.obj"),ol.structs.PriorityQueue=function(e,o){this.priorityFunction_=e,this.keyFunction_=o,this.elements_=[],this.priorities_=[],this.queuedElements_={}},ol.structs.PriorityQueue.DROP=1/0,ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ol.obj.clear(this.queuedElements_)},ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_,o=this.priorities_,t=e[0];1==e.length?(e.length=0,o.length=0):(e[0]=e.pop(),o[0]=o.pop(),this.siftUp_(0));var r=this.keyFunction_(t);return delete this.queuedElements_[r],t},ol.structs.PriorityQueue.prototype.enqueue=function(e){ol.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var o=this.priorityFunction_(e);return o!=ol.structs.PriorityQueue.DROP&&(this.elements_.push(e),this.priorities_.push(o),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length},ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return 2*e+1},ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return 2*e+2},ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1},ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_},ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},ol.structs.PriorityQueue.prototype.siftUp_=function(e){for(var o=this.elements_,t=this.priorities_,r=o.length,i=o[e],n=t[e],l=e;e<r>>1;){var a=this.getLeftChildIndex_(e),s=this.getRightChildIndex_(e),p=s<r&&t[s]<t[a]?s:a;o[e]=o[p],t[e]=t[p],e=p}o[e]=i,t[e]=n,this.siftDown_(l,e)},ol.structs.PriorityQueue.prototype.siftDown_=function(e,o){for(var t=this.elements_,r=this.priorities_,i=t[o],n=r[o];o>e;){var l=this.getParentIndex_(o);if(!(r[l]>n))break;t[o]=t[l],r[o]=r[l],o=l}t[o]=i,r[o]=n},ol.structs.PriorityQueue.prototype.reprioritize=function(){var e,o,t,r=this.priorityFunction_,i=this.elements_,n=this.priorities_,l=0,a=i.length;for(o=0;o<a;++o)e=i[o],t=r(e),t==ol.structs.PriorityQueue.DROP?delete this.queuedElements_[this.keyFunction_(e)]:(n[l]=t,i[l++]=e);i.length=l,n.length=l,this.heapify_()},goog.provide("ol.TileQueue"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType");goog.require("ol.structs.PriorityQueue"),ol.TileQueue=function(e,o){ol.structs.PriorityQueue.call(this,function(o){return e.apply(null,o)},function(e){return e[0].getKey()}),this.tileChangeCallback_=o,this.tilesLoading_=0,this.tilesLoadingKeys_={}},ol.inherits(ol.TileQueue,ol.structs.PriorityQueue),ol.TileQueue.prototype.enqueue=function(e){var o=ol.structs.PriorityQueue.prototype.enqueue.call(this,e);if(o){var t=e[0];ol.events.listen(t,ol.events.EventType.CHANGE,this.handleTileChange,this)}return o},ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},ol.TileQueue.prototype.handleTileChange=function(e){var o=e.target,t=o.getState();if(t===ol.TileState.LOADED||t===ol.TileState.ERROR||t===ol.TileState.EMPTY||t===ol.TileState.ABORT){ol.events.unlisten(o,ol.events.EventType.CHANGE,this.handleTileChange,this);var r=o.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},ol.TileQueue.prototype.loadMoreTiles=function(e,o){for(var t,r,i,n=0,l=!1;this.tilesLoading_<e&&n<o&&this.getCount()>0;)r=this.dequeue()[0],i=r.getKey(),t=r.getState(),t===ol.TileState.ABORT?l=!0:t!==ol.TileState.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++n,r.load());0===n&&l&&this.tileChangeCallback_()},goog.provide("ol.CenterConstraint"),goog.require("ol.math"),ol.CenterConstraint.createExtent=function(e){return function(o){return o?[ol.math.clamp(o[0],e[0],e[2]),ol.math.clamp(o[1],e[1],e[3])]:void 0}},ol.CenterConstraint.none=function(e){return e},goog.provide("ol.ResolutionConstraint"),goog.require("ol.array"),goog.require("ol.math"),ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(o,t,r){if(void 0!==o){var i=ol.array.linearFindNearest(e,o,r);i=ol.math.clamp(i+t,0,e.length-1);var n=Math.floor(i);if(i!=n&&n<e.length-1){var l=e[n]/e[n+1];return e[n]/Math.pow(l,i-n)}return e[n]}}},ol.ResolutionConstraint.createSnapToPower=function(e,o,t){return function(r,i,n){if(void 0!==r){var l=-n/2+.5,a=Math.floor(Math.log(o/r)/Math.log(e)+l),s=Math.max(a+i,0);return void 0!==t&&(s=Math.min(s,t)),o/Math.pow(e,s)}}},goog.provide("ol.RotationConstraint"),goog.require("ol.math"),ol.RotationConstraint.disable=function(e,o){return void 0!==e?0:void 0},ol.RotationConstraint.none=function(e,o){return void 0!==e?e+o:void 0},ol.RotationConstraint.createSnapToN=function(e){var o=2*Math.PI/e;return function(e,t){return void 0!==e?e=Math.floor((e+t)/o+.5)*o:void 0}},ol.RotationConstraint.createSnapToZero=function(e){var o=e||ol.math.toRadians(5);return function(e,t){return void 0!==e?Math.abs(e+t)<=o?0:e+t:void 0}},goog.provide("ol.ViewHint"),ol.ViewHint={ANIMATING:0,INTERACTING:1},goog.provide("ol.ViewProperty"),ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},goog.provide("ol.string"),ol.string.padNumber=function(e,o,t){var r=void 0!==t?e.toFixed(t):""+e,i=r.indexOf(".");return i=-1===i?r.length:i,i>o?r:new Array(1+o-i).join("0")+r},ol.string.compareVersions=function(e,o){for(var t=(""+e).split("."),r=(""+o).split("."),i=0;i<Math.max(t.length,r.length);i++){var n=parseInt(t[i]||"0",10),l=parseInt(r[i]||"0",10);if(n>l)return 1;if(l>n)return-1}return 0},goog.provide("ol.coordinate"),goog.require("ol.math"),goog.require("ol.string"),ol.coordinate.add=function(e,o){return e[0]+=o[0],e[1]+=o[1],e},ol.coordinate.closestOnCircle=function(e,o){var t=o.getRadius(),r=o.getCenter(),i=r[0],n=r[1],l=e[0],a=e[1],s=l-i,p=a-n;0===s&&0===p&&(s=1);var g,c,u=Math.sqrt(s*s+p*p);return g=i+t*s/u,c=n+t*p/u,[g,c]},ol.coordinate.closestOnSegment=function(e,o){var t,r,i=e[0],n=e[1],l=o[0],a=o[1],s=l[0],p=l[1],g=a[0],c=a[1],u=g-s,y=c-p,h=0===u&&0===y?0:(u*(i-s)+y*(n-p))/(u*u+y*y||0);return h<=0?(t=s,r=p):h>=1?(t=g,r=c):(t=s+h*u,r=p+h*y),[t,r]},ol.coordinate.createStringXY=function(e){return function(o){return ol.coordinate.toStringXY(o,e)}},ol.coordinate.degreesToStringHDMS=function(e,o,t){var r=ol.math.modulo(o+180,360)-180,i=Math.abs(3600*r),n=t||0,l=Math.pow(10,n),a=Math.floor(i/3600),s=Math.floor((i-3600*a)/60),p=i-3600*a-60*s;return p=Math.ceil(p*l)/l,p>=60&&(p=0,s+=1),s>=60&&(s=0,a+=1),a+"° "+ol.string.padNumber(s,2)+"′ "+ol.string.padNumber(p,2,n)+"″"+(0==r?"":" "+e.charAt(r<0?1:0))},ol.coordinate.format=function(e,o,t){return e?o.replace("{x}",e[0].toFixed(t)).replace("{y}",e[1].toFixed(t)):""},ol.coordinate.equals=function(e,o){for(var t=!0,r=e.length-1;r>=0;--r)if(e[r]!=o[r]){t=!1;break}return t},ol.coordinate.rotate=function(e,o){var t=Math.cos(o),r=Math.sin(o),i=e[0]*t-e[1]*r,n=e[1]*t+e[0]*r;return e[0]=i,e[1]=n,e},ol.coordinate.scale=function(e,o){return e[0]*=o,e[1]*=o,e},ol.coordinate.sub=function(e,o){return e[0]-=o[0],e[1]-=o[1],e},ol.coordinate.squaredDistance=function(e,o){var t=e[0]-o[0],r=e[1]-o[1];return t*t+r*r},ol.coordinate.distance=function(e,o){return Math.sqrt(ol.coordinate.squaredDistance(e,o))},ol.coordinate.squaredDistanceToSegment=function(e,o){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,o))},ol.coordinate.toStringHDMS=function(e,o){return e?ol.coordinate.degreesToStringHDMS("NS",e[1],o)+" "+ol.coordinate.degreesToStringHDMS("EW",e[0],o):""},ol.coordinate.toStringXY=function(e,o){return ol.coordinate.format(e,"{x}, {y}",o)},goog.provide("ol.easing"),ol.easing.easeIn=function(e){return Math.pow(e,3)},ol.easing.easeOut=function(e){return 1-ol.easing.easeIn(1-e)},ol.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},ol.easing.linear=function(e){return e},ol.easing.upAndDown=function(e){return e<.5?ol.easing.inAndOut(2*e):1-ol.easing.inAndOut(2*(e-.5))},goog.provide("ol.geom.GeometryLayout"),ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},goog.provide("ol.functions"),ol.functions.TRUE=function(){return!0},ol.functions.FALSE=function(){return!1},goog.provide("ol.geom.flat.transform"),ol.geom.flat.transform.transform2D=function(e,o,t,r,i,n){var l,a=n||[],s=0;for(l=o;l<t;l+=r){var p=e[l],g=e[l+1];a[s++]=i[0]*p+i[2]*g+i[4],a[s++]=i[1]*p+i[3]*g+i[5]}return n&&a.length!=s&&(a.length=s),a},ol.geom.flat.transform.rotate=function(e,o,t,r,i,n,l){for(var a=l||[],s=Math.cos(i),p=Math.sin(i),g=n[0],c=n[1],u=0,y=o;y<t;y+=r){var h=e[y]-g,d=e[y+1]-c;a[u++]=g+h*s-d*p,a[u++]=c+h*p+d*s;for(var m=y+2;m<y+r;++m)a[u++]=e[m]}return l&&a.length!=u&&(a.length=u),a},ol.geom.flat.transform.scale=function(e,o,t,r,i,n,l,a){for(var s=a||[],p=l[0],g=l[1],c=0,u=o;u<t;u+=r){var y=e[u]-p,h=e[u+1]-g;s[c++]=p+i*y,s[c++]=g+n*h;for(var d=u+2;d<u+r;++d)s[c++]=e[d]}return a&&s.length!=c&&(s.length=c),s},ol.geom.flat.transform.translate=function(e,o,t,r,i,n,l){var a,s,p=l||[],g=0;for(a=o;a<t;a+=r)for(p[g++]=e[a]+i,p[g++]=e[a+1]+n,s=a+2;s<a+r;++s)p[g++]=e[s];return l&&p.length!=g&&(p.length=g),p},goog.provide("ol.transform"),goog.require("ol.asserts"),ol.transform.tmp_=new Array(6),ol.transform.create=function(){return[1,0,0,1,0,0]},ol.transform.reset=function(e){return ol.transform.set(e,1,0,0,1,0,0)},ol.transform.multiply=function(e,o){var t=e[0],r=e[1],i=e[2],n=e[3],l=e[4],a=e[5],s=o[0],p=o[1],g=o[2],c=o[3],u=o[4],y=o[5];return e[0]=t*s+i*p,e[1]=r*s+n*p,e[2]=t*g+i*c,e[3]=r*g+n*c,e[4]=t*u+i*y+l,e[5]=r*u+n*y+a,e},ol.transform.set=function(e,o,t,r,i,n,l){return e[0]=o,e[1]=t,e[2]=r,e[3]=i,e[4]=n,e[5]=l,e},ol.transform.setFromArray=function(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e},ol.transform.apply=function(e,o){var t=o[0],r=o[1];return o[0]=e[0]*t+e[2]*r+e[4],o[1]=e[1]*t+e[3]*r+e[5],o},ol.transform.rotate=function(e,o){var t=Math.cos(o),r=Math.sin(o);return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,t,r,-r,t,0,0))},ol.transform.scale=function(e,o,t){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,o,0,0,t,0,0))},ol.transform.translate=function(e,o,t){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,1,0,0,1,o,t))},ol.transform.compose=function(e,o,t,r,i,n,l,a){var s=Math.sin(n),p=Math.cos(n);return e[0]=r*p,e[1]=i*s,e[2]=-r*s,e[3]=i*p,e[4]=l*r*p-a*r*s+o,e[5]=l*i*s+a*i*p+t,e},ol.transform.invert=function(e){var o=ol.transform.determinant(e);ol.asserts.assert(0!==o,32);var t=e[0],r=e[1],i=e[2],n=e[3],l=e[4],a=e[5];return e[0]=n/o,e[1]=-r/o,e[2]=-i/o,e[3]=t/o,e[4]=(i*a-n*l)/o,e[5]=-(t*a-r*l)/o,e},ol.transform.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},goog.provide("ol.geom.Geometry"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.flat.transform"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.transform"),ol.geom.Geometry=function(){ol.Object.call(this),this.extent_=ol.extent.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=ol.transform.create()},ol.inherits(ol.geom.Geometry,ol.Object),ol.geom.Geometry.prototype.clone=function(){},ol.geom.Geometry.prototype.closestPointXY=function(e,o,t,r){},ol.geom.Geometry.prototype.getClosestPoint=function(e,o){var t=o||[NaN,NaN];return this.closestPointXY(e[0],e[1],t,1/0),t},ol.geom.Geometry.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},ol.geom.Geometry.prototype.computeExtent=function(e){},ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE,ol.geom.Geometry.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),ol.extent.returnOrUpdate(this.extent_,e)},ol.geom.Geometry.prototype.rotate=function(e,o){},ol.geom.Geometry.prototype.scale=function(e,o,t){},ol.geom.Geometry.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},ol.geom.Geometry.prototype.getSimplifiedGeometry=function(e){},ol.geom.Geometry.prototype.getType=function(){},ol.geom.Geometry.prototype.applyTransform=function(e){},ol.geom.Geometry.prototype.intersectsExtent=function(e){},ol.geom.Geometry.prototype.translate=function(e,o){},ol.geom.Geometry.prototype.transform=function(e,o){var t=this.tmpTransform_;e=ol.proj.get(e);var r=e.getUnits()==ol.proj.Units.TILE_PIXELS?function(r,i,n){var l=e.getExtent(),a=e.getWorldExtent(),s=ol.extent.getHeight(a)/ol.extent.getHeight(l);return ol.transform.compose(t,a[0],a[3],s,-s,0,0,0),ol.geom.flat.transform.transform2D(r,0,r.length,n,t,i),ol.proj.getTransform(e,o)(r,i,n)}:ol.proj.getTransform(e,o);return this.applyTransform(r),this},goog.provide("ol.geom.SimpleGeometry"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this),this.layout=ol.geom.GeometryLayout.XY,this.stride=2,this.flatCoordinates=null},ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry),ol.geom.SimpleGeometry.getLayoutForStride_=function(e){var o;return 2==e?o=ol.geom.GeometryLayout.XY:3==e?o=ol.geom.GeometryLayout.XYZ:4==e&&(o=ol.geom.GeometryLayout.XYZM),o},ol.geom.SimpleGeometry.getStrideForLayout=function(e){var o;return e==ol.geom.GeometryLayout.XY?o=2:e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYM?o=3:e==ol.geom.GeometryLayout.XYZM&&(o=4),o},ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE,ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.SimpleGeometry.prototype.getCoordinates=function(){},ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(o))return this.simplifiedGeometryCache[o];var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[o]=t,t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(e){return this},ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride},ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,o){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e),this.layout=e,this.flatCoordinates=o},ol.geom.SimpleGeometry.prototype.setCoordinates=function(e,o){},ol.geom.SimpleGeometry.prototype.setLayout=function(e,o,t){var r;if(e)r=ol.geom.SimpleGeometry.getStrideForLayout(e);else{var i;for(i=0;i<t;++i){if(0===o.length)return this.layout=ol.geom.GeometryLayout.XY,void(this.stride=2);o=o[0]}r=o.length,e=ol.geom.SimpleGeometry.getLayoutForStride_(r)}this.layout=e,this.stride=r},ol.geom.SimpleGeometry.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},ol.geom.SimpleGeometry.prototype.rotate=function(e,o){var t=this.getFlatCoordinates();if(t){var r=this.getStride();ol.geom.flat.transform.rotate(t,0,t.length,r,e,o,t),this.changed()}},ol.geom.SimpleGeometry.prototype.scale=function(e,o,t){var r=o;void 0===r&&(r=e);var i=t;i||(i=ol.extent.getCenter(this.getExtent()));var n=this.getFlatCoordinates();if(n){var l=this.getStride();ol.geom.flat.transform.scale(n,0,n.length,l,e,r,i,n),this.changed()}},ol.geom.SimpleGeometry.prototype.translate=function(e,o){var t=this.getFlatCoordinates();if(t){var r=this.getStride();ol.geom.flat.transform.translate(t,0,t.length,r,e,o,t),this.changed()}},ol.geom.SimpleGeometry.transform2D=function(e,o,t){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return ol.geom.flat.transform.transform2D(r,0,r.length,i,o,t)}return null},goog.provide("ol.geom.flat.area"),ol.geom.flat.area.linearRing=function(e,o,t,r){for(var i=0,n=e[t-r],l=e[t-r+1];o<t;o+=r){var a=e[o],s=e[o+1];i+=l*a-n*s,n=a,l=s}return i/2},ol.geom.flat.area.linearRings=function(e,o,t,r){var i,n,l=0;for(i=0,n=t.length;i<n;++i){var a=t[i];l+=ol.geom.flat.area.linearRing(e,o,a,r),o=a}return l},ol.geom.flat.area.linearRingss=function(e,o,t,r){var i,n,l=0;for(i=0,n=t.length;i<n;++i){var a=t[i];l+=ol.geom.flat.area.linearRings(e,o,a,r),o=a[a.length-1]}return l},goog.provide("ol.geom.flat.closest"),goog.require("ol.math"),ol.geom.flat.closest.point=function(e,o,t,r,i,n,l){var a,s,p=e[o],g=e[o+1],c=e[t]-p,u=e[t+1]-g;if(0===c&&0===u)s=o;else{var y=((i-p)*c+(n-g)*u)/(c*c+u*u);if(y>1)s=t;else{if(y>0){for(a=0;a<r;++a)l[a]=ol.math.lerp(e[o+a],e[t+a],y);return void(l.length=r)}s=o}}for(a=0;a<r;++a)l[a]=e[s+a];l.length=r},ol.geom.flat.closest.getMaxSquaredDelta=function(e,o,t,r,i){var n=e[o],l=e[o+1];for(o+=r;o<t;o+=r){var a=e[o],s=e[o+1],p=ol.math.squaredDistance(n,l,a,s);p>i&&(i=p),n=a,l=s}return i},ol.geom.flat.closest.getsMaxSquaredDelta=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n){var a=t[n];i=ol.geom.flat.closest.getMaxSquaredDelta(e,o,a,r,i),o=a}return i},ol.geom.flat.closest.getssMaxSquaredDelta=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n){var a=t[n];i=ol.geom.flat.closest.getsMaxSquaredDelta(e,o,a,r,i),o=a[a.length-1]}return i},ol.geom.flat.closest.getClosestPoint=function(e,o,t,r,i,n,l,a,s,p,g){if(o==t)return p;var c,u;if(0===i){if((u=ol.math.squaredDistance(l,a,e[o],e[o+1]))<p){for(c=0;c<r;++c)s[c]=e[o+c];return s.length=r,u}return p}for(var y=g||[NaN,NaN],h=o+r;h<t;)if(ol.geom.flat.closest.point(e,h-r,h,r,l,a,y),(u=ol.math.squaredDistance(l,a,y[0],y[1]))<p){for(p=u,c=0;c<r;++c)s[c]=y[c];s.length=r,h+=r}else h+=r*Math.max((Math.sqrt(u)-Math.sqrt(p))/i|0,1);if(n&&(ol.geom.flat.closest.point(e,t-r,o,r,l,a,y),(u=ol.math.squaredDistance(l,a,y[0],y[1]))<p)){for(p=u,c=0;c<r;++c)s[c]=y[c];s.length=r}return p},ol.geom.flat.closest.getsClosestPoint=function(e,o,t,r,i,n,l,a,s,p,g){var c,u,y=g||[NaN,NaN];for(c=0,u=t.length;c<u;++c){var h=t[c];p=ol.geom.flat.closest.getClosestPoint(e,o,h,r,i,n,l,a,s,p,y),o=h}return p},ol.geom.flat.closest.getssClosestPoint=function(e,o,t,r,i,n,l,a,s,p,g){var c,u,y=g||[NaN,NaN];for(c=0,u=t.length;c<u;++c){var h=t[c];p=ol.geom.flat.closest.getsClosestPoint(e,o,h,r,i,n,l,a,s,p,y),o=h[h.length-1]}return p},goog.provide("ol.geom.flat.deflate"),ol.geom.flat.deflate.coordinate=function(e,o,t,r){var i,n;for(i=0,n=t.length;i<n;++i)e[o++]=t[i];return o},ol.geom.flat.deflate.coordinates=function(e,o,t,r){var i,n;for(i=0,n=t.length;i<n;++i){var l,a=t[i];for(l=0;l<r;++l)e[o++]=a[l]}return o},ol.geom.flat.deflate.coordinatess=function(e,o,t,r,i){var n,l,a=i||[],s=0;for(n=0,l=t.length;n<l;++n){var p=ol.geom.flat.deflate.coordinates(e,o,t[n],r);a[s++]=p,o=p}return a.length=s,a},ol.geom.flat.deflate.coordinatesss=function(e,o,t,r,i){var n,l,a=i||[],s=0;for(n=0,l=t.length;n<l;++n){var p=ol.geom.flat.deflate.coordinatess(e,o,t[n],r,a[s]);a[s++]=p,o=p[p.length-1]}return a.length=s,a},goog.provide("ol.geom.flat.inflate"),ol.geom.flat.inflate.coordinates=function(e,o,t,r,i){var n,l=void 0!==i?i:[],a=0;for(n=o;n<t;n+=r)l[a++]=e.slice(n,n+r);return l.length=a,l},ol.geom.flat.inflate.coordinatess=function(e,o,t,r,i){var n,l,a=void 0!==i?i:[],s=0;for(n=0,l=t.length;n<l;++n){var p=t[n];a[s++]=ol.geom.flat.inflate.coordinates(e,o,p,r,a[s]),o=p}return a.length=s,a},ol.geom.flat.inflate.coordinatesss=function(e,o,t,r,i){var n,l,a=void 0!==i?i:[],s=0;for(n=0,l=t.length;n<l;++n){var p=t[n];a[s++]=ol.geom.flat.inflate.coordinatess(e,o,p,r,a[s]),o=p[p.length-1]}return a.length=s,a},goog.provide("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.flat.simplify.lineString=function(e,o,t,r,i,n,l){var a=void 0!==l?l:[];return n||(t=ol.geom.flat.simplify.radialDistance(e,o,t,r,i,a,0),e=a,o=0,r=2),a.length=ol.geom.flat.simplify.douglasPeucker(e,o,t,r,i,a,0),a},ol.geom.flat.simplify.douglasPeucker=function(e,o,t,r,i,n,l){var a=(t-o)/r;if(a<3){for(;o<t;o+=r)n[l++]=e[o],n[l++]=e[o+1];return l}var s=new Array(a);s[0]=1,s[a-1]=1;for(var p,g=[o,t-r],c=0;g.length>0;){var u=g.pop(),y=g.pop(),h=0,d=e[y],m=e[y+1],f=e[u],_=e[u+1];for(p=y+r;p<u;p+=r){var v=e[p],S=e[p+1],x=ol.math.squaredSegmentDistance(v,S,d,m,f,_);x>h&&(c=p,h=x)}h>i&&(s[(c-o)/r]=1,y+r<c&&g.push(y,c),c+r<u&&g.push(c,u))}for(p=0;p<a;++p)s[p]&&(n[l++]=e[o+p*r],n[l++]=e[o+p*r+1]);return l},ol.geom.flat.simplify.douglasPeuckers=function(e,o,t,r,i,n,l,a){var s,p;for(s=0,p=t.length;s<p;++s){var g=t[s];l=ol.geom.flat.simplify.douglasPeucker(e,o,g,r,i,n,l),a.push(l),o=g}return l},ol.geom.flat.simplify.douglasPeuckerss=function(e,o,t,r,i,n,l,a){var s,p;for(s=0,p=t.length;s<p;++s){var g=t[s],c=[];l=ol.geom.flat.simplify.douglasPeuckers(e,o,g,r,i,n,l,c),a.push(c),o=g[g.length-1]}return l},ol.geom.flat.simplify.radialDistance=function(e,o,t,r,i,n,l){if(t<=o+r){for(;o<t;o+=r)n[l++]=e[o],n[l++]=e[o+1];return l}var a=e[o],s=e[o+1];n[l++]=a,n[l++]=s;var p=a,g=s;for(o+=r;o<t;o+=r)p=e[o],g=e[o+1],ol.math.squaredDistance(a,s,p,g)>i&&(n[l++]=p,n[l++]=g,a=p,s=g);return p==a&&g==s||(n[l++]=p,n[l++]=g),l},ol.geom.flat.simplify.snap=function(e,o){return o*Math.round(e/o)},ol.geom.flat.simplify.quantize=function(e,o,t,r,i,n,l){if(o==t)return l;var a=ol.geom.flat.simplify.snap(e[o],i),s=ol.geom.flat.simplify.snap(e[o+1],i);o+=r,n[l++]=a,n[l++]=s;var p,g;do{
if(p=ol.geom.flat.simplify.snap(e[o],i),g=ol.geom.flat.simplify.snap(e[o+1],i),(o+=r)==t)return n[l++]=p,n[l++]=g,l}while(p==a&&g==s);for(;o<t;){var c,u;if(c=ol.geom.flat.simplify.snap(e[o],i),u=ol.geom.flat.simplify.snap(e[o+1],i),o+=r,c!=p||u!=g){var y=p-a,h=g-s,d=c-a,m=u-s;y*m==h*d&&(y<0&&d<y||y==d||y>0&&d>y)&&(h<0&&m<h||h==m||h>0&&m>h)?(p=c,g=u):(n[l++]=p,n[l++]=g,a=p,s=g,p=c,g=u)}}return n[l++]=p,n[l++]=g,l},ol.geom.flat.simplify.quantizes=function(e,o,t,r,i,n,l,a){var s,p;for(s=0,p=t.length;s<p;++s){var g=t[s];l=ol.geom.flat.simplify.quantize(e,o,g,r,i,n,l),a.push(l),o=g}return l},ol.geom.flat.simplify.quantizess=function(e,o,t,r,i,n,l,a){var s,p;for(s=0,p=t.length;s<p;++s){var g=t[s],c=[];l=ol.geom.flat.simplify.quantizes(e,o,g,r,i,n,l,c),a.push(c),o=g[g.length-1]}return l},goog.provide("ol.geom.LinearRing"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.simplify"),ol.geom.LinearRing=function(e,o){ol.geom.SimpleGeometry.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry),ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LinearRing.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var o=[];o.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0);var t=new ol.geom.LinearRing(null);return t.setFlatCoordinates(ol.geom.GeometryLayout.XY,o),t},ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING},ol.geom.LinearRing.prototype.intersectsExtent=function(e){},ol.geom.LinearRing.prototype.setCoordinates=function(e,o){e?(this.setLayout(o,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.Point"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.math"),ol.geom.Point=function(e,o){ol.geom.SimpleGeometry.call(this),this.setCoordinates(e,o)},ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Point.prototype.closestPointXY=function(e,o,t,r){var i=this.flatCoordinates,n=ol.math.squaredDistance(e,o,i[0],i[1]);if(n<r){var l,a=this.stride;for(l=0;l<a;++l)t[l]=i[l];return t.length=a,n}return r},ol.geom.Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)},ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT},ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},ol.geom.Point.prototype.setCoordinates=function(e,o){e?(this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Point.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.flat.contains"),goog.require("ol.extent"),ol.geom.flat.contains.linearRingContainsExtent=function(e,o,t,r,i){return!ol.extent.forEachCorner(i,function(i){return!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,i[0],i[1])})},ol.geom.flat.contains.linearRingContainsXY=function(e,o,t,r,i,n){for(var l=0,a=e[t-r],s=e[t-r+1];o<t;o+=r){var p=e[o],g=e[o+1];s<=n?g>n&&(p-a)*(n-s)-(i-a)*(g-s)>0&&l++:g<=n&&(p-a)*(n-s)-(i-a)*(g-s)<0&&l--,a=p,s=g}return 0!==l},ol.geom.flat.contains.linearRingsContainsXY=function(e,o,t,r,i,n){if(0===t.length)return!1;if(!ol.geom.flat.contains.linearRingContainsXY(e,o,t[0],r,i,n))return!1;var l,a;for(l=1,a=t.length;l<a;++l)if(ol.geom.flat.contains.linearRingContainsXY(e,t[l-1],t[l],r,i,n))return!1;return!0},ol.geom.flat.contains.linearRingssContainsXY=function(e,o,t,r,i,n){if(0===t.length)return!1;var l,a;for(l=0,a=t.length;l<a;++l){var s=t[l];if(ol.geom.flat.contains.linearRingsContainsXY(e,o,s,r,i,n))return!0;o=s[s.length-1]}return!1},goog.provide("ol.geom.flat.interiorpoint"),goog.require("ol.array"),goog.require("ol.geom.flat.contains"),ol.geom.flat.interiorpoint.linearRings=function(e,o,t,r,i,n,l){var a,s,p,g,c,u,y,h=i[n+1],d=[],m=t[0];for(g=e[m-r],u=e[m-r+1],a=o;a<m;a+=r)c=e[a],y=e[a+1],(h<=u&&y<=h||u<=h&&h<=y)&&(p=(h-u)/(y-u)*(c-g)+g,d.push(p)),g=c,u=y;var f=NaN,_=-1/0;for(d.sort(ol.array.numberSafeCompareFunction),g=d[0],a=1,s=d.length;a<s;++a){c=d[a];var v=Math.abs(c-g);v>_&&(p=(g+c)/2,ol.geom.flat.contains.linearRingsContainsXY(e,o,t,r,p,h)&&(f=p,_=v)),g=c}return isNaN(f)&&(f=i[n]),l?(l.push(f,h,_),l):[f,h,_]},ol.geom.flat.interiorpoint.linearRingss=function(e,o,t,r,i){var n,l,a=[];for(n=0,l=t.length;n<l;++n){var s=t[n];a=ol.geom.flat.interiorpoint.linearRings(e,o,s,r,i,2*n,a),o=s[s.length-1]}return a},goog.provide("ol.geom.flat.segments"),ol.geom.flat.segments.forEach=function(e,o,t,r,i,n){for(var l,a=[e[o],e[o+1]],s=[];o+r<t;o+=r){if(s[0]=e[o+r],s[1]=e[o+r+1],l=i.call(n,a,s))return l;a[0]=s[0],a[1]=s[1]}return!1},goog.provide("ol.geom.flat.intersectsextent"),goog.require("ol.extent"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.segments"),ol.geom.flat.intersectsextent.lineString=function(e,o,t,r,i){var n=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,o,t,r);return!!ol.extent.intersects(i,n)&&(!!ol.extent.containsExtent(i,n)||(n[0]>=i[0]&&n[2]<=i[2]||(n[1]>=i[1]&&n[3]<=i[3]||ol.geom.flat.segments.forEach(e,o,t,r,function(e,o){return ol.extent.intersectsSegment(i,e,o)}))))},ol.geom.flat.intersectsextent.lineStrings=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n){if(ol.geom.flat.intersectsextent.lineString(e,o,t[n],r,i))return!0;o=t[n]}return!1},ol.geom.flat.intersectsextent.linearRing=function(e,o,t,r,i){return!!ol.geom.flat.intersectsextent.lineString(e,o,t,r,i)||(!!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,i[0],i[1])||(!!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,i[0],i[3])||(!!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,i[2],i[1])||!!ol.geom.flat.contains.linearRingContainsXY(e,o,t,r,i[2],i[3]))))},ol.geom.flat.intersectsextent.linearRings=function(e,o,t,r,i){if(!ol.geom.flat.intersectsextent.linearRing(e,o,t[0],r,i))return!1;if(1===t.length)return!0;var n,l;for(n=1,l=t.length;n<l;++n)if(ol.geom.flat.contains.linearRingContainsExtent(e,t[n-1],t[n],r,i))return!1;return!0},ol.geom.flat.intersectsextent.linearRingss=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n){var a=t[n];if(ol.geom.flat.intersectsextent.linearRings(e,o,a,r,i))return!0;o=a[a.length-1]}return!1},goog.provide("ol.geom.flat.reverse"),ol.geom.flat.reverse.coordinates=function(e,o,t,r){for(;o<t-r;){var i;for(i=0;i<r;++i){var n=e[o+i];e[o+i]=e[t-r+i],e[t-r+i]=n}o+=r,t-=r}},goog.provide("ol.geom.flat.orient"),goog.require("ol.geom.flat.reverse"),ol.geom.flat.orient.linearRingIsClockwise=function(e,o,t,r){for(var i=0,n=e[t-r],l=e[t-r+1];o<t;o+=r){var a=e[o],s=e[o+1];i+=(a-n)*(s+l),n=a,l=s}return i>0},ol.geom.flat.orient.linearRingsAreOriented=function(e,o,t,r,i){var n,l,a=void 0!==i&&i;for(n=0,l=t.length;n<l;++n){var s=t[n],p=ol.geom.flat.orient.linearRingIsClockwise(e,o,s,r);if(0===n){if(a&&p||!a&&!p)return!1}else if(a&&!p||!a&&p)return!1;o=s}return!0},ol.geom.flat.orient.linearRingssAreOriented=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n)if(!ol.geom.flat.orient.linearRingsAreOriented(e,o,t[n],r,i))return!1;return!0},ol.geom.flat.orient.orientLinearRings=function(e,o,t,r,i){var n,l,a=void 0!==i&&i;for(n=0,l=t.length;n<l;++n){var s=t[n],p=ol.geom.flat.orient.linearRingIsClockwise(e,o,s,r);(0===n?a&&p||!a&&!p:a&&!p||!a&&p)&&ol.geom.flat.reverse.coordinates(e,o,s,r),o=s}return o},ol.geom.flat.orient.orientLinearRingss=function(e,o,t,r,i){var n,l;for(n=0,l=t.length;n<l;++n)o=ol.geom.flat.orient.orientLinearRings(e,o,t[n],r,i);return o},goog.provide("ol.geom.Polygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.Polygon=function(e,o){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,o)},ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry),ol.geom.Polygon.prototype.appendLinearRing=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.Polygon.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.Polygon.prototype.containsXY=function(e,o){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,o)},ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getCoordinates=function(e){var o;return void 0!==e?(o=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRings(o,0,this.ends_,this.stride,e)):o=this.flatCoordinates,ol.geom.flat.inflate.coordinatess(o,0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getEnds=function(){return this.ends_},ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)},ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},ol.geom.Polygon.prototype.getLinearRing=function(e){if(e<0||this.ends_.length<=e)return null;var o=new ol.geom.LinearRing(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),o},ol.geom.Polygon.prototype.getLinearRings=function(){var e,o,t=this.layout,r=this.flatCoordinates,i=this.ends_,n=[],l=0;for(e=0,o=i.length;e<o;++e){var a=i[e],s=new ol.geom.LinearRing(null);s.setFlatCoordinates(t,r.slice(l,a)),n.push(s),l=a}return n},ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),o,0,t);var r=new ol.geom.Polygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON},ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},ol.geom.Polygon.prototype.setCoordinates=function(e,o){if(e){this.setLayout(o,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.Polygon.prototype.setFlatCoordinates=function(e,o,t){this.setFlatCoordinatesInternal(e,o),this.ends_=t,this.changed()},ol.geom.Polygon.circular=function(e,o,t,r){var i,n=r||32,l=[];for(i=0;i<n;++i)ol.array.extend(l,e.offset(o,t,2*Math.PI*i/n));l.push(l[0],l[1]);var a=new ol.geom.Polygon(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XY,l,[l.length]),a},ol.geom.Polygon.fromExtent=function(e){var o=e[0],t=e[1],r=e[2],i=e[3],n=[o,t,o,i,r,i,r,t,o,t],l=new ol.geom.Polygon(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]),l},ol.geom.Polygon.fromCircle=function(e,o,t){for(var r=o||32,i=e.getStride(),n=e.getLayout(),l=new ol.geom.Polygon(null,n),a=i*(r+1),s=new Array(a),p=0;p<a;p++)s[p]=0;var g=[s.length];return l.setFlatCoordinates(n,s,g),ol.geom.Polygon.makeRegular(l,e.getCenter(),e.getRadius(),t),l},ol.geom.Polygon.makeRegular=function(e,o,t,r){for(var i,n,l=e.getFlatCoordinates(),a=e.getLayout(),s=e.getStride(),p=e.getEnds(),g=l.length/s-1,c=r||0,u=0;u<=g;++u)n=u*s,i=c+2*ol.math.modulo(u,g)*Math.PI/g,l[n]=o[0]+t*Math.cos(i),l[n+1]=o[1]+t*Math.sin(i);e.setFlatCoordinates(a,l,p)},goog.provide("ol.View"),goog.require("ol"),goog.require("ol.CenterConstraint"),goog.require("ol.Object"),goog.require("ol.ResolutionConstraint"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.ViewProperty"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.View=function(e){ol.Object.call(this);var o=ol.obj.assign({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=ol.proj.createProjection(o.projection,"EPSG:3857"),this.applyOptions_(o)},ol.inherits(ol.View,ol.Object),ol.View.prototype.applyOptions_=function(e){var o={};o[ol.ViewProperty.CENTER]=void 0!==e.center?e.center:null;var t=ol.View.createResolutionConstraint_(e);this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.zoomFactor_=t.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=t.minZoom;var r=ol.View.createCenterConstraint_(e),i=t.constraint,n=ol.View.createRotationConstraint_(e);this.constraints_={center:r,resolution:i,rotation:n},void 0!==e.resolution?o[ol.ViewProperty.RESOLUTION]=e.resolution:void 0!==e.zoom&&(o[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_)),o[ol.ViewProperty.ROTATION]=void 0!==e.rotation?e.rotation:0,this.setProperties(o),this.options_=e},ol.View.prototype.getUpdatedOptions_=function(e){var o=ol.obj.assign({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenter(),o.rotation=this.getRotation(),ol.obj.assign({},o,e)},ol.View.prototype.animate=function(e){var o,t=arguments.length;if(t>1&&"function"==typeof arguments[t-1]&&(o=arguments[t-1],--t),!this.isDef()){var r=arguments[t-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(o&&o(!0))}for(var i=Date.now(),n=this.getCenter().slice(),l=this.getResolution(),a=this.getRotation(),s=[],p=0;p<t;++p){var g=arguments[p],c={start:i,complete:!1,anchor:g.anchor,duration:void 0!==g.duration?g.duration:1e3,easing:g.easing||ol.easing.inAndOut};if(g.center&&(c.sourceCenter=n,c.targetCenter=g.center,n=c.targetCenter),void 0!==g.zoom?(c.sourceResolution=l,c.targetResolution=this.constrainResolution(this.maxResolution_,g.zoom-this.minZoom_,0),l=c.targetResolution):g.resolution&&(c.sourceResolution=l,c.targetResolution=g.resolution,l=c.targetResolution),void 0!==g.rotation){c.sourceRotation=a;var u=ol.math.modulo(g.rotation-a+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=a+u,a=c.targetRotation}c.callback=o,ol.View.isNoopAnimation(c)?c.complete=!0:i+=c.duration,s.push(c)}this.animations_.push(s),this.setHint(ol.ViewHint.ANIMATING,1),this.updateAnimations_()},ol.View.prototype.getAnimating=function(){return this.getHints()[ol.ViewHint.ANIMATING]>0},ol.View.prototype.getInteracting=function(){return this.getHints()[ol.ViewHint.INTERACTING]>0},ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.getHints()[ol.ViewHint.ANIMATING]);for(var e=0,o=this.animations_.length;e<o;++e){var t=this.animations_[e];t[0].callback&&t[0].callback(!1)}this.animations_.length=0},ol.View.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),o=!1,t=this.animations_.length-1;t>=0;--t){for(var r=this.animations_[t],i=!0,n=0,l=r.length;n<l;++n){var a=r[n];if(!a.complete){var s=e-a.start,p=a.duration>0?s/a.duration:1;p>=1?(a.complete=!0,p=1):i=!1;var g=a.easing(p);if(a.sourceCenter){var c=a.sourceCenter[0],u=a.sourceCenter[1],y=a.targetCenter[0],h=a.targetCenter[1],d=c+g*(y-c),m=u+g*(h-u);this.set(ol.ViewProperty.CENTER,[d,m])}if(a.sourceResolution&&a.targetResolution){var f=1===g?a.targetResolution:a.sourceResolution+g*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(f,a.anchor)),this.set(ol.ViewProperty.RESOLUTION,f)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var _=1===g?ol.math.modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+g*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(_,a.anchor)),this.set(ol.ViewProperty.ROTATION,_)}if(o=!0,!a.complete)break}}if(i){this.animations_[t]=null,this.setHint(ol.ViewHint.ANIMATING,-1);var v=r[0].callback;v&&v(!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},ol.View.prototype.calculateCenterRotate=function(e,o){var t,r=this.getCenter();return void 0!==r&&(t=[r[0]-o[0],r[1]-o[1]],ol.coordinate.rotate(t,e-this.getRotation()),ol.coordinate.add(t,o)),t},ol.View.prototype.calculateCenterZoom=function(e,o){var t,r=this.getCenter(),i=this.getResolution();if(void 0!==r&&void 0!==i){t=[o[0]-e*(o[0]-r[0])/i,o[1]-e*(o[1]-r[1])/i]}return t},ol.View.prototype.getSizeFromViewport_=function(){var e=[100,100],o='.ol-viewport[data-view="'+ol.getUid(this)+'"]',t=document.querySelector(o);if(t){var r=getComputedStyle(t);e[0]=parseInt(r.width,10),e[1]=parseInt(r.height,10)}return e},ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)},ol.View.prototype.constrainResolution=function(e,o,t){var r=o||0,i=t||0;return this.constraints_.resolution(e,r,i)},ol.View.prototype.constrainRotation=function(e,o){var t=o||0;return this.constraints_.rotation(e,t)},ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)},ol.View.prototype.getConstraints=function(){return this.constraints_},ol.View.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},ol.View.prototype.calculateExtent=function(e){var o=e||this.getSizeFromViewport_(),t=this.getCenter();ol.asserts.assert(t,1);var r=this.getResolution();ol.asserts.assert(void 0!==r,2);var i=this.getRotation();return ol.asserts.assert(void 0!==i,3),ol.extent.getForViewAndSize(t,r,i,o)},ol.View.prototype.getMaxResolution=function(){return this.maxResolution_},ol.View.prototype.getMinResolution=function(){return this.minResolution_},ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},ol.View.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},ol.View.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},ol.View.prototype.getProjection=function(){return this.projection_},ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)},ol.View.prototype.getResolutions=function(){return this.resolutions_},ol.View.prototype.getResolutionForExtent=function(e,o){var t=o||this.getSizeFromViewport_(),r=ol.extent.getWidth(e)/t[0],i=ol.extent.getHeight(e)/t[1];return Math.max(r,i)},ol.View.prototype.getResolutionForValueFunction=function(e){var o=e||2,t=this.maxResolution_,r=this.minResolution_,i=Math.log(t/r)/Math.log(o);return function(e){return t/Math.pow(o,e*i)}},ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)},ol.View.prototype.getValueForResolutionFunction=function(e){var o=e||2,t=this.maxResolution_,r=this.minResolution_,i=Math.log(t/r)/Math.log(o);return function(e){return Math.log(t/e)/Math.log(o)/i}},ol.View.prototype.getState=function(){var e=this.getCenter(),o=this.getProjection(),t=this.getResolution(),r=this.getRotation();return{center:e.slice(),projection:void 0!==o?o:null,resolution:t,rotation:r}},ol.View.prototype.getZoom=function(){var e,o=this.getResolution();return void 0!==o&&(e=this.getZoomForResolution(o)),e},ol.View.prototype.getZoomForResolution=function(e){var o;if(e>=this.minResolution_&&e<=this.maxResolution_){var t,r,i=this.minZoom_||0;if(this.resolutions_){var n=ol.array.linearFindNearest(this.resolutions_,e,1);if(i+=n,n==this.resolutions_.length-1)return i;t=this.resolutions_[n],r=t/this.resolutions_[n+1]}else t=this.maxResolution_,r=this.zoomFactor_;o=i+Math.log(t/e)/Math.log(r)}return o},ol.View.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)},ol.View.prototype.fit=function(e,o){var t=o||{},r=t.size;r||(r=this.getSizeFromViewport_());var i;e instanceof ol.geom.SimpleGeometry?e.getType()===ol.geom.GeometryType.CIRCLE?(e=e.getExtent(),i=ol.geom.Polygon.fromExtent(e),i.rotate(this.getRotation(),ol.extent.getCenter(e))):i=e:(ol.asserts.assert(Array.isArray(e),24),ol.asserts.assert(!ol.extent.isEmpty(e),25),i=ol.geom.Polygon.fromExtent(e));var n,l=void 0!==t.padding?t.padding:[0,0,0,0],a=void 0===t.constrainResolution||t.constrainResolution,s=void 0!==t.nearest&&t.nearest;n=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.constrainResolution(this.maxResolution_,t.maxZoom-this.minZoom_,0):0;for(var p=i.getFlatCoordinates(),g=this.getRotation(),c=Math.cos(-g),u=Math.sin(-g),y=1/0,h=1/0,d=-1/0,m=-1/0,f=i.getStride(),_=0,v=p.length;_<v;_+=f){var S=p[_]*c-p[_+1]*u,x=p[_]*u+p[_+1]*c;y=Math.min(y,S),h=Math.min(h,x),d=Math.max(d,S),m=Math.max(m,x)}var P=this.getResolutionForExtent([y,h,d,m],[r[0]-l[1]-l[3],r[1]-l[0]-l[2]]);if(P=isNaN(P)?n:Math.max(P,n),a){var E=this.constrainResolution(P,0,0);!s&&E<P&&(E=this.constrainResolution(E,-1,0)),P=E}u=-u;var T=(y+d)/2,R=(h+m)/2;T+=(l[1]-l[3])/2*P,R+=(l[0]-l[2])/2*P;var L=T*c-R*u,M=R*c+T*u,C=[L,M],I=t.callback?t.callback:ol.nullFunction;void 0!==t.duration?this.animate({resolution:P,center:C,duration:t.duration,easing:t.easing},I):(this.setResolution(P),this.setCenter(C),setTimeout(I.bind(void 0,!0),0))},ol.View.prototype.centerOn=function(e,o,t){var r=this.getRotation(),i=Math.cos(-r),n=Math.sin(-r),l=e[0]*i-e[1]*n,a=e[1]*i+e[0]*n,s=this.getResolution();l+=(o[0]/2-t[0])*s,a+=(t[1]-o[1]/2)*s,n=-n;var p=l*i-a*n,g=a*i+l*n;this.setCenter([p,g])},ol.View.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},ol.View.prototype.rotate=function(e,o){if(void 0!==o){var t=this.calculateCenterRotate(e,o);this.setCenter(t)}this.setRotation(e)},ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setHint=function(e,o){return this.hints_[e]+=o,this.changed(),this.hints_[e]},ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},ol.View.createCenterConstraint_=function(e){return void 0!==e.extent?ol.CenterConstraint.createExtent(e.extent):ol.CenterConstraint.none},ol.View.createResolutionConstraint_=function(e){var o,t,r,i=void 0!==e.minZoom?e.minZoom:ol.DEFAULT_MIN_ZOOM,n=void 0!==e.maxZoom?e.maxZoom:28,l=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var a=e.resolutions;t=a[0],r=a[a.length-1],o=ol.ResolutionConstraint.createSnapToResolutions(a)}else{var s=ol.proj.createProjection(e.projection,"EPSG:3857"),p=s.getExtent(),g=p?Math.max(ol.extent.getWidth(p),ol.extent.getHeight(p)):360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/s.getMetersPerUnit(),c=g/ol.DEFAULT_TILE_SIZE/Math.pow(2,ol.DEFAULT_MIN_ZOOM),u=c/Math.pow(2,28-ol.DEFAULT_MIN_ZOOM);t=e.maxResolution,void 0!==t?i=0:t=c/Math.pow(l,i),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?t/Math.pow(l,n):c/Math.pow(l,n):u),n=i+Math.floor(Math.log(t/r)/Math.log(l)),r=t/Math.pow(l,n-i),o=ol.ResolutionConstraint.createSnapToPower(l,t,n-i)}return{constraint:o,maxResolution:t,minResolution:r,minZoom:i,zoomFactor:l}},ol.View.createRotationConstraint_=function(e){if(void 0===e.enableRotation||e.enableRotation){var o=e.constrainRotation;return void 0===o||!0===o?ol.RotationConstraint.createSnapToZero():!1===o?ol.RotationConstraint.none:"number"==typeof o?ol.RotationConstraint.createSnapToN(o):ol.RotationConstraint.none}return ol.RotationConstraint.disable},ol.View.isNoopAnimation=function(e){return!(e.sourceCenter&&e.targetCenter&&!ol.coordinate.equals(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)},goog.provide("ol.dom"),ol.dom.createCanvasContext2D=function(e,o){var t=document.createElement("CANVAS");return e&&(t.width=e),o&&(t.height=o),t.getContext("2d")},ol.dom.outerWidth=function(e){var o=e.offsetWidth,t=getComputedStyle(e);return o+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)},ol.dom.outerHeight=function(e){var o=e.offsetHeight,t=getComputedStyle(e);return o+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)},ol.dom.replaceNode=function(e,o){var t=o.parentNode;t&&t.replaceChild(e,o)},ol.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},ol.dom.removeChildren=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},goog.provide("ol.layer.Property"),ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},goog.provide("ol.layer.Base"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Property"),goog.require("ol.math"),goog.require("ol.obj"),ol.layer.Base=function(e){ol.Object.call(this);var o=ol.obj.assign({},e);o[ol.layer.Property.OPACITY]=void 0!==e.opacity?e.opacity:1,o[ol.layer.Property.VISIBLE]=void 0===e.visible||e.visible,o[ol.layer.Property.Z_INDEX]=void 0!==e.zIndex?e.zIndex:0,o[ol.layer.Property.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,o[ol.layer.Property.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(o),this.state_={layer:this,managed:!0},this.type},ol.inherits(ol.layer.Base,ol.Object),ol.layer.Base.prototype.getType=function(){return this.type},ol.layer.Base.prototype.getLayerState=function(){return this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},ol.layer.Base.prototype.getLayersArray=function(e){},ol.layer.Base.prototype.getLayerStatesArray=function(e){},ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)},ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)},ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)},ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)},ol.layer.Base.prototype.getSourceState=function(){},ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)},ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)},ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.Property.EXTENT,e)},ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.Property.MAX_RESOLUTION,e)},ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.Property.MIN_RESOLUTION,e)},ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.Property.OPACITY,e)},ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.Property.VISIBLE,e)},ol.layer.Base.prototype.setZIndex=function(e){this.set(ol.layer.Property.Z_INDEX,e)},goog.provide("ol.source.State"),ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},goog.provide("ol.layer.Group"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),
goog.require("ol.ObjectEventType"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.layer.Base"),goog.require("ol.obj"),goog.require("ol.source.State");ol.layer.Group=function(e){var o=e||{},t=ol.obj.assign({},o);delete t.layers;var r=o.layers;ol.layer.Base.call(this,t),this.layersListenerKeys_=[],this.listenerKeys_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new ol.Collection(r.slice(),{unique:!0}):(ol.asserts.assert(r instanceof ol.Collection,43),r=r):r=new ol.Collection(void 0,{unique:!0}),this.setLayers(r)},ol.inherits(ol.layer.Group,ol.layer.Base),ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()},ol.layer.Group.prototype.handleLayersChanged_=function(e){this.layersListenerKeys_.forEach(ol.events.unlistenByKey),this.layersListenerKeys_.length=0;var o=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(o,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(o,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var t in this.listenerKeys_)this.listenerKeys_[t].forEach(ol.events.unlistenByKey);ol.obj.clear(this.listenerKeys_);var r,i,n,l=o.getArray();for(r=0,i=l.length;r<i;r++)n=l[r],this.listenerKeys_[ol.getUid(n).toString()]=[ol.events.listen(n,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(n,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()},ol.layer.Group.prototype.handleLayersAdd_=function(e){var o=e.element,t=ol.getUid(o).toString();this.listenerKeys_[t]=[ol.events.listen(o,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(o,ol.events.EventType.CHANGE,this.handleLayerChange_,this)],this.changed()},ol.layer.Group.prototype.handleLayersRemove_=function(e){var o=e.element,t=ol.getUid(o).toString();this.listenerKeys_[t].forEach(ol.events.unlistenByKey),delete this.listenerKeys_[t],this.changed()},ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)},ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.Group.Property_.LAYERS,e)},ol.layer.Group.prototype.getLayersArray=function(e){var o=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(o)}),o},ol.layer.Group.prototype.getLayerStatesArray=function(e){var o=void 0!==e?e:[],t=o.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(o)});var r,i,n,l=this.getLayerState();for(r=t,i=o.length;r<i;r++)n=o[r],n.opacity*=l.opacity,n.visible=n.visible&&l.visible,n.maxResolution=Math.min(n.maxResolution,l.maxResolution),n.minResolution=Math.max(n.minResolution,l.minResolution),void 0!==l.extent&&(void 0!==n.extent?n.extent=ol.extent.getIntersection(n.extent,l.extent):n.extent=l.extent);return o},ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY},ol.layer.Group.Property_={LAYERS:"layers"},goog.provide("ol.PluginType"),ol.PluginType={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"},goog.provide("ol.plugins"),goog.require("ol.PluginType"),ol.plugins.mapRendererPlugins_=[],ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_},ol.plugins.layerRendererPlugins_=[],ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_},ol.plugins.register=function(e,o){var t;switch(e){case ol.PluginType.MAP_RENDERER:t=ol.plugins.mapRendererPlugins_,t.push(o);break;case ol.PluginType.LAYER_RENDERER:t=ol.plugins.layerRendererPlugins_,t.push(o);break;default:throw new Error("Unsupported plugin type: "+e)}},ol.plugins.registerMultiple=function(e,o){for(var t=0,r=o.length;t<r;++t)ol.plugins.register(e,o[t])},goog.provide("ol.renderer.Type"),ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"},goog.provide("ol.PluggableMap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEventHandler"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapEvent"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.TileQueue"),goog.require("ol.View"),goog.require("ol.ViewHint"),goog.require("ol.asserts"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.has"),goog.require("ol.layer.Group"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.Type"),goog.require("ol.size"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.transform"),ol.PluggableMap=function(e){ol.Object.call(this);var o=ol.PluggableMap.createOptionsInternal(e);this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO,this.logos_=o.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=ol.transform.create(),this.pixelToCoordinateTransform_=ol.transform.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var t=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL],r=0,i=t.length;r<i;++r)ol.events.listen(this.overlayContainerStopEvent_,t[r],ol.events.Event.stopPropagation);this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,e.moveTolerance);for(var n in ol.MapBrowserEventType)ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[n],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=o.keyboardEventTarget,this.keyHandlerKeys_=null,ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=o.controls||new ol.Collection,this.interactions=o.interactions||new ol.Collection,this.overlays_=o.overlays,this.overlayIdIndex_={},this.renderer_=o.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this),this.setProperties(o.values),this.controls.forEach(function(e){e.setMap(this)},this),ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this),ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)},this),ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this),ol.events.listen(this.interactions,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)},this),ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){var o=e.element,t=o.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)},this)},ol.inherits(ol.PluggableMap,ol.Object),ol.PluggableMap.prototype.addControl=function(e){this.getControls().push(e)},ol.PluggableMap.prototype.addInteraction=function(e){this.getInteractions().push(e)},ol.PluggableMap.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},ol.PluggableMap.prototype.addOverlay=function(e){this.getOverlays().push(e)},ol.PluggableMap.prototype.addOverlayInternal_=function(e){var o=e.getId();void 0!==o&&(this.overlayIdIndex_[o.toString()]=e),e.setMap(this)},ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.renderer_.dispose(),ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),ol.Object.prototype.disposeInternal.call(this)},ol.PluggableMap.prototype.forEachFeatureAtPixel=function(e,o,t){if(this.frameState_){var r=this.getCoordinateFromPixel(e);t=void 0!==t?t:{};var i=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0,n=void 0!==t.layerFilter?t.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,o,null,n,null)}},ol.PluggableMap.prototype.getFeaturesAtPixel=function(e,o){var t=null;return this.forEachFeatureAtPixel(e,function(e){t||(t=[]),t.push(e)},o),t},ol.PluggableMap.prototype.forEachLayerAtPixel=function(e,o,t,r,i){if(this.frameState_){var n=void 0!==t?t:null,l=void 0!==r?r:ol.functions.TRUE,a=void 0!==i?i:null;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,o,n,l,a)}},ol.PluggableMap.prototype.hasFeatureAtPixel=function(e,o){if(!this.frameState_)return!1;var t=this.getCoordinateFromPixel(e);o=void 0!==o?o:{};var r=void 0!==o.layerFilter?o.layerFilter:ol.functions.TRUE,i=void 0!==o.hitTolerance?o.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(t,this.frameState_,i,r,null)},ol.PluggableMap.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},ol.PluggableMap.prototype.getEventPixel=function(e){var o=this.viewport_.getBoundingClientRect(),t=e.changedTouches?e.changedTouches[0]:e;return[t.clientX-o.left,t.clientY-o.top]},ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)},ol.PluggableMap.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},ol.PluggableMap.prototype.getCoordinateFromPixel=function(e){var o=this.frameState_;return o?ol.transform.apply(o.pixelToCoordinateTransform,e.slice()):null},ol.PluggableMap.prototype.getControls=function(){return this.controls},ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_},ol.PluggableMap.prototype.getOverlayById=function(e){var o=this.overlayIdIndex_[e.toString()];return void 0!==o?o:null},ol.PluggableMap.prototype.getInteractions=function(){return this.interactions},ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)},ol.PluggableMap.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},ol.PluggableMap.prototype.getPixelFromCoordinate=function(e){var o=this.frameState_;return o?ol.transform.apply(o.coordinateToPixelTransform,e.slice(0,2)):null},ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_},ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)},ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)},ol.PluggableMap.prototype.getViewport=function(){return this.viewport_},ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_},ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},ol.PluggableMap.prototype.getTilePriority=function(e,o,t,r){var i=this.frameState_;if(!(i&&o in i.wantedTiles))return ol.structs.PriorityQueue.DROP;if(!i.wantedTiles[o][e.getKey()])return ol.structs.PriorityQueue.DROP;var n=t[0]-i.focus[0],l=t[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(n*n+l*l)/r},ol.PluggableMap.prototype.handleBrowserEvent=function(e,o){var t=o||e.type,r=new ol.MapBrowserEvent(t,this,e);this.handleMapBrowserEvent(r)},ol.PluggableMap.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var o,t=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(o=t.length-1;o>=0;o--){var r=t[o];if(r.getActive()){var i=r.handleEvent(e);if(!i)break}}}},ol.PluggableMap.prototype.handlePostRender=function(){var e=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var t=16,r=t;if(e){var i=e.viewHints;i[ol.ViewHint.ANIMATING]&&(t=this.loadTilesWhileAnimating_?8:0,r=2),i[ol.ViewHint.INTERACTING]&&(t=this.loadTilesWhileInteracting_?8:0,r=2)}o.getTilesLoading()<t&&(o.reprioritize(),o.loadMoreTiles(t,r))}var n,l,a=this.postRenderFunctions_;for(n=0,l=a.length;n<l;++n)a[n](this,e);a.length=0},ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()},ol.PluggableMap.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var o=0,t=this.keyHandlerKeys_.length;o<t;++o)ol.events.unlistenByKey(this.keyHandlerKeys_[o]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[ol.events.listen(r,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(r,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1))}else ol.dom.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},ol.PluggableMap.prototype.handleTileChange_=function(){this.render()},ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()},ol.PluggableMap.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ol.events.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ol.events.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.viewport_.setAttribute("data-view",ol.getUid(e)),this.viewPropertyListenerKey_=ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(e,ol.events.EventType.CHANGE,this.render,this)]),this.render()},ol.PluggableMap.prototype.isRendered=function(){return!!this.frameState_},ol.PluggableMap.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},ol.PluggableMap.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},ol.PluggableMap.prototype.removeControl=function(e){return this.getControls().remove(e)},ol.PluggableMap.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},ol.PluggableMap.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},ol.PluggableMap.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},ol.PluggableMap.prototype.renderFrame_=function(e){var o,t,r,i=this.getSize(),n=this.getView(),l=ol.extent.createEmpty(),a=this.frameState_,s=null;if(void 0!==i&&ol.size.hasArea(i)&&n&&n.isDef()){var p=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=this.getLayerGroup().getLayerStatesArray(),c={};for(o=0,t=g.length;o<t;++o)c[ol.getUid(g[o].layer)]=g[o];r=n.getState(),s={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:l,focus:this.focus_?this.focus_:r.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:g,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:p,wantedTiles:{}}}if(s&&(s.extent=ol.extent.getForViewAndSize(r.center,r.resolution,r.rotation,s.size,l)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){(!this.previousExtent_||!ol.extent.isEmpty(this.previousExtent_)&&!ol.extent.equals(s.extent,this.previousExtent_))&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,a)),this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_))}this.previousExtent_&&!s.viewHints[ol.ViewHint.ANIMATING]&&!s.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(s.extent,this.previousExtent_)&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,s)),ol.extent.clone(s.extent,this.previousExtent_))}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},ol.PluggableMap.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)},ol.PluggableMap.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)},ol.PluggableMap.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)},ol.PluggableMap.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)},ol.PluggableMap.prototype.skipFeature=function(e){var o=ol.getUid(e).toString();this.skippedFeatureUids_[o]=!0,this.render()},ol.PluggableMap.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var o=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth)])}else this.setSize(void 0)},ol.PluggableMap.prototype.unskipFeature=function(e){var o=ol.getUid(e).toString();delete this.skippedFeatureUids_[o],this.render()},ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL],ol.PluggableMap.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",ol.PluggableMap.createOptionsInternal=function(e){var o=null;void 0!==e.keyboardEventTarget&&(o="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var t={},r={};if(void 0===e.logo||"boolean"==typeof e.logo&&e.logo)r[ol.PluggableMap.LOGO_URL]="https://openlayers.org/";else{var i=e.logo;"string"==typeof i?r[i]="":i instanceof HTMLElement?r[ol.getUid(i).toString()]=i:i&&(ol.asserts.assert("string"==typeof i.href,44),ol.asserts.assert("string"==typeof i.src,45),r[i.src]=i.href)}var n=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});t[ol.MapProperty.LAYERGROUP]=n,t[ol.MapProperty.TARGET]=e.target,t[ol.MapProperty.VIEW]=void 0!==e.view?e.view:new ol.View;var l;void 0!==e.renderer?(Array.isArray(e.renderer)?l=e.renderer:"string"==typeof e.renderer?l=[e.renderer]:ol.asserts.assert(!1,46),l.indexOf("dom")>=0&&(l=l.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES))):l=ol.PluggableMap.DEFAULT_RENDERER_TYPES;var a,s=ol.plugins.getMapRendererPlugins();e:for(var p=0,g=l.length;p<g;++p)for(var c=l[p],u=0,y=s.length;u<y;++u){var h=s[u];if(h.handles(c)){a=h;break e}}if(!a)throw new Error("Unable to create a map renderer for types: "+l.join(", "));var d;void 0!==e.controls&&(Array.isArray(e.controls)?d=new ol.Collection(e.controls.slice()):(ol.asserts.assert(e.controls instanceof ol.Collection,47),d=e.controls));var m;void 0!==e.interactions&&(Array.isArray(e.interactions)?m=new ol.Collection(e.interactions.slice()):(ol.asserts.assert(e.interactions instanceof ol.Collection,48),m=e.interactions));var f;return void 0!==e.overlays?Array.isArray(e.overlays)?f=new ol.Collection(e.overlays.slice()):(ol.asserts.assert(e.overlays instanceof ol.Collection,49),f=e.overlays):f=new ol.Collection,{controls:d,interactions:m,keyboardEventTarget:o,logos:r,overlays:f,mapRendererPlugin:a,values:t}},goog.provide("ol.control.Control"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.events"),ol.control.Control=function(e){ol.Object.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:ol.nullFunction,e.target&&this.setTarget(e.target)},ol.inherits(ol.control.Control,ol.Object),ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element),ol.Object.prototype.disposeInternal.call(this)},ol.control.Control.prototype.getMap=function(){return this.map_},ol.control.Control.prototype.setMap=function(e){this.map_&&ol.dom.removeNode(this.element);for(var o=0,t=this.listenerKeys.length;o<t;++o)ol.events.unlistenByKey(this.listenerKeys[o]);if(this.listenerKeys.length=0,this.map_=e,this.map_){(this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ol.nullFunction&&this.listenerKeys.push(ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this)),e.render()}},ol.control.Control.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},goog.provide("ol.css"),ol.css.CLASS_HIDDEN="ol-hidden",ol.css.CLASS_SELECTABLE="ol-selectable",ol.css.CLASS_UNSELECTABLE="ol-unselectable",ol.css.CLASS_UNSUPPORTED="ol-unsupported",ol.css.CLASS_CONTROL="ol-control",goog.provide("ol.control.Attribution"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.obj"),ol.control.Attribution=function(e){var o=e||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===o.collapsed||o.collapsed,this.collapsible_=void 0===o.collapsible||o.collapsible,this.collapsible_||(this.collapsed_=!1);var t=void 0!==o.className?o.className:"ol-attribution",r=void 0!==o.tipLabel?o.tipLabel:"Attributions",i=void 0!==o.collapseLabel?o.collapseLabel:"»";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var n=void 0!==o.label?o.label:"i";"string"==typeof n?(this.label_=document.createElement("span"),this.label_.textContent=n):this.label_=n;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=r,a.appendChild(l),ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this);var s=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),p=document.createElement("div");p.className=s,p.appendChild(this.ulElement_),p.appendChild(a);var g=o.render?o.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:p,render:g,target:o.target}),this.renderedVisible_=!0,this.attributionElements_={},this.attributionElementRenderedVisible_={},this.logoElements_={}},ol.inherits(ol.control.Attribution,ol.control.Control),ol.control.Attribution.prototype.getSourceAttributions=function(e){var o,t,r,i,n,l,a,s,p,g,c,u=e.layerStatesArray,y=ol.obj.assign({},e.attributions),h={},d={},m=e.viewState.projection;for(o=0,t=u.length;o<t;o++)if((l=u[o].layer.getSource())&&(g=ol.getUid(l).toString(),p=l.getAttributions()))for(r=0,i=p.length;r<i;r++)if(a=p[r],!((s=ol.getUid(a).toString())in y)){if(n=e.usedTiles[g]){var f=l.getTileGridForProjection(m);c=a.intersectsAnyTileRange(n,f,m)}else c=!1;if(c){s in h&&delete h[s];var _=a.getHTML();_ in d||(d[_]=!0,y[s]=a)}else h[s]=a}return[y,h]},ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)},ol.control.Attribution.prototype.updateElement_=function(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));var o,t,r=this.getSourceAttributions(e),i=r[0],n=r[1];for(t in this.attributionElements_)t in i?(this.attributionElementRenderedVisible_[t]||(this.attributionElements_[t].style.display="",this.attributionElementRenderedVisible_[t]=!0),delete i[t]):t in n?(this.attributionElementRenderedVisible_[t]&&(this.attributionElements_[t].style.display="none",delete this.attributionElementRenderedVisible_[t]),delete n[t]):(ol.dom.removeNode(this.attributionElements_[t]),delete this.attributionElements_[t],delete this.attributionElementRenderedVisible_[t]);for(t in i)o=document.createElement("LI"),o.innerHTML=i[t].getHTML(),this.ulElement_.appendChild(o),this.attributionElements_[t]=o,this.attributionElementRenderedVisible_[t]=!0;for(t in n)o=document.createElement("LI"),o.innerHTML=n[t].getHTML(),o.style.display="none",this.ulElement_.appendChild(o),this.attributionElements_[t]=o;var l=!ol.obj.isEmpty(this.attributionElementRenderedVisible_)||!ol.obj.isEmpty(e.logos);this.renderedVisible_!=l&&(this.element.style.display=l?"":"none",this.renderedVisible_=l),l&&ol.obj.isEmpty(this.attributionElementRenderedVisible_)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),this.insertLogos_(e)},ol.control.Attribution.prototype.insertLogos_=function(e){var o,t=e.logos,r=this.logoElements_;for(o in r)o in t||(ol.dom.removeNode(r[o]),delete r[o]);var i,n,l;for(l in t){var a=t[l];a instanceof HTMLElement&&(this.logoLi_.appendChild(a),r[l]=a),l in r||(i=new Image,i.src=l,""===a?n=i:(n=document.createElement("a"),n.href=a,n.appendChild(i)),this.logoLi_.appendChild(n),r[l]=n)}this.logoLi_.style.display=ol.obj.isEmpty(t)?"none":""},ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_},ol.control.Attribution.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.Attribution.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_},goog.provide("ol.control.Rotate"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Rotate=function(e){var o=e||{},t=void 0!==o.className?o.className:"ol-rotate",r=void 0!==o.label?o.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var i=o.tipLabel?o.tipLabel:"Reset rotation",n=document.createElement("button");n.className=t+"-reset",n.setAttribute("type","button"),n.title=i,n.appendChild(this.label_),ol.events.listen(n,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var l=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,a=document.createElement("div");a.className=l,a.appendChild(n);var s=o.render?o.render:ol.control.Rotate.render;this.callResetNorth_=o.resetNorth?o.resetNorth:void 0,ol.control.Control.call(this,{element:a,render:s,target:o.target}),this.duration_=void 0!==o.duration?o.duration:250,this.autoHide_=void 0===o.autoHide||o.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ol.css.CLASS_HIDDEN)},ol.inherits(ol.control.Rotate,ol.control.Control),ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap(),o=e.getView();o&&void 0!==o.getRotation()&&(this.duration_>0?o.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut}):o.setRotation(0))},ol.control.Rotate.render=function(e){var o=e.frameState;if(o){var t=o.viewState.rotation;if(t!=this.rotation_){var r="rotate("+t+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ol.css.CLASS_HIDDEN);i||0!==t?i&&0!==t&&this.element.classList.remove(ol.css.CLASS_HIDDEN):this.element.classList.add(ol.css.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=t}},goog.provide("ol.control.Zoom"),
goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Zoom=function(e){var o=e||{},t=void 0!==o.className?o.className:"ol-zoom",r=void 0!==o.delta?o.delta:1,i=void 0!==o.zoomInLabel?o.zoomInLabel:"+",n=void 0!==o.zoomOutLabel?o.zoomOutLabel:"−",l=void 0!==o.zoomInTipLabel?o.zoomInTipLabel:"Zoom in",a=void 0!==o.zoomOutTipLabel?o.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=t+"-in",s.setAttribute("type","button"),s.title=l,s.appendChild("string"==typeof i?document.createTextNode(i):i),ol.events.listen(s,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,r));var p=document.createElement("button");p.className=t+"-out",p.setAttribute("type","button"),p.title=a,p.appendChild("string"==typeof n?document.createTextNode(n):n),ol.events.listen(p,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-r));var g=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,c=document.createElement("div");c.className=g,c.appendChild(s),c.appendChild(p),ol.control.Control.call(this,{element:c,target:o.target}),this.duration_=void 0!==o.duration?o.duration:250},ol.inherits(ol.control.Zoom,ol.control.Control),ol.control.Zoom.prototype.handleClick_=function(e,o){o.preventDefault(),this.zoomByDelta_(e)},ol.control.Zoom.prototype.zoomByDelta_=function(e){var o=this.getMap(),t=o.getView();if(t){var r=t.getResolution();if(r){var i=t.constrainResolution(r,e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:i,duration:this.duration_,easing:ol.easing.easeOut})):t.setResolution(i)}}},goog.provide("ol.control"),goog.require("ol.Collection"),goog.require("ol.control.Attribution"),goog.require("ol.control.Rotate"),goog.require("ol.control.Zoom"),ol.control.defaults=function(e){var o=e||{},t=new ol.Collection;return(void 0===o.zoom||o.zoom)&&t.push(new ol.control.Zoom(o.zoomOptions)),(void 0===o.rotate||o.rotate)&&t.push(new ol.control.Rotate(o.rotateOptions)),(void 0===o.attribution||o.attribution)&&t.push(new ol.control.Attribution(o.attributionOptions)),t},goog.provide("ol.Kinetic"),ol.Kinetic=function(e,o,t){this.decay_=e,this.minVelocity_=o,this.delay_=t,this.points_=[],this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.update=function(e,o){this.points_.push(e,o,Date.now())},ol.Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,o=this.points_.length-3;if(this.points_[o+2]<e)return!1;for(var t=o-3;t>0&&this.points_[t+2]>e;)t-=3;var r=this.points_[o+2]-this.points_[t+2];if(r<1e3/60)return!1;var i=this.points_[o]-this.points_[t],n=this.points_[o+1]-this.points_[t+1];return this.angle_=Math.atan2(n,i),this.initialVelocity_=Math.sqrt(i*i+n*n)/r,this.initialVelocity_>this.minVelocity_},ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},ol.Kinetic.prototype.getAngle=function(){return this.angle_},goog.provide("ol.interaction.Property"),ol.interaction.Property={ACTIVE:"active"},goog.provide("ol.interaction.Interaction"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.easing"),goog.require("ol.interaction.Property"),ol.interaction.Interaction=function(e){ol.Object.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent},ol.inherits(ol.interaction.Interaction,ol.Object),ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)},ol.interaction.Interaction.prototype.getMap=function(){return this.map_},ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.Property.ACTIVE,e)},ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e},ol.interaction.Interaction.pan=function(e,o,t){var r=e.getCenter();if(r){var i=e.constrainCenter([r[0]+o[0],r[1]+o[1]]);t?e.animate({duration:t,easing:ol.easing.linear,center:i}):e.setCenter(i)}};ol.interaction.Interaction.rotate=function(e,o,t,r){o=e.constrainRotation(o,0),ol.interaction.Interaction.rotateWithoutConstraints(e,o,t,r)},ol.interaction.Interaction.rotateWithoutConstraints=function(e,o,t,r){if(void 0!==o){var i=e.getRotation(),n=e.getCenter();void 0!==i&&n&&r>0?e.animate({rotation:o,anchor:t,duration:r,easing:ol.easing.easeOut}):e.rotate(o,t)}},ol.interaction.Interaction.zoom=function(e,o,t,r,i){o=e.constrainResolution(o,0,i),ol.interaction.Interaction.zoomWithoutConstraints(e,o,t,r)},ol.interaction.Interaction.zoomByDelta=function(e,o,t,r){var i=e.getResolution(),n=e.constrainResolution(i,o,0);if(t&&void 0!==n&&n!==i){var l=e.getCenter(),a=e.calculateCenterZoom(n,t);a=e.constrainCenter(a),t=[(n*l[0]-i*a[0])/(n-i),(n*l[1]-i*a[1])/(n-i)]}ol.interaction.Interaction.zoomWithoutConstraints(e,n,t,r)},ol.interaction.Interaction.zoomWithoutConstraints=function(e,o,t,r){if(o){var i=e.getResolution(),n=e.getCenter();if(void 0!==i&&n&&o!==i&&r)e.animate({resolution:o,anchor:t,duration:r,easing:ol.easing.easeOut});else{if(t){var l=e.calculateCenterZoom(o,t);e.setCenter(l)}e.setResolution(o)}}},goog.provide("ol.interaction.DoubleClickZoom"),goog.require("ol"),goog.require("ol.MapBrowserEventType"),goog.require("ol.interaction.Interaction"),ol.interaction.DoubleClickZoom=function(e){var o=e||{};this.delta_=o.delta?o.delta:1,ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent}),this.duration_=void 0!==o.duration?o.duration:250},ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction),ol.interaction.DoubleClickZoom.handleEvent=function(e){var o=!1,t=e.originalEvent;if(e.type==ol.MapBrowserEventType.DBLCLICK){var r=e.map,i=e.coordinate,n=t.shiftKey?-this.delta_:this.delta_,l=r.getView();ol.interaction.Interaction.zoomByDelta(l,n,i,this.duration_),e.preventDefault(),o=!0}return!o},goog.provide("ol.events.condition"),goog.require("ol.MapBrowserEventType"),goog.require("ol.asserts"),goog.require("ol.functions"),goog.require("ol.has"),ol.events.condition.altKeyOnly=function(e){var o=e.originalEvent;return o.altKey&&!(o.metaKey||o.ctrlKey)&&!o.shiftKey},ol.events.condition.altShiftKeysOnly=function(e){var o=e.originalEvent;return o.altKey&&!(o.metaKey||o.ctrlKey)&&o.shiftKey},ol.events.condition.always=ol.functions.TRUE,ol.events.condition.click=function(e){return e.type==ol.MapBrowserEventType.CLICK},ol.events.condition.mouseActionButton=function(e){var o=e.originalEvent;return 0==o.button&&!(ol.has.WEBKIT&&ol.has.MAC&&o.ctrlKey)},ol.events.condition.never=ol.functions.FALSE,ol.events.condition.pointerMove=function(e){return"pointermove"==e.type},ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEventType.SINGLECLICK},ol.events.condition.doubleClick=function(e){return e.type==ol.MapBrowserEventType.DBLCLICK},ol.events.condition.noModifierKeys=function(e){var o=e.originalEvent;return!o.altKey&&!(o.metaKey||o.ctrlKey)&&!o.shiftKey},ol.events.condition.platformModifierKeyOnly=function(e){var o=e.originalEvent;return!o.altKey&&(ol.has.MAC?o.metaKey:o.ctrlKey)&&!o.shiftKey},ol.events.condition.shiftKeyOnly=function(e){var o=e.originalEvent;return!o.altKey&&!(o.metaKey||o.ctrlKey)&&o.shiftKey},ol.events.condition.targetNotEditable=function(e){var o=e.originalEvent.target,t=o.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},ol.events.condition.mouseOnly=function(e){return ol.asserts.assert(e.pointerEvent,56),"mouse"==e.pointerEvent.pointerType},ol.events.condition.primaryAction=function(e){var o=e.pointerEvent;return o.isPrimary&&0===o.button},goog.provide("ol.interaction.Pointer"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.interaction.Interaction"),goog.require("ol.obj"),ol.interaction.Pointer=function(e){var o=e||{},t=o.handleEvent?o.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:t}),this.handleDownEvent_=o.handleDownEvent?o.handleDownEvent:ol.interaction.Pointer.handleDownEvent,this.handleDragEvent_=o.handleDragEvent?o.handleDragEvent:ol.interaction.Pointer.handleDragEvent,this.handleMoveEvent_=o.handleMoveEvent?o.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent,this.handleUpEvent_=o.handleUpEvent?o.handleUpEvent:ol.interaction.Pointer.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]},ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction),ol.interaction.Pointer.centroid=function(e){for(var o=e.length,t=0,r=0,i=0;i<o;i++)t+=e[i].clientX,r+=e[i].clientY;return[t/o,r/o]},ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var o=e.type;return o===ol.MapBrowserEventType.POINTERDOWN||o===ol.MapBrowserEventType.POINTERDRAG||o===ol.MapBrowserEventType.POINTERUP},ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var o=e.pointerEvent,t=o.pointerId.toString();e.type==ol.MapBrowserEventType.POINTERUP?delete this.trackedPointers_[t]:e.type==ol.MapBrowserEventType.POINTERDOWN?this.trackedPointers_[t]=o:t in this.trackedPointers_&&(this.trackedPointers_[t]=o),this.targetPointers=ol.obj.getValues(this.trackedPointers_)}},ol.interaction.Pointer.handleDragEvent=ol.nullFunction,ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE,ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE,ol.interaction.Pointer.handleMoveEvent=ol.nullFunction,ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent))return!0;var o=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ol.MapBrowserEventType.POINTERDRAG)this.handleDragEvent_(e);else if(e.type==ol.MapBrowserEventType.POINTERUP){var t=this.handleUpEvent_(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==ol.MapBrowserEventType.POINTERDOWN){var r=this.handleDownEvent_(e);this.handlingDownUpSequence=r,o=this.shouldStopEvent(r)}else e.type==ol.MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent_(e);return!o},ol.interaction.Pointer.prototype.shouldStopEvent=function(e){return e},goog.provide("ol.interaction.DragPan"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Pointer"),ol.interaction.DragPan=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var o=e||{};this.kinetic_=o.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=o.condition?o.condition:ol.events.condition.noModifierKeys,this.noKinetic_=!1},ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer),ol.interaction.DragPan.handleDragEvent_=function(e){var o=this.targetPointers,t=ol.interaction.Pointer.centroid(o);if(o.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(t[0],t[1]),this.lastCentroid){var r=this.lastCentroid[0]-t[0],i=t[1]-this.lastCentroid[1],n=e.map,l=n.getView(),a=l.getState(),s=[r,i];ol.coordinate.scale(s,a.resolution),ol.coordinate.rotate(s,a.rotation),ol.coordinate.add(s,a.center),s=l.constrainCenter(s),l.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=t,this.lastPointersCount_=o.length},ol.interaction.DragPan.handleUpEvent_=function(e){var o=e.map,t=o.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),n=t.getCenter(),l=o.getPixelFromCoordinate(n),a=o.getCoordinateFromPixel([l[0]-r*Math.cos(i),l[1]-r*Math.sin(i)]);t.animate({center:t.constrainCenter(a),duration:500,easing:ol.easing.easeOut})}return t.setHint(ol.ViewHint.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},ol.interaction.DragPan.handleDownEvent_=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var o=e.map,t=o.getView();return this.lastCentroid=null,this.handlingDownUpSequence||t.setHint(ol.ViewHint.INTERACTING,1),t.getHints()[ol.ViewHint.ANIMATING]&&t.setCenter(e.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.DragRotate"),goog.require("ol"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotate=function(e){var o=e||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_}),this.condition_=o.condition?o.condition:ol.events.condition.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==o.duration?o.duration:250},ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer),ol.interaction.DragRotate.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var o=e.map,t=o.getView();if(t.getConstraints().rotation!==ol.RotationConstraint.disable){var r=o.getSize(),i=e.pixel,n=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var l=n-this.lastAngle_,a=t.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(t,a-l)}this.lastAngle_=n}}},ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=t.getRotation();return ol.interaction.Interaction.rotate(t,r,void 0,this.duration_),!1},ol.interaction.DragRotate.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!1;if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){return e.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,!0}return!1},ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.render.Box"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.geom.Polygon"),ol.render.Box=function(e){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null},ol.inherits(ol.render.Box,ol.Disposable),ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)},ol.render.Box.prototype.render_=function(){var e=this.startPixel_,o=this.endPixel_,t=this.element_.style;t.left=Math.min(e[0],o[0])+"px",t.top=Math.min(e[1],o[1])+"px",t.width=Math.abs(o[0]-e[0])+"px",t.height=Math.abs(o[1]-e[1])+"px"},ol.render.Box.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var o=this.element_.style;o.left=o.top=o.width=o.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},ol.render.Box.prototype.setPixels=function(e,o){this.startPixel_=e,this.endPixel_=o,this.createOrUpdateGeometry(),this.render_()},ol.render.Box.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,o=this.endPixel_,t=[e,[e[0],o[1]],o,[o[0],e[1]]],r=t.map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new ol.geom.Polygon([r])},ol.render.Box.prototype.getGeometry=function(){return this.geometry_},goog.provide("ol.interaction.DragBox"),goog.require("ol.events.Event"),goog.require("ol"),goog.require("ol.events.condition"),goog.require("ol.interaction.Pointer"),goog.require("ol.render.Box"),ol.interaction.DragBox=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var o=e||{};this.box_=new ol.render.Box(o.className||"ol-dragbox"),this.minArea_=void 0!==o.minArea?o.minArea:64,this.startPixel_=null,this.condition_=o.condition?o.condition:ol.events.condition.always,this.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition},ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer),ol.interaction.DragBox.defaultBoxEndCondition=function(e,o,t){var r=t[0]-o[0],i=t[1]-o[1];return r*r+i*i>=this.minArea_},ol.interaction.DragBox.handleDragEvent_=function(e){ol.events.condition.mouseOnly(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,e.coordinate,e)))},ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction,ol.interaction.DragBox.handleUpEvent_=function(e){return!ol.events.condition.mouseOnly(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd(e),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,e.coordinate,e))),!1)},ol.interaction.DragBox.handleDownEvent_=function(e){return!!ol.events.condition.mouseOnly(e)&&(!(!ol.events.condition.mouseActionButton(e)||!this.condition_(e))&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,e.coordinate,e)),!0))},ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},ol.interaction.DragBox.Event=function(e,o,t){ol.events.Event.call(this,e),this.coordinate=o,this.mapBrowserEvent=t},ol.inherits(ol.interaction.DragBox.Event,ol.events.Event),goog.provide("ol.interaction.DragZoom"),goog.require("ol"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.interaction.DragBox"),ol.interaction.DragZoom=function(e){var o=e||{},t=o.condition?o.condition:ol.events.condition.shiftKeyOnly;this.duration_=void 0!==o.duration?o.duration:200,this.out_=void 0!==o.out&&o.out,ol.interaction.DragBox.call(this,{condition:t,className:o.className||"ol-dragzoom"})},ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox),ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap(),o=e.getView(),t=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var i=o.calculateExtent(t),n=ol.extent.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(ol.extent.getBottomLeft(r)),e.getPixelFromCoordinate(ol.extent.getTopRight(r))]),l=o.getResolutionForExtent(n,t);ol.extent.scaleFromCenter(i,1/l),r=i}var a=o.constrainResolution(o.getResolutionForExtent(r,t)),s=ol.extent.getCenter(r);s=o.constrainCenter(s),o.animate({resolution:a,center:s,duration:this.duration_,easing:ol.easing.easeOut})},goog.provide("ol.events.KeyCode"),ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40},goog.provide("ol.interaction.KeyboardPan"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.events.KeyCode"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardPan=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var o=e||{};this.defaultCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.targetNotEditable(e)},this.condition_=void 0!==o.condition?o.condition:this.defaultCondition_,this.duration_=void 0!==o.duration?o.duration:100,this.pixelDelta_=void 0!==o.pixelDelta?o.pixelDelta:128},ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction),ol.interaction.KeyboardPan.handleEvent=function(e){var o=!1;if(e.type==ol.events.EventType.KEYDOWN){var t=e.originalEvent,r=t.keyCode;if(this.condition_(e)&&(r==ol.events.KeyCode.DOWN||r==ol.events.KeyCode.LEFT||r==ol.events.KeyCode.RIGHT||r==ol.events.KeyCode.UP)){var i=e.map,n=i.getView(),l=n.getResolution()*this.pixelDelta_,a=0,s=0;r==ol.events.KeyCode.DOWN?s=-l:r==ol.events.KeyCode.LEFT?a=-l:r==ol.events.KeyCode.RIGHT?a=l:s=l;var p=[a,s];ol.coordinate.rotate(p,n.getRotation()),ol.interaction.Interaction.pan(n,p,this.duration_),e.preventDefault(),o=!0}}return!o},goog.provide("ol.interaction.KeyboardZoom"),goog.require("ol"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var o=e||{};this.condition_=o.condition?o.condition:ol.events.condition.targetNotEditable,this.delta_=o.delta?o.delta:1,this.duration_=void 0!==o.duration?o.duration:100},ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction),ol.interaction.KeyboardZoom.handleEvent=function(e){var o=!1;if(e.type==ol.events.EventType.KEYDOWN||e.type==ol.events.EventType.KEYPRESS){var t=e.originalEvent,r=t.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=e.map,n=r=="+".charCodeAt(0)?this.delta_:-this.delta_,l=i.getView();ol.interaction.Interaction.zoomByDelta(l,n,void 0,this.duration_),e.preventDefault(),o=!0}}return!o},goog.provide("ol.interaction.MouseWheelZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.easing"),goog.require("ol.events.EventType"),goog.require("ol.has"),goog.require("ol.interaction.Interaction"),goog.require("ol.math"),ol.interaction.MouseWheelZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var o=e||{};this.delta_=0,this.duration_=void 0!==o.duration?o.duration:250,this.timeout_=void 0!==o.timeout?o.timeout:80,this.useAnchor_=void 0===o.useAnchor||o.useAnchor,this.constrainResolution_=o.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5},ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction),ol.interaction.MouseWheelZoom.handleEvent=function(e){var o=e.type;if(o!==ol.events.EventType.WHEEL&&o!==ol.events.EventType.MOUSEWHEEL)return!0;e.preventDefault();var t=e.map,r=e.originalEvent;this.useAnchor_&&(this.lastAnchor_=e.coordinate);var i;if(e.type==ol.events.EventType.WHEEL?(i=r.deltaY,ol.has.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=ol.has.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):e.type==ol.events.EventType.MOUSEWHEEL&&(i=-r.wheelDeltaY,ol.has.SAFARI&&(i/=3)),0===i)return!1;var n=Date.now();if(void 0===this.startTime_&&(this.startTime_=n),(!this.mode_||n-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL),this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var l=t.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):l.setHint(ol.ViewHint.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=l.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),s=l.getMinResolution(),p=l.getMaxResolution(),g=0;if(a<s?(a=Math.max(a,s/this.trackpadZoomBuffer_),g=1):a>p&&(a=Math.min(a,p*this.trackpadZoomBuffer_),g=-1),this.lastAnchor_){var c=l.calculateCenterZoom(a,this.lastAnchor_);l.setCenter(l.constrainCenter(c))}return l.setResolution(a),0===g&&this.constrainResolution_&&l.animate({resolution:l.constrainResolution(a,i>0?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),g>0?l.animate({resolution:s,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}):g<0&&l.animate({resolution:p,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=n,!1}this.delta_+=i;var u=Math.max(this.timeout_-(n-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),u),!1},ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(ol.ViewHint.INTERACTING,-1)},ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(e){var o=e.getView();o.getAnimating()&&o.cancelAnimations();var t=ol.MOUSEWHEELZOOM_MAXDELTA,r=ol.math.clamp(this.delta_,-t,t);ol.interaction.Interaction.zoomByDelta(o,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"},goog.provide("ol.interaction.PinchRotate"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),goog.require("ol.RotationConstraint"),ol.interaction.PinchRotate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var o=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==o.threshold?o.threshold:.3,this.duration_=void 0!==o.duration?o.duration:250},ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer),ol.interaction.PinchRotate.handleDragEvent_=function(e){var o=0,t=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-t.clientY,r.clientX-t.clientX);if(void 0!==this.lastAngle_){var n=i-this.lastAngle_;this.rotationDelta_+=n,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=n}this.lastAngle_=i;var l=e.map,a=l.getView();if(a.getConstraints().rotation!==ol.RotationConstraint.disable){var s=l.getViewport().getBoundingClientRect(),p=ol.interaction.Pointer.centroid(this.targetPointers);if(p[0]-=s.left,p[1]-=s.top,this.anchor_=l.getCoordinateFromPixel(p),this.rotating_){var g=a.getRotation();l.render(),ol.interaction.Interaction.rotateWithoutConstraints(a,g+o,this.anchor_)}}},ol.interaction.PinchRotate.handleUpEvent_=function(e){if(this.targetPointers.length<2){var o=e.map,t=o.getView();if(t.setHint(ol.ViewHint.INTERACTING,-1),this.rotating_){var r=t.getRotation();ol.interaction.Interaction.rotate(t,r,this.anchor_,this.duration_)}return!1}return!0},ol.interaction.PinchRotate.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var o=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.PinchZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchZoom=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var o=e||{};this.constrainResolution_=o.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==o.duration?o.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1},ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer),ol.interaction.PinchZoom.handleDragEvent_=function(e){var o=1,t=this.targetPointers[0],r=this.targetPointers[1],i=t.clientX-r.clientX,n=t.clientY-r.clientY,l=Math.sqrt(i*i+n*n);void 0!==this.lastDistance_&&(o=this.lastDistance_/l),this.lastDistance_=l;var a=e.map,s=a.getView(),p=s.getResolution(),g=s.getMaxResolution(),c=s.getMinResolution(),u=p*o;u>g?(o=g/p,u=g):u<c&&(o=c/p,u=c),1!=o&&(this.lastScaleDelta_=o);var y=a.getViewport().getBoundingClientRect(),h=ol.interaction.Pointer.centroid(this.targetPointers);h[0]-=y.left,h[1]-=y.top,this.anchor_=a.getCoordinateFromPixel(h),a.render(),ol.interaction.Interaction.zoomWithoutConstraints(s,u,this.anchor_)},ol.interaction.PinchZoom.handleUpEvent_=function(e){if(this.targetPointers.length<2){var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=t.getResolution();if(this.constrainResolution_||r<t.getMinResolution()||r>t.getMaxResolution()){var i=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(t,r,this.anchor_,this.duration_,i)}return!1}return!0},ol.interaction.PinchZoom.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var o=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction"),goog.require("ol.Collection"),goog.require("ol.Kinetic"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),ol.interaction.defaults=function(e){var o=e||{},t=new ol.Collection,r=new ol.Kinetic(-.005,.05,100);return(void 0===o.altShiftDragRotate||o.altShiftDragRotate)&&t.push(new ol.interaction.DragRotate),(void 0===o.doubleClickZoom||o.doubleClickZoom)&&t.push(new ol.interaction.DoubleClickZoom({delta:o.zoomDelta,duration:o.zoomDuration})),(void 0===o.dragPan||o.dragPan)&&t.push(new ol.interaction.DragPan({kinetic:r})),(void 0===o.pinchRotate||o.pinchRotate)&&t.push(new ol.interaction.PinchRotate),(void 0===o.pinchZoom||o.pinchZoom)&&t.push(new ol.interaction.PinchZoom({constrainResolution:o.constrainResolution,duration:o.zoomDuration})),(void 0===o.keyboard||o.keyboard)&&(t.push(new ol.interaction.KeyboardPan),t.push(new ol.interaction.KeyboardZoom({delta:o.zoomDelta,duration:o.zoomDuration}))),(void 0===o.mouseWheelZoom||o.mouseWheelZoom)&&t.push(new ol.interaction.MouseWheelZoom({constrainResolution:o.constrainResolution,duration:o.zoomDuration})),(void 0===o.shiftDragZoom||o.shiftDragZoom)&&t.push(new ol.interaction.DragZoom({duration:o.zoomDuration})),t},goog.provide("ol.LayerType"),ol.LayerType={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},goog.provide("ol.render.Event"),goog.require("ol"),goog.require("ol.events.Event"),ol.render.Event=function(e,o,t,r,i){ol.events.Event.call(this,e),this.vectorContext=o,this.frameState=t,this.context=r,this.glContext=i},ol.inherits(ol.render.Event,ol.events.Event),goog.provide("ol.render.EventType"),ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"},goog.provide("ol.render.canvas"),ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1],ol.render.canvas.defaultLineCap="round",ol.render.canvas.defaultLineDash=[],ol.render.canvas.defaultLineDashOffset=0,ol.render.canvas.defaultLineJoin="round",ol.render.canvas.defaultMiterLimit=10,ol.render.canvas.defaultStrokeStyle=[0,0,0,1],ol.render.canvas.defaultTextAlign="center",ol.render.canvas.defaultTextBaseline="middle",ol.render.canvas.defaultLineWidth=1,ol.render.canvas.rotateAtOffset=function(e,o,t,r){0!==o&&(e.translate(t,r),e.rotate(o),e.translate(-t,-r))},goog.provide("ol.color"),goog.require("ol.asserts"),goog.require("ol.math"),ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i,ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i,
ol.color.asArray=function(e){return Array.isArray(e)?e:ol.color.fromString(e)},ol.color.asString=function(e){return"string"==typeof e?e:ol.color.toString(e)},ol.color.fromNamed=function(e){var o=document.createElement("div");o.style.color=e,document.body.appendChild(o);var t=getComputedStyle(o).color;return document.body.removeChild(o),t},ol.color.fromString=function(){var e={},o=0;return function(t){var r;if(e.hasOwnProperty(t))r=e[t];else{if(o>=1024){var i,n=0;for(i in e)0==(3&n++)&&(delete e[i],--o)}r=ol.color.fromStringInternal_(t),e[t]=r,++o}return r}}(),ol.color.fromStringInternal_=function(e){var o,t,r,i,n,l;if(ol.color.NAMED_COLOR_RE_.exec(e)&&(e=ol.color.fromNamed(e)),ol.color.HEX_COLOR_RE_.exec(e)){var a=e.length-1;ol.asserts.assert(3==a||6==a,54);var s=3==a?1:2;o=parseInt(e.substr(1+0*s,s),16),t=parseInt(e.substr(1+1*s,s),16),r=parseInt(e.substr(1+2*s,s),16),1==s&&(o=(o<<4)+o,t=(t<<4)+t,r=(r<<4)+r),i=1,n=[o,t,r,i]}else 0==e.indexOf("rgba(")?(l=e.slice(5,-1).split(",").map(Number),n=ol.color.normalize(l)):0==e.indexOf("rgb(")?(l=e.slice(4,-1).split(",").map(Number),l.push(1),n=ol.color.normalize(l)):ol.asserts.assert(!1,14);return n},ol.color.normalize=function(e,o){var t=o||[];return t[0]=ol.math.clamp(e[0]+.5|0,0,255),t[1]=ol.math.clamp(e[1]+.5|0,0,255),t[2]=ol.math.clamp(e[2]+.5|0,0,255),t[3]=ol.math.clamp(e[3],0,1),t},ol.color.toString=function(e){var o=e[0];o!=(0|o)&&(o=o+.5|0);var t=e[1];t!=(0|t)&&(t=t+.5|0);var r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+o+","+t+","+r+","+(void 0===e[3]?1:e[3])+")"},goog.provide("ol.colorlike"),goog.require("ol.color"),ol.colorlike.asColorLike=function(e){return ol.colorlike.isColorLike(e)?e:ol.color.asString(e)},ol.colorlike.isColorLike=function(e){return"string"==typeof e||e instanceof CanvasPattern||e instanceof CanvasGradient},goog.provide("ol.render.VectorContext"),ol.render.VectorContext=function(){},ol.render.VectorContext.prototype.drawCustom=function(e,o,t){},ol.render.VectorContext.prototype.drawGeometry=function(e){},ol.render.VectorContext.prototype.setStyle=function(e){},ol.render.VectorContext.prototype.drawCircle=function(e,o){},ol.render.VectorContext.prototype.drawFeature=function(e,o){},ol.render.VectorContext.prototype.drawGeometryCollection=function(e,o){},ol.render.VectorContext.prototype.drawLineString=function(e,o){},ol.render.VectorContext.prototype.drawMultiLineString=function(e,o){},ol.render.VectorContext.prototype.drawMultiPoint=function(e,o){},ol.render.VectorContext.prototype.drawMultiPolygon=function(e,o){},ol.render.VectorContext.prototype.drawPoint=function(e,o){},ol.render.VectorContext.prototype.drawPolygon=function(e,o){},ol.render.VectorContext.prototype.drawText=function(e,o){},ol.render.VectorContext.prototype.setFillStrokeStyle=function(e,o){},ol.render.VectorContext.prototype.setImageStyle=function(e){},ol.render.VectorContext.prototype.setTextStyle=function(e){},goog.provide("ol.render.canvas.Immediate"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.transform"),ol.render.canvas.Immediate=function(e,o,t,r,i){ol.render.VectorContext.call(this),this.context_=e,this.pixelRatio_=o,this.extent_=t,this.transform_=r,this.viewRotation_=i,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext),ol.render.canvas.Immediate.prototype.drawImages_=function(e,o,t,r){if(this.image_){var i=ol.geom.flat.transform.transform2D(e,o,t,2,this.transform_,this.pixelCoordinates_),n=this.context_,l=this.tmpLocalTransform_,a=n.globalAlpha;1!=this.imageOpacity_&&(n.globalAlpha=a*this.imageOpacity_);var s=this.imageRotation_;this.imageRotateWithView_&&(s+=this.viewRotation_);var p,g;for(p=0,g=i.length;p<g;p+=2){var c=i[p]-this.imageAnchorX_,u=i[p+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(c=Math.round(c),u=Math.round(u)),0!==s||1!=this.imageScale_){var y=c+this.imageAnchorX_,h=u+this.imageAnchorY_;ol.transform.compose(l,y,h,this.imageScale_,this.imageScale_,s,-y,-h),n.setTransform.apply(n,l)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,u,this.imageWidth_,this.imageHeight_)}0===s&&1==this.imageScale_||n.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(n.globalAlpha=a)}},ol.render.canvas.Immediate.prototype.drawText_=function(e,o,t,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=ol.geom.flat.transform.transform2D(e,o,t,r,this.transform_,this.pixelCoordinates_),n=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);o<t;o+=r){var a=i[o]+this.textOffsetX_,s=i[o+1]+this.textOffsetY_;if(0!==l||1!=this.textScale_){var p=ol.transform.compose(this.tmpLocalTransform_,a,s,this.textScale_,this.textScale_,l,-a,-s);n.setTransform.apply(n,p)}this.textStrokeState_&&n.strokeText(this.text_,a,s),this.textFillState_&&n.fillText(this.text_,a,s)}0===l&&1==this.textScale_||n.setTransform(1,0,0,1,0,0)}},ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,o,t,r,i){var n=this.context_,l=ol.geom.flat.transform.transform2D(e,o,t,r,this.transform_,this.pixelCoordinates_);n.moveTo(l[0],l[1]);var a=l.length;i&&(a-=2);for(var s=2;s<a;s+=2)n.lineTo(l[s],l[s+1]);return i&&n.closePath(),t},ol.render.canvas.Immediate.prototype.drawRings_=function(e,o,t,r){var i,n;for(i=0,n=t.length;i<n;++i)o=this.moveToLineTo_(e,o,t[i],r,!0);return o},ol.render.canvas.Immediate.prototype.drawCircle=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=ol.geom.SimpleGeometry.transform2D(e,this.transform_,this.pixelCoordinates_),t=o[2]-o[0],r=o[3]-o[1],i=Math.sqrt(t*t+r*r),n=this.context_;n.beginPath(),n.arc(o[0],o[1],i,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},ol.render.canvas.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},ol.render.canvas.Immediate.prototype.drawGeometry=function(e){switch(e.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(e);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e)}},ol.render.canvas.Immediate.prototype.drawFeature=function(e,o){var t=o.getGeometryFunction()(e);t&&ol.extent.intersects(this.extent_,t.getExtent())&&(this.setStyle(o),this.drawGeometry(t))},ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(e){var o,t,r=e.getGeometriesArray();for(o=0,t=r.length;o<t;++o)this.drawGeometry(r[o])},ol.render.canvas.Immediate.prototype.drawPoint=function(e){var o=e.getFlatCoordinates(),t=e.getStride();this.image_&&this.drawImages_(o,0,o.length,t),""!==this.text_&&this.drawText_(o,0,o.length,t)},ol.render.canvas.Immediate.prototype.drawMultiPoint=function(e){var o=e.getFlatCoordinates(),t=e.getStride();this.image_&&this.drawImages_(o,0,o.length,t),""!==this.text_&&this.drawText_(o,0,o.length,t)},ol.render.canvas.Immediate.prototype.drawLineString=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,t=e.getFlatCoordinates();o.beginPath(),this.moveToLineTo_(t,0,t.length,e.getStride(),!1),o.stroke()}if(""!==this.text_){var r=e.getFlatMidpoint();this.drawText_(r,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiLineString=function(e){var o=e.getExtent();if(ol.extent.intersects(this.extent_,o)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates(),i=0,n=e.getEnds(),l=e.getStride();t.beginPath();var a,s;for(a=0,s=n.length;a<s;++a)i=this.moveToLineTo_(r,i,n[a],l,!1);t.stroke()}if(""!==this.text_){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}}},ol.render.canvas.Immediate.prototype.drawPolygon=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o=this.context_;o.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}if(""!==this.text_){var t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var o,t,r=this.context_,i=e.getOrientedFlatCoordinates(),n=0,l=e.getEndss(),a=e.getStride();for(r.beginPath(),o=0,t=l.length;o<t;++o){var s=l[o];n=this.drawRings_(i,n,s,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}}},ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var o=this.context_,t=this.contextFillState_;t?t.fillStyle!=e.fillStyle&&(t.fillStyle=o.fillStyle=e.fillStyle):(o.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var o=this.context_,t=this.contextStrokeState_;t?(t.lineCap!=e.lineCap&&(t.lineCap=o.lineCap=e.lineCap),ol.has.CANVAS_LINE_DASH&&(ol.array.equals(t.lineDash,e.lineDash)||o.setLineDash(t.lineDash=e.lineDash),t.lineDashOffset!=e.lineDashOffset&&(t.lineDashOffset=o.lineDashOffset=e.lineDashOffset)),t.lineJoin!=e.lineJoin&&(t.lineJoin=o.lineJoin=e.lineJoin),t.lineWidth!=e.lineWidth&&(t.lineWidth=o.lineWidth=e.lineWidth),t.miterLimit!=e.miterLimit&&(t.miterLimit=o.miterLimit=e.miterLimit),t.strokeStyle!=e.strokeStyle&&(t.strokeStyle=o.strokeStyle=e.strokeStyle)):(o.lineCap=e.lineCap,ol.has.CANVAS_LINE_DASH&&(o.setLineDash(e.lineDash),o.lineDashOffset=e.lineDashOffset),o.lineJoin=e.lineJoin,o.lineWidth=e.lineWidth,o.miterLimit=e.miterLimit,o.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var o=this.context_,t=this.contextTextState_,r=e.textAlign?e.textAlign:ol.render.canvas.defaultTextAlign;t?(t.font!=e.font&&(t.font=o.font=e.font),t.textAlign!=r&&(t.textAlign=r),t.textBaseline!=e.textBaseline&&(t.textBaseline=o.textBaseline=e.textBaseline)):(o.font=e.font,o.textAlign=r,o.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})},ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,o){if(e){var t=e.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(t||ol.render.canvas.defaultFillStyle)}}else this.fillState_=null;if(o){var r=o.getColor(),i=o.getLineCap(),n=o.getLineDash(),l=o.getLineDashOffset(),a=o.getLineJoin(),s=o.getWidth(),p=o.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:ol.render.canvas.defaultLineCap,lineDash:n||ol.render.canvas.defaultLineDash,lineDashOffset:l||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==a?a:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==s?s:ol.render.canvas.defaultLineWidth),miterLimit:void 0!==p?p:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(r||ol.render.canvas.defaultStrokeStyle)}}else this.strokeState_=null},ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(e){var o=e.getAnchor(),t=e.getImage(1),r=e.getOrigin(),i=e.getSize();this.imageAnchorX_=o[0],this.imageAnchorY_=o[1],this.imageHeight_=i[1],this.image_=t,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageSnapToPixel_=e.getSnapToPixel(),this.imageWidth_=i[0]}else this.image_=null},ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(e){var o=e.getFill();if(o){var t=o.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(t||ol.render.canvas.defaultFillStyle)}}else this.textFillState_=null;var r=e.getStroke();if(r){var i=r.getColor(),n=r.getLineCap(),l=r.getLineDash(),a=r.getLineDashOffset(),s=r.getLineJoin(),p=r.getWidth(),g=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:ol.render.canvas.defaultLineCap,lineDash:l||ol.render.canvas.defaultLineDash,lineDashOffset:a||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==s?s:ol.render.canvas.defaultLineJoin,lineWidth:void 0!==p?p:ol.render.canvas.defaultLineWidth,miterLimit:void 0!==g?g:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(i||ol.render.canvas.defaultStrokeStyle)}}else this.textStrokeState_=null;var c=e.getFont(),u=e.getOffsetX(),y=e.getOffsetY(),h=e.getRotateWithView(),d=e.getRotation(),m=e.getScale(),f=e.getText(),_=e.getTextAlign(),v=e.getTextBaseline();this.textState_={font:void 0!==c?c:ol.render.canvas.defaultFont,textAlign:void 0!==_?_:ol.render.canvas.defaultTextAlign,textBaseline:void 0!==v?v:ol.render.canvas.defaultTextBaseline},this.text_=void 0!==f?f:"",this.textOffsetX_=void 0!==u?this.pixelRatio_*u:0,this.textOffsetY_=void 0!==y?this.pixelRatio_*y:0,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0!==d?d:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""},goog.provide("ol.ImageState"),ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3},goog.provide("ol.renderer.Layer"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.Observable"),goog.require("ol.TileState"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.functions"),goog.require("ol.source.State"),ol.renderer.Layer=function(e){ol.Observable.call(this),this.layer_=e},ol.inherits(ol.renderer.Layer,ol.Observable),ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE,ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,o,t){return function(r,i){function n(e){t[r]||(t[r]={}),t[r][e.tileCoord.toString()]=e}return e.forEachLoadedTile(o,r,i,n)}},ol.renderer.Layer.prototype.getLayer=function(){return this.layer_},ol.renderer.Layer.prototype.handleImageChange_=function(e){e.target.getState()===ol.ImageState.LOADED&&this.renderIfReadyAndVisible()},ol.renderer.Layer.prototype.loadImage=function(e){var o=e.getState();return o!=ol.ImageState.LOADED&&o!=ol.ImageState.ERROR&&ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange_,this),o==ol.ImageState.IDLE&&(e.load(),o=e.getState()),o==ol.ImageState.LOADED},ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==ol.source.State.READY&&this.changed()},ol.renderer.Layer.prototype.scheduleExpireCache=function(e,o){if(o.canExpireCache()){var t=function(e,o,t){var r=ol.getUid(e).toString();r in t.usedTiles&&e.expireCache(t.viewState.projection,t.usedTiles[r])}.bind(null,o);e.postRenderFunctions.push(t)}},ol.renderer.Layer.prototype.updateAttributions=function(e,o){if(o){var t,r,i;for(r=0,i=o.length;r<i;++r)t=o[r],e[ol.getUid(t).toString()]=t}},ol.renderer.Layer.prototype.updateLogos=function(e,o){var t=o.getLogo();void 0!==t&&("string"==typeof t?e.logos[t]="":t&&(ol.asserts.assert("string"==typeof t.href,44),ol.asserts.assert("string"==typeof t.src,45),e.logos[t.src]=t.href))},ol.renderer.Layer.prototype.updateUsedTiles=function(e,o,t,r){var i=ol.getUid(o).toString(),n=t.toString();i in e?n in e[i]?e[i][n].extend(r):e[i][n]=r:(e[i]={},e[i][n]=r)},ol.renderer.Layer.prototype.manageTilePyramid=function(e,o,t,r,i,n,l,a,s,p){var g=ol.getUid(o).toString();g in e.wantedTiles||(e.wantedTiles[g]={});var c,u,y,h,d,m,f=e.wantedTiles[g],_=e.tileQueue,v=t.getMinZoom();for(m=v;m<=l;++m)for(u=t.getTileRangeForExtentAndZ(n,m,u),y=t.getResolution(m),h=u.minX;h<=u.maxX;++h)for(d=u.minY;d<=u.maxY;++d)l-m<=a?(c=o.getTile(m,h,d,r,i),c.getState()==ol.TileState.IDLE&&(f[c.getKey()]=!0,_.isKeyQueued(c.getKey())||_.enqueue([c,g,t.getTileCoordCenter(c.tileCoord),y])),void 0!==s&&s.call(p,c)):o.useTile(m,h,d,i)},goog.provide("ol.renderer.canvas.Layer"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.transform"),ol.renderer.canvas.Layer=function(e){ol.renderer.Layer.call(this,e),this.renderedResolution,this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer),ol.renderer.canvas.Layer.prototype.clip=function(e,o,t){var r=o.pixelRatio,i=o.size[0]*r,n=o.size[1]*r,l=o.viewState.rotation,a=ol.extent.getTopLeft(t),s=ol.extent.getTopRight(t),p=ol.extent.getBottomRight(t),g=ol.extent.getBottomLeft(t);ol.transform.apply(o.coordinateToPixelTransform,a),ol.transform.apply(o.coordinateToPixelTransform,s),ol.transform.apply(o.coordinateToPixelTransform,p),ol.transform.apply(o.coordinateToPixelTransform,g),e.save(),ol.render.canvas.rotateAtOffset(e,-l,i/2,n/2),e.beginPath(),e.moveTo(a[0]*r,a[1]*r),e.lineTo(s[0]*r,s[1]*r),e.lineTo(p[0]*r,p[1]*r),e.lineTo(g[0]*r,g[1]*r),e.clip(),ol.render.canvas.rotateAtOffset(e,l,i/2,n/2)},ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,o,t,r){var i=this.getLayer();if(i.hasListener(e)){var n=t.size[0]*t.pixelRatio,l=t.size[1]*t.pixelRatio,a=t.viewState.rotation;ol.render.canvas.rotateAtOffset(o,-a,n/2,l/2);var s=void 0!==r?r:this.getTransform(t,0),p=new ol.render.canvas.Immediate(o,t.pixelRatio,t.extent,s,t.viewState.rotation),g=new ol.render.Event(e,p,t,o,null);i.dispatchEvent(g),ol.render.canvas.rotateAtOffset(o,a,n/2,l/2)}},ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(e,o,t,r){return this.forEachFeatureAtCoordinate(e,o,0,ol.functions.TRUE,this)?t.call(r,this.getLayer(),null):void 0},ol.renderer.canvas.Layer.prototype.postCompose=function(e,o,t,r){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,o,r)},ol.renderer.canvas.Layer.prototype.preCompose=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,o,t)},ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,o,t)},ol.renderer.canvas.Layer.prototype.getTransform=function(e,o){var t=e.viewState,r=e.pixelRatio,i=r*e.size[0]/2,n=r*e.size[1]/2,l=r/t.resolution,a=-l,s=-t.rotation,p=-t.center[0]+o,g=-t.center[1];return ol.transform.compose(this.transform_,i,n,l,a,s,p,g)},ol.renderer.canvas.Layer.prototype.composeFrame=function(e,o,t){},ol.renderer.canvas.Layer.prototype.prepareFrame=function(e,o){},goog.provide("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.transform"),ol.renderer.canvas.IntermediateCanvas=function(e){ol.renderer.canvas.Layer.call(this,e),this.coordinateToCanvasPixelTransform=ol.transform.create(),this.hitCanvasContext_=null},ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer),ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(e,o,t){this.preCompose(t,e);var r=this.getImage();if(r){var i=o.extent,n=void 0!==i&&!ol.extent.containsExtent(i,e.extent)&&ol.extent.intersects(i,e.extent);n&&this.clip(t,e,i);var l=this.getImageTransform(),a=t.globalAlpha;t.globalAlpha=o.opacity;var s=l[4],p=l[5],g=r.width*l[0],c=r.height*l[3];t.drawImage(r,0,0,+r.width,+r.height,Math.round(s),Math.round(p),Math.round(g),Math.round(c)),t.globalAlpha=a,n&&t.restore()}this.postCompose(t,e,o)},ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i){var n=this.getLayer(),l=n.getSource(),a=o.viewState.resolution,s=o.viewState.rotation,p=o.skippedFeatureUids;return l.forEachFeatureAtCoordinate(e,a,s,t,p,function(e){return r.call(i,e,n)})},ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(e,o,t,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction)return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments);var i=ol.transform.apply(this.coordinateToCanvasPixelTransform,e.slice());ol.coordinate.scale(i,o.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var n=this.hitCanvasContext_.getImageData(0,0,1,1).data;return n[3]>0?t.call(r,this.getLayer(),n):void 0}},goog.provide("ol.renderer.canvas.ImageLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.ImageLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e),this.image_=null,this.imageTransform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.ImageLayer.handles=function(e,o){return e===ol.renderer.Type.CANVAS&&o.getType()===ol.LayerType.IMAGE},ol.renderer.canvas.ImageLayer.create=function(e,o){return new ol.renderer.canvas.ImageLayer(o)},ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return this.image_?this.image_.getImage():null},ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_},ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,o){var t,r=e.pixelRatio,i=e.size,n=e.viewState,l=n.center,a=n.resolution,s=this.getLayer(),p=s.getSource(),g=e.viewHints,c=e.extent;if(void 0!==o.extent&&(c=ol.extent.getIntersection(c,o.extent)),!g[ol.ViewHint.ANIMATING]&&!g[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(c)){var u=n.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var y=p.getProjection();y&&(u=y)}if(t=p.getImage(c,a,r,u)){this.loadImage(t)&&(this.image_=t)}}if(this.image_){t=this.image_;var h=t.getExtent(),d=t.getResolution(),m=t.getPixelRatio(),f=r*d/(a*m),_=ol.transform.compose(this.imageTransform_,r*i[0]/2,r*i[1]/2,f,f,0,m*(h[0]-l[0])/d,m*(l[1]-h[3])/d);ol.transform.compose(this.coordinateToCanvasPixelTransform,r*i[0]/2-_[4],r*i[1]/2-_[5],r/a,-r/a,0,-l[0],-l[1]),this.updateAttributions(e.attributions,t.getAttributions()),this.updateLogos(e,p),this.renderedResolution=d*r/m}return!!this.image_},goog.provide("ol.layer.Layer"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Base"),goog.require("ol.layer.Property"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.source.State"),ol.layer.Layer=function(e){var o=ol.obj.assign({},e);delete o.source,ol.layer.Base.call(this,o),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var t=e.source?e.source:null;this.setSource(t)},ol.inherits(ol.layer.Layer,ol.layer.Base),ol.layer.Layer.visibleAtResolution=function(e,o){return e.visible&&o>=e.minResolution&&o<e.maxResolution},ol.layer.Layer.prototype.getLayersArray=function(e){var o=e||[];return o.push(this),o},ol.layer.Layer.prototype.getLayerStatesArray=function(e){var o=e||[];return o.push(this.getLayerState()),o},ol.layer.Layer.prototype.getSource=function(){return this.get(ol.layer.Property.SOURCE)||null},ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():ol.source.State.UNDEFINED},ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()},ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ol.events.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},ol.layer.Layer.prototype.setMap=function(e){this.mapPrecomposeKey_&&(ol.events.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ol.events.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ol.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var o=this.getLayerState();o.managed=!1,o.zIndex=1/0,e.frameState.layerStatesArray.push(o),e.frameState.layerStates[ol.getUid(this)]=o},this),this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,e.render,e),this.changed())},ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.Property.SOURCE,e)},goog.provide("ol.style.IconImageCache"),goog.require("ol.color"),ol.style.IconImageCache=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32},ol.style.IconImageCache.getKey=function(e,o,t){return o+":"+e+":"+(t?ol.color.asString(t):"null")},ol.style.IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e,o,t=0;for(e in this.cache_)o=this.cache_[e],0!=(3&t++)||o.hasListener()||(delete this.cache_[e],--this.cacheSize_)}},ol.style.IconImageCache.prototype.get=function(e,o,t){var r=ol.style.IconImageCache.getKey(e,o,t);return r in this.cache_?this.cache_[r]:null},ol.style.IconImageCache.prototype.set=function(e,o,t,r){var i=ol.style.IconImageCache.getKey(e,o,t);this.cache_[i]=r,++this.cacheSize_},goog.provide("ol.style"),goog.require("ol.style.IconImageCache"),ol.style.iconImageCache=new ol.style.IconImageCache,goog.provide("ol.renderer.Map"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.layer.Layer"),goog.require("ol.plugins"),goog.require("ol.style"),goog.require("ol.transform"),ol.renderer.Map=function(e,o){ol.Disposable.call(this),this.map_=o,this.layerRenderers_={},this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable),ol.renderer.Map.prototype.calculateMatrices2D=function(e){var o=e.viewState,t=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ol.transform.compose(t,e.size[0]/2,e.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),ol.transform.invert(ol.transform.setFromArray(r,t))},ol.renderer.Map.prototype.disposeInternal=function(){for(var e in this.layerRenderers_)this.layerRenderers_[e].dispose()},ol.renderer.Map.expireIconCache_=function(e,o){ol.style.iconImageCache.expire()},ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i,n,l){function a(e,t){var n=ol.getUid(e).toString(),l=o.layerStates[ol.getUid(t)].managed;if(!(n in o.skippedFeatureUids)||l)return r.call(i,e,l?t:null)}var s,p=o.viewState,g=p.resolution,c=p.projection,u=e;if(c.canWrapX()){var y=c.getExtent(),h=ol.extent.getWidth(y),d=e[0];if(d<y[0]||d>y[2]){u=[d+h*Math.ceil((y[0]-d)/h),e[1]]}}var m,f=o.layerStatesArray,_=f.length;for(m=_-1;m>=0;--m){var v=f[m],S=v.layer;if(ol.layer.Layer.visibleAtResolution(v,g)&&n.call(l,S)){var x=this.getLayerRenderer(S);if(S.getSource()&&(s=x.forEachFeatureAtCoordinate(S.getSource().getWrapX()?u:e,o,t,a,i)),s)return s}}},ol.renderer.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,i,n){},ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,o,t,r,i){return void 0!==this.forEachFeatureAtCoordinate(e,o,t,ol.functions.TRUE,this,r,i)},ol.renderer.Map.prototype.getLayerRenderer=function(e){var o=ol.getUid(e).toString();if(o in this.layerRenderers_)return this.layerRenderers_[o];for(var t,r=ol.plugins.getLayerRendererPlugins(),i=this.getType(),n=0,l=r.length;n<l;++n){var a=r[n];if(a.handles(i,e)){t=a.create(this,e);break}}if(!t)throw new Error("Unable to create renderer for layer: "+e.getType());return this.layerRenderers_[o]=t,this.layerRendererListeners_[o]=ol.events.listen(t,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this),t},ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_},ol.renderer.Map.prototype.getMap=function(){return this.map_},ol.renderer.Map.prototype.getType=function(){},ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()},ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){var o=this.layerRenderers_[e];return delete this.layerRenderers_[e],ol.events.unlistenByKey(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],o},ol.renderer.Map.prototype.renderFrame=ol.nullFunction,ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,o){var t;for(t in this.layerRenderers_)o&&t in o.layerStates||this.removeLayerRendererByKey_(t).dispose()},ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)},ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){var o;for(o in this.layerRenderers_)if(!(o in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},ol.renderer.Map.sortByZIndex=function(e,o){return e.zIndex-o.zIndex},goog.provide("ol.renderer.canvas.Map"),goog.require("ol.transform"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),ol.renderer.canvas.Map=function(e,o){ol.renderer.Map.call(this,e,o),this.context_=ol.dom.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",
this.canvas_.className=ol.css.CLASS_UNSELECTABLE,e.insertBefore(this.canvas_,e.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map),ol.renderer.canvas.Map.handles=function(e){return e===ol.renderer.Type.CANVAS},ol.renderer.canvas.Map.create=function(e,o){return new ol.renderer.canvas.Map(e,o)},ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,o){var t=this.getMap(),r=this.context_;if(t.hasListener(e)){var i=o.extent,n=o.pixelRatio,l=o.viewState,a=l.rotation,s=this.getTransform(o),p=new ol.render.canvas.Immediate(r,n,i,s,a),g=new ol.render.Event(e,p,o,r,null);t.dispatchEvent(g)}},ol.renderer.canvas.Map.prototype.getTransform=function(e){var o=e.viewState,t=this.canvas_.width/2,r=this.canvas_.height/2,i=e.pixelRatio/o.resolution,n=-i,l=-o.rotation,a=-o.center[0],s=-o.center[1];return ol.transform.compose(this.transform_,t,r,i,n,l,a,s)},ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS},ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(!e)return void(this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1));var o=this.context_,t=e.pixelRatio,r=Math.round(e.size[0]*t),i=Math.round(e.size[1]*t);this.canvas_.width!=r||this.canvas_.height!=i?(this.canvas_.width=r,this.canvas_.height=i):o.clearRect(0,0,r,i);var n=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var l=e.layerStatesArray;ol.array.stableSort(l,ol.renderer.Map.sortByZIndex),n&&(o.save(),ol.render.canvas.rotateAtOffset(o,n,r/2,i/2));var a,s,p,g,c,u=e.viewState.resolution;for(a=0,s=l.length;a<s;++a)c=l[a],p=c.layer,g=this.getLayerRenderer(p),ol.layer.Layer.visibleAtResolution(c,u)&&c.sourceState==ol.source.State.READY&&g.prepareFrame(e,c)&&g.composeFrame(e,c,o);n&&o.restore(),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,i,n){var l,a,s=o.viewState,p=s.resolution,g=o.layerStatesArray,c=g.length,u=ol.transform.apply(o.pixelToCoordinateTransform,e.slice());for(a=c-1;a>=0;--a){var y=g[a],h=y.layer;if(ol.layer.Layer.visibleAtResolution(y,p)&&i.call(n,h)){if(l=this.getLayerRenderer(h).forEachLayerAtCoordinate(u,o,t,r))return l}}},goog.provide("ol.renderer.canvas.TileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.TileLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e),this.context=null===this.context?null:ol.dom.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=ol.extent.createEmpty(),this.tmpTileRange_=new ol.TileRange(0,0,0,0),this.imageTransform_=ol.transform.create(),this.zDirection=0},ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.TileLayer.handles=function(e,o){return e===ol.renderer.Type.CANVAS&&o.getType()===ol.LayerType.TILE},ol.renderer.canvas.TileLayer.create=function(e,o){return new ol.renderer.canvas.TileLayer(o)},ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(e){var o=e.getState(),t=this.getLayer().getUseInterimTilesOnError();return o==ol.TileState.LOADED||o==ol.TileState.EMPTY||o==ol.TileState.ERROR&&!t},ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,o){var t=e.pixelRatio,r=e.size,i=e.viewState,n=i.projection,l=i.resolution,a=i.center,s=this.getLayer(),p=s.getSource(),g=p.getRevision(),c=p.getTileGridForProjection(n),u=c.getZForResolution(l,this.zDirection),y=c.getResolution(u),h=Math.round(l/y)||1,d=e.extent;if(void 0!==o.extent&&(d=ol.extent.getIntersection(d,o.extent)),ol.extent.isEmpty(d))return!1;var m=c.getTileRangeForExtentAndZ(d,u),f=c.getTileRangeExtent(u,m),_=p.getTilePixelRatio(t),v={};v[u]={};var S,x,P,E=this.createLoadedTileFinder(p,n,v),T=this.tmpExtent,R=this.tmpTileRange_,L=!1;for(x=m.minX;x<=m.maxX;++x)for(P=m.minY;P<=m.maxY;++P){if(S=p.getTile(u,x,P,t,n),S.getState()==ol.TileState.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(L=!0):S.setState(ol.TileState.LOADED)),this.isDrawableTile_(S)||(S=S.getInterimTile()),this.isDrawableTile_(S)){var M=ol.getUid(this);if(S.getState()==ol.TileState.LOADED){v[u][S.tileCoord.toString()]=S;var C=S.inTransition(M);L||!C&&-1!==this.renderedTiles.indexOf(S)||(L=!0)}if(1===S.getAlpha(M,e.time))continue}var I=c.getTileCoordChildTileRange(S.tileCoord,R,T),A=!1;I&&(A=E(u+1,I)),A||c.forEachTileCoordParentTileRange(S.tileCoord,E,null,R,T)}var O=y*t/_*h,b=e.viewHints,w=b[ol.ViewHint.ANIMATING]||b[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&Date.now()-e.time>16&&w)&&(L||!this.renderedExtent_||!ol.extent.containsExtent(this.renderedExtent_,d)||this.renderedRevision!=g||h!=this.oversampling_||!w&&O!=this.renderedResolution)){var N=this.context;if(N){var F=p.getTilePixelSize(u,t,n),G=Math.round(m.getWidth()*F[0]/h),D=Math.round(m.getHeight()*F[1]/h),q=N.canvas;q.width!=G||q.height!=D?(this.oversampling_=h,q.width=G,q.height=D):(this.renderedExtent_&&!ol.extent.equals(f,this.renderedExtent_)&&N.clearRect(0,0,G,D),h=this.oversampling_)}this.renderedTiles.length=0;var U=Object.keys(v).map(Number);U.sort(function(e,o){return e===u?1:o===u?-1:e>o?1:e<o?-1:0});var k,j,W,V,B,K,X,Y,Z,H,z;for(B=0,K=U.length;B<K;++B){V=U[B],W=p.getTilePixelSize(V,t,n),k=c.getResolution(V),j=k/y,Y=_*p.getGutter(n),Z=v[V];for(var J in Z)S=Z[J],X=c.getTileCoordExtent(S.getTileCoord(),T),x=(X[0]-f[0])/y*_/h,P=(f[3]-X[3])/y*_/h,H=W[0]*j/h,z=W[1]*j/h,this.drawTileImage(S,e,o,x,P,H,z,Y,u===V),this.renderedTiles.push(S)}this.renderedRevision=g,this.renderedResolution=y*t/_*h,this.renderedExtent_=f}var Q=this.renderedResolution/l,$=ol.transform.compose(this.imageTransform_,t*r[0]/2,t*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*t,(a[1]-this.renderedExtent_[3])/this.renderedResolution*t);return ol.transform.compose(this.coordinateToCanvasPixelTransform,t*r[0]/2-$[4],t*r[1]/2-$[5],t/l,-t/l,0,-a[0],-a[1]),this.updateUsedTiles(e.usedTiles,p,u,m),this.manageTilePyramid(e,p,c,t,n,d,u,s.getPreload()),this.scheduleExpireCache(e,p),this.updateLogos(e,p),this.renderedTiles.length>0},ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,o,t,r,i,n,l,a,s){var p=e.getImage(this.getLayer());if(p){var g=ol.getUid(this),c=s?e.getAlpha(g,o.time):1;1!==c||this.getLayer().getSource().getOpaque(o.viewState.projection)||this.context.clearRect(r,i,n,l);var u=c!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(p,a,a,p.width-2*a,p.height-2*a,r,i,n,l),u&&this.context.restore(),1!==c?o.animate=!0:s&&e.endTransition(g)}},ol.renderer.canvas.TileLayer.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},ol.renderer.canvas.TileLayer.prototype.getLayer,ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_},goog.provide("ol.render.ReplayGroup"),ol.render.ReplayGroup=function(){},ol.render.ReplayGroup.prototype.getReplay=function(e,o){},ol.render.ReplayGroup.prototype.isEmpty=function(){},goog.provide("ol.geom.flat.length"),ol.geom.flat.length.lineString=function(e,o,t,r){var i,n=e[o],l=e[o+1],a=0;for(i=o+r;i<t;i+=r){var s=e[i],p=e[i+1];a+=Math.sqrt((s-n)*(s-n)+(p-l)*(p-l)),n=s,l=p}return a},ol.geom.flat.length.linearRing=function(e,o,t,r){var i=ol.geom.flat.length.lineString(e,o,t,r),n=e[t-r]-e[o],l=e[t-r+1]-e[o+1];return i+=Math.sqrt(n*n+l*l)},goog.provide("ol.geom.flat.textpath"),goog.require("ol.math"),ol.geom.flat.textpath.lineString=function(e,o,t,r,i,n,l,a,s){var p=s||[],g=e[o]>e[t-r],c=i.length,u=e[o],y=e[o+1];o+=r;for(var h,d,m=e[o],f=e[o+1],_=0,v=Math.sqrt(Math.pow(m-u,2)+Math.pow(f-y,2)),S=0;S<c;++S){h=g?c-S-1:S;for(var x=i[h],P=n(x),E=l+P/2;o<t-r&&_+v<E;)u=m,y=f,o+=r,m=e[o],f=e[o+1],_+=v,v=Math.sqrt(Math.pow(m-u,2)+Math.pow(f-y,2));var T=E-_,R=Math.atan2(f-y,m-u);if(g&&(R+=R>0?-Math.PI:Math.PI),void 0!==d){var L=R-d;if(L+=L>Math.PI?-2*Math.PI:L<-Math.PI?2*Math.PI:0,Math.abs(L)>a)return null}d=R;var M=T/v,C=ol.math.lerp(u,m,M),I=ol.math.lerp(y,f,M);p[h]=[C,I,R],l+=P}return p},goog.provide("ol.render.canvas.Instruction"),ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},goog.provide("ol.render.canvas.Replay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.extent.Relationship"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.textpath"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.obj"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.transform"),ol.render.canvas.Replay=function(e,o,t,r,i){ol.render.VectorContext.call(this),this.tolerance=e,this.maxExtent=o,this.overlaps=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=t,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=ol.transform.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.tmpLocalTransform_=ol.transform.create(),this.resetTransform_=ol.transform.create(),this.chars_=[]},ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext),ol.render.canvas.Replay.prototype.replayImage_=function(e,o,t,r,i,n,l,a,s,p,g,c,u,y){var h=this.tmpLocalTransform_;if(i*=c,n*=c,o-=i,t-=n,u&&(o=Math.round(o),t=Math.round(t)),0!==g){var d=o+i,m=t+n;ol.transform.compose(h,d,m,1,1,g,-d,-m),e.setTransform.apply(e,h)}var f=e.globalAlpha;1!=a&&(e.globalAlpha=f*a);var _=y+s>r.width?r.width-s:y,v=l+p>r.height?r.height-p:l;e.drawImage(r,s,p,_,v,o,t,_*c,v*c),1!=a&&(e.globalAlpha=f),0!==g&&e.setTransform.apply(e,this.resetTransform_)},ol.render.canvas.Replay.prototype.applyPixelRatio=function(e){var o=this.pixelRatio;return 1==o?e:e.map(function(e){return e*o})},ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,o,t,r,i,n){var l=this.coordinates.length,a=this.getBufferedMaxExtent();n&&(o+=r);var s,p,g,c=[e[o],e[o+1]],u=[NaN,NaN],y=!0;for(s=o+r;s<t;s+=r)u[0]=e[s],u[1]=e[s+1],g=ol.extent.coordinateRelationship(a,u),g!==p?(y&&(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1]),this.coordinates[l++]=u[0],this.coordinates[l++]=u[1],y=!1):g===ol.extent.Relationship.INTERSECTING?(this.coordinates[l++]=u[0],this.coordinates[l++]=u[1],y=!1):y=!0,c[0]=u[0],c[1]=u[1],p=g;return(i&&y||s===o+r)&&(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1]),l},ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(e,o,t,r,i){for(var n=0,l=t.length;n<l;++n){var a=t[n],s=this.appendFlatCoordinates(e,o,a,r,!1,!1);i.push(s),o=a}return o},ol.render.canvas.Replay.prototype.drawCustom=function(e,o,t){this.beginGeometry(e,o);var r,i,n,l,a,s=e.getType(),p=e.getStride(),g=this.coordinates.length;if(s==ol.geom.GeometryType.MULTI_POLYGON){e=e,r=e.getOrientedFlatCoordinates(),l=[];var c=e.getEndss();a=0;for(var u=0,y=c.length;u<y;++u){var h=[];a=this.drawCustomCoordinates_(r,a,c[u],p,h),l.push(h)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,g,l,e,t,ol.geom.flat.inflate.coordinatesss])}else s==ol.geom.GeometryType.POLYGON||s==ol.geom.GeometryType.MULTI_LINE_STRING?(n=[],r=s==ol.geom.GeometryType.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),a=this.drawCustomCoordinates_(r,0,e.getEnds(),p,n),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,g,n,e,t,ol.geom.flat.inflate.coordinatess])):s==ol.geom.GeometryType.LINE_STRING||s==ol.geom.GeometryType.MULTI_POINT?(r=e.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,p,!1,!1),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,g,i,e,t,ol.geom.flat.inflate.coordinates])):s==ol.geom.GeometryType.POINT&&(r=e.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([ol.render.canvas.Instruction.CUSTOM,g,i,e,t]));this.endGeometry(e,o)},ol.render.canvas.Replay.prototype.beginGeometry=function(e,o){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,o,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,o,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},ol.render.canvas.Replay.prototype.fill_=function(e,o){if(this.fillOrigin_){var t=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(t[0],t[1]),e.rotate(o)}e.fill(),this.fillOrigin_&&e.setTransform.apply(e,this.resetTransform_)},ol.render.canvas.Replay.prototype.replay_=function(e,o,t,r,i,n,l){var a;this.pixelCoordinates_&&ol.array.equals(o,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),ol.transform.setFromArray(this.renderedTransform_,o));for(var s,p,g,c,u,y,h,d=!ol.obj.isEmpty(r),m=0,f=i.length,_=0,v=0,S=0,x=this.coordinateCache_,P={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:t},E=this.instructions!=i||this.overlaps?0:200;m<f;){var T,R,L,M=i[m],C=M[0];switch(C){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:T=M[1],d&&r[ol.getUid(T).toString()]||!T.getGeometry()?m=M[2]:void 0===l||ol.extent.intersects(l,T.getGeometry().getExtent())?++m:m=M[2]+1;break;case ol.render.canvas.Instruction.BEGIN_PATH:v>E&&(this.fill_(e,t),v=0),S>E&&(e.stroke(),S=0),v||S||(e.beginPath(),c=u=NaN),++m;break;case ol.render.canvas.Instruction.CIRCLE:_=M[1];var I=a[_],A=a[_+1],O=a[_+2],b=a[_+3],w=O-I,N=b-A,F=Math.sqrt(w*w+N*N);e.moveTo(I+F,A),e.arc(I,A,F,0,2*Math.PI,!0),++m;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath(),++m;break;case ol.render.canvas.Instruction.CUSTOM:_=M[1],s=M[2];var G=M[3],D=M[4],q=6==M.length?M[5]:void 0;P.geometry=G,P.feature=T,m in x||(x[m]=[]);var U=x[m];q?q(a,_,s,2,U):(U[0]=a[_],U[1]=a[_+1],U.length=2),D(U,P),++m;break;case ol.render.canvas.Instruction.DRAW_IMAGE:_=M[1],s=M[2];var k=M[3];p=M[4],g=M[5];var j=M[6],W=M[7],V=M[8],B=M[9],K=M[10],X=M[11],Y=M[12],Z=M[13],H=M[14];for(K&&(X+=t);_<s;_+=2)this.replayImage_(e,a[_],a[_+1],k,p,g,j,W,V,B,X,Y,Z,H);++m;break;case ol.render.canvas.Instruction.DRAW_CHARS:var z=M[1],J=M[2],Q=M[3],$=M[4],ee=M[5],oe=M[6],te=M[7],re=M[8],ie=M[9],ne=M[10],le=M[11],ae=ol.geom.flat.length.lineString(a,z,J,2),se=te(ie);if(ee||se<=ae){var pe=(ae-se)*ne,ge=ol.geom.flat.textpath.lineString(a,z,J,2,ie,te,pe,oe,this.chars_),ce=ie.length;if(ge)for(var ue=Q[Q.length-1].height,ye=0,he=Q.length;ye<he;++ye){var de=ge[ye%ce],me=Q[ye];p=me.width/2,g=$*me.height+(.5-$)*(me.height-ue)-re,this.replayImage_(e,de[0],de[1],me,p,g,me.height,1,0,0,de[2],le,!1,me.width)}}++m;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(void 0!==n){T=M[1];var fe=n(T);if(fe)return fe}++m;break;case ol.render.canvas.Instruction.FILL:E?v++:this.fill_(e,t),++m;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:for(_=M[1],s=M[2],R=a[_],L=a[_+1],y=R+.5|0,h=L+.5|0,y===c&&h===u||(e.moveTo(R,L),c=y,u=h),_+=2;_<s;_+=2)R=a[_],L=a[_+1],y=R+.5|0,h=L+.5|0,_!=s-2&&y===c&&h===u||(e.lineTo(R,L),c=y,u=h);++m;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:this.fillOrigin_=M[2],v&&(this.fill_(e,t),v=0,S&&(e.stroke(),S=0)),e.fillStyle=M[1],++m;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:S&&(e.stroke(),S=0),e.strokeStyle=M[1],e.lineWidth=M[2],e.lineCap=M[3],e.lineJoin=M[4],e.miterLimit=M[5],ol.has.CANVAS_LINE_DASH&&(e.lineDashOffset=M[7],e.setLineDash(M[6])),++m;break;case ol.render.canvas.Instruction.STROKE:E?S++:e.stroke(),++m;break;default:++m}}v&&this.fill_(e,t),S&&e.stroke()},ol.render.canvas.Replay.prototype.replay=function(e,o,t,r){var i=this.instructions;this.replay_(e,o,t,r,i,void 0,void 0)},ol.render.canvas.Replay.prototype.replayHitDetection=function(e,o,t,r,i,n){var l=this.hitDetectionInstructions;return this.replay_(e,o,t,r,l,i,n)},ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var o,t,r,i=e.length,n=-1;for(o=0;o<i;++o)t=e[o],r=t[0],r==ol.render.canvas.Instruction.END_GEOMETRY?n=o:r==ol.render.canvas.Instruction.BEGIN_GEOMETRY&&(t[2]=o,ol.array.reverseSubArray(this.hitDetectionInstructions,n,o),n=-1)},ol.render.canvas.Replay.prototype.endGeometry=function(e,o){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[ol.render.canvas.Instruction.END_GEOMETRY,o];this.instructions.push(t),this.hitDetectionInstructions.push(t)},ol.render.canvas.Replay.prototype.finish=ol.nullFunction,ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent},goog.provide("ol.render.canvas.ImageReplay"),goog.require("ol"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.ImageReplay=function(e,o,t,r,i){ol.render.canvas.Replay.call(this,e,o,t,r,i),this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay),ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,o,t,r){return this.appendFlatCoordinates(e,o,t,r,!1,!1)},ol.render.canvas.ImageReplay.prototype.drawPoint=function(e,o){if(this.image_){this.beginGeometry(e,o);var t=e.getFlatCoordinates(),r=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(t,0,t.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,o)}},ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(e,o){if(this.image_){this.beginGeometry(e,o);var t=e.getFlatCoordinates(),r=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(t,0,t.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,o)}},ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e){var o=e.getAnchor(),t=e.getSize(),r=e.getHitDetectionImage(1),i=e.getImage(1),n=e.getOrigin();this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=r,this.image_=i,this.height_=t[1],this.opacity_=e.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.snapToPixel_=e.getSnapToPixel(),this.width_=t[0]},goog.provide("ol.render.canvas.LineStringReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.LineStringReplay=function(e,o,t,r,i){ol.render.canvas.Replay.call(this,e,o,t,r,i),this.bufferedMaxExtent_=null,this.state_={currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,lastStroke:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay),ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,o,t,r){var i=this.coordinates.length,n=this.appendFlatCoordinates(e,o,t,r,!1,!1),l=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,i,n];return this.instructions.push(l),this.hitDetectionInstructions.push(l),t},ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var e=this.state_,o=e.strokeStyle,t=e.lineCap,r=e.lineDash,i=e.lineDashOffset,n=e.lineJoin,l=e.lineWidth,a=e.miterLimit;e.currentStrokeStyle==o&&e.currentLineCap==t&&ol.array.equals(e.currentLineDash,r)&&e.currentLineDashOffset==i&&e.currentLineJoin==n&&e.currentLineWidth==l&&e.currentMiterLimit==a||(void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push([ol.render.canvas.Instruction.STROKE]),e.lastStroke=this.coordinates.length),e.lastStroke=0,this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o,l*this.pixelRatio,t,n,a,this.applyPixelRatio(r),i*this.pixelRatio],[ol.render.canvas.Instruction.BEGIN_PATH]),e.currentStrokeStyle=o,e.currentLineCap=t,e.currentLineDash=r,e.currentLineDashOffset=i,e.currentLineJoin=n,e.currentLineWidth=l,e.currentMiterLimit=a)},ol.render.canvas.LineStringReplay.prototype.drawLineString=function(e,o){var t=this.state_,r=t.strokeStyle,i=t.lineWidth;if(void 0!==r&&void 0!==i){this.setStrokeStyle_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash,t.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(n,0,n.length,l),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,o)}},ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(e,o){var t=this.state_,r=t.strokeStyle,i=t.lineWidth;if(void 0!==r&&void 0!==i){this.setStrokeStyle_(),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash,t.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var n,l,a=e.getEnds(),s=e.getFlatCoordinates(),p=e.getStride(),g=0;for(n=0,l=a.length;n<l;++n)g=this.drawFlatCoordinates_(s,g,a[n],p);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,o)}},ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state_;void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push([ol.render.canvas.Instruction.STROKE]),this.reverseHitDetectionInstructions(),this.state_=null},ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(e,o){var t=o.getColor();this.state_.strokeStyle=ol.colorlike.asColorLike(t||ol.render.canvas.defaultStrokeStyle);var r=o.getLineCap();this.state_.lineCap=void 0!==r?r:ol.render.canvas.defaultLineCap;var i=o.getLineDash();this.state_.lineDash=i||ol.render.canvas.defaultLineDash;var n=o.getLineDashOffset();this.state_.lineDashOffset=n||ol.render.canvas.defaultLineDashOffset;var l=o.getLineJoin();this.state_.lineJoin=void 0!==l?l:ol.render.canvas.defaultLineJoin;var a=o.getWidth();this.state_.lineWidth=void 0!==a?a:ol.render.canvas.defaultLineWidth;var s=o.getMiterLimit();this.state_.miterLimit=void 0!==s?s:ol.render.canvas.defaultMiterLimit,this.state_.lineWidth>this.maxLineWidth&&(this.maxLineWidth=this.state_.lineWidth,this.bufferedMaxExtent_=null)},goog.provide("ol.render.canvas.PolygonReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.geom.flat.simplify"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.PolygonReplay=function(e,o,t,r,i){ol.render.canvas.Replay.call(this,e,o,t,r,i),this.bufferedMaxExtent_=null,this.state_={currentFillStyle:void 0,currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay),ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,o,t,r){var i=this.state_,n=void 0!==i.fillStyle,l=void 0!=i.strokeStyle,a=t.length,s=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(s),this.hitDetectionInstructions.push(s);for(var p=0;p<a;++p){var g=t[p],c=this.coordinates.length,u=this.appendFlatCoordinates(e,o,g,r,!0,!l),y=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,c,u];if(this.instructions.push(y),this.hitDetectionInstructions.push(y),l){var h=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(h),this.hitDetectionInstructions.push(h)}o=g}var d=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(d),n&&this.instructions.push(d),l){var m=[ol.render.canvas.Instruction.STROKE];this.instructions.push(m),this.hitDetectionInstructions.push(m)}return o},ol.render.canvas.PolygonReplay.prototype.drawCircle=function(e,o){var t=this.state_,r=t.fillStyle,i=t.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(e),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==t.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash,t.lineDashOffset]);var n=e.getFlatCoordinates(),l=e.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,l,!1,!1);var s=[ol.render.canvas.Instruction.BEGIN_PATH],p=[ol.render.canvas.Instruction.CIRCLE,a];this.instructions.push(s,p),this.hitDetectionInstructions.push(s,p);var g=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(g),void 0!==t.fillStyle&&this.instructions.push(g),void 0!==t.strokeStyle){var c=[ol.render.canvas.Instruction.STROKE];this.instructions.push(c),this.hitDetectionInstructions.push(c)}this.endGeometry(e,o)}},ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(e,o){var t=this.state_;this.setFillStrokeStyles_(e),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==t.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash,t.lineDashOffset]);var r=e.getEnds(),i=e.getOrientedFlatCoordinates(),n=e.getStride();this.drawFlatCoordinatess_(i,0,r,n),this.endGeometry(e,o)},ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(e,o){var t=this.state_,r=t.fillStyle,i=t.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(e),this.beginGeometry(e,o),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==t.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash,t.lineDashOffset]);var n,l,a=e.getEndss(),s=e.getOrientedFlatCoordinates(),p=e.getStride(),g=0;for(n=0,l=a.length;n<l;++n)g=this.drawFlatCoordinatess_(s,g,a[n],p);this.endGeometry(e,o)}},ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state_=null;var e=this.tolerance;if(0!==e){var o,t,r=this.coordinates;for(o=0,t=r.length;o<t;++o)r[o]=ol.geom.flat.simplify.snap(r[o],e)}},ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(e,o){var t=this.state_;if(e){var r=e.getColor();t.fillStyle=ol.colorlike.asColorLike(r||ol.render.canvas.defaultFillStyle)}else t.fillStyle=void 0;if(o){var i=o.getColor();t.strokeStyle=ol.colorlike.asColorLike(i||ol.render.canvas.defaultStrokeStyle);var n=o.getLineCap();t.lineCap=void 0!==n?n:ol.render.canvas.defaultLineCap;var l=o.getLineDash();t.lineDash=l?l.slice():ol.render.canvas.defaultLineDash;var a=o.getLineDashOffset();t.lineDashOffset=a||ol.render.canvas.defaultLineDashOffset;var s=o.getLineJoin();t.lineJoin=void 0!==s?s:ol.render.canvas.defaultLineJoin;var p=o.getWidth();t.lineWidth=void 0!==p?p:ol.render.canvas.defaultLineWidth;var g=o.getMiterLimit();t.miterLimit=void 0!==g?g:ol.render.canvas.defaultMiterLimit,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(e){var o=this.state_,t=o.fillStyle,r=o.strokeStyle,i=o.lineCap,n=o.lineDash,l=o.lineDashOffset,a=o.lineJoin,s=o.lineWidth,p=o.miterLimit;if(void 0!==t&&("string"!=typeof t||o.currentFillStyle!=t)){var g=[ol.render.canvas.Instruction.SET_FILL_STYLE,t];if("string"!=typeof t){var c=e.getExtent();g.push([c[0],c[3]])}this.instructions.push(g),o.currentFillStyle=o.fillStyle}void 0!==r&&(o.currentStrokeStyle==r&&o.currentLineCap==i&&ol.array.equals(o.currentLineDash,n)&&o.currentLineDashOffset==l&&o.currentLineJoin==a&&o.currentLineWidth==s&&o.currentMiterLimit==p||(this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r,s*this.pixelRatio,i,a,p,this.applyPixelRatio(n),l*this.pixelRatio]),o.currentStrokeStyle=r,o.currentLineCap=i,o.currentLineDash=n,o.currentLineDashOffset=l,o.currentLineJoin=a,o.currentLineWidth=s,o.currentMiterLimit=p))},goog.provide("ol.geom.flat.straightchunk"),ol.geom.flat.straightchunk.lineString=function(e,o,t,r,i){var n,l,a,s,p,g,c,u,y,h=t,d=t,m=0,f=0,_=t;for(n=t;n<r;n+=i){
var v=o[n],S=o[n+1];void 0!==s&&(u=v-s,y=S-p,a=Math.sqrt(u*u+y*y),void 0!==g&&(f+=l,Math.acos((g*u+c*y)/(l*a))>e&&(f>m&&(m=f,h=_,d=n),f=0,_=n-i)),l=a,g=u,c=y),s=v,p=S}return f+=a,f>m?[_,n]:[h,d]},goog.provide("ol.render.ReplayType"),ol.render.ReplayType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},goog.provide("ol.render.replay"),goog.require("ol.render.ReplayType"),ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],ol.render.replay.TEXT_ALIGN={},ol.render.replay.TEXT_ALIGN.left=0,ol.render.replay.TEXT_ALIGN.end=0,ol.render.replay.TEXT_ALIGN.center=.5,ol.render.replay.TEXT_ALIGN.right=1,ol.render.replay.TEXT_ALIGN.start=1,ol.render.replay.TEXT_ALIGN.top=0,ol.render.replay.TEXT_ALIGN.middle=.5,ol.render.replay.TEXT_ALIGN.hanging=.2,ol.render.replay.TEXT_ALIGN.alphabetic=.8,ol.render.replay.TEXT_ALIGN.ideographic=.8,ol.render.replay.TEXT_ALIGN.bottom=1,goog.provide("ol.structs.LRUCache"),goog.require("ol.asserts"),ol.structs.LRUCache=function(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},ol.structs.LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},ol.structs.LRUCache.prototype.forEach=function(e,o){for(var t=this.oldest_;t;)e.call(o,t.value_,t.key_,this),t=t.newer},ol.structs.LRUCache.prototype.get=function(e){var o=this.entries_[e];return ol.asserts.assert(void 0!==o,15),o===this.newest_?o.value_:(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o,o.value_)},ol.structs.LRUCache.prototype.remove=function(e){var o=this.entries_[e];return ol.asserts.assert(void 0!==o,15),o===this.newest_?(this.newest_=o.older,this.newest_&&(this.newest_.newer=null)):o===this.oldest_?(this.oldest_=o.newer,this.oldest_&&(this.oldest_.older=null)):(o.newer.older=o.older,o.older.newer=o.newer),delete this.entries_[e],--this.count_,o.value_},ol.structs.LRUCache.prototype.getCount=function(){return this.count_},ol.structs.LRUCache.prototype.getKeys=function(){var e,o=new Array(this.count_),t=0;for(e=this.newest_;e;e=e.older)o[t++]=e.key_;return o},ol.structs.LRUCache.prototype.getValues=function(){var e,o=new Array(this.count_),t=0;for(e=this.newest_;e;e=e.older)o[t++]=e.value_;return o},ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_},ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_},ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_},ol.structs.LRUCache.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},ol.structs.LRUCache.prototype.replace=function(e,o){this.get(e),this.entries_[e].value_=o},ol.structs.LRUCache.prototype.set=function(e,o){ol.asserts.assert(!(e in this.entries_),16);var t={key_:e,newer:null,older:this.newest_,value_:o};this.newest_?this.newest_.newer=t:this.oldest_=t,this.newest_=t,this.entries_[e]=t,++this.count_},goog.provide("ol.style.TextPlacement"),ol.style.TextPlacement={POINT:"point",LINE:"line"},goog.provide("ol.render.canvas.TextReplay"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.geom.flat.straightchunk"),goog.require("ol.geom.GeometryType"),goog.require("ol.has");goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),goog.require("ol.render.replay"),goog.require("ol.structs.LRUCache"),goog.require("ol.style.TextPlacement"),ol.render.canvas.TextReplay=function(e,o,t,r,i){for(ol.render.canvas.Replay.call(this,e,o,t,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.textKey_="",this.fillKey_="",this.strokeKey_="";ol.render.canvas.TextReplay.labelCache_.canExpireCache();)ol.render.canvas.TextReplay.labelCache_.pop()},ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay),ol.render.canvas.TextReplay.labelCache_=new ol.structs.LRUCache,ol.render.canvas.TextReplay.measureTextHeight=function(){var e;return function(o,t,r){e||(e=document.createElement("span"),e.textContent="M",e.style.visibility="hidden",e.style.whiteSpace="nowrap"),e.style.font=o,document.body.appendChild(e);var i=e.offsetHeight;return document.body.removeChild(e),i}}(),ol.render.canvas.TextReplay.getTextWidth=function(e,o,t){var r=this[t];return r||(this[t]=r=e.measureText(t).width),r*o},ol.render.canvas.TextReplay.measureTextWidths=function(){var e;return function(o,t,r){e||(e=ol.dom.createCanvasContext2D(1,1)),e.font=o;var i,n,l=t.length,a=0;for(n=0;n<l;++n)i=e.measureText(t[n]).width,a=Math.max(a,i),r.push(i);return a}}(),ol.render.canvas.TextReplay.prototype.drawText=function(e,o){var t=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(t||r)){var n,l,a=this.coordinates.length,s=e.getType(),p=null,g=2,c=2;if(this.textState_.placement===ol.style.TextPlacement.LINE){var u;if(p=e.getFlatCoordinates(),c=e.getStride(),s==ol.geom.GeometryType.LINE_STRING)u=[p.length];else if(s==ol.geom.GeometryType.MULTI_LINE_STRING)u=e.getEnds();else if(s==ol.geom.GeometryType.POLYGON)u=e.getEnds().slice(0,1);else if(s==ol.geom.GeometryType.MULTI_POLYGON){var y=e.getEndss();for(u=[],n=0,l=y.length;n<l;++n)u.push(y[n][0])}this.beginGeometry(e,o);for(var h,d=i.textAlign,m=0,f=0,_=u.length;f<_;++f){if(void 0==d){var v=ol.geom.flat.straightchunk.lineString(i.maxAngle,p,m,u[f],c);m=v[0],h=v[1]}else h=u[f];g=this.appendFlatCoordinates(p,m,h,c,!1,!1),m=u[f],this.drawChars_(a,g),a=g}this.endGeometry(e,o)}else{var S=this.getImage_(this.text_,!!this.textFillState_,!!this.textStrokeState_),x=S.width/this.pixelRatio;switch(s){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:p=e.getFlatCoordinates(),g=p.length;break;case ol.geom.GeometryType.LINE_STRING:p=e.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:p=e.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:p=e.getFlatMidpoints(),g=p.length;break;case ol.geom.GeometryType.POLYGON:if(p=e.getFlatInteriorPoint(),!i.exceedLength&&p[2]/this.resolution<x)return;c=3;break;case ol.geom.GeometryType.MULTI_POLYGON:var P=e.getFlatInteriorPoints();for(p=[],n=0,l=P.length;n<l;n+=3)(i.exceedLength||P[n+2]/this.resolution>=x)&&p.push(P[n],P[n+1]);if(0==(g=p.length))return}g=this.appendFlatCoordinates(p,0,g,c,!1,!1),this.beginGeometry(e,o),this.drawTextImage_(S,a,g),this.endGeometry(e,o)}}},ol.render.canvas.TextReplay.prototype.getImage_=function(e,o,t){var r,i=(t?this.strokeKey_:"")+this.textKey_+e+(o?this.fillKey_:""),n=e.split("\n"),l=n.length;if(!ol.render.canvas.TextReplay.labelCache_.containsKey(i)){var a=this.textStrokeState_,s=this.textFillState_,p=this.textState_,g=this.pixelRatio,c=this.textScale_*g,u=ol.render.replay.TEXT_ALIGN[p.textAlign||ol.render.canvas.defaultTextAlign],y=t&&a.lineWidth?a.lineWidth:0,h=[],d=ol.render.canvas.TextReplay.measureTextWidths(p.font,n,h),m=ol.render.canvas.TextReplay.measureTextHeight(p.font),f=m*l,_=d+y,v=ol.dom.createCanvasContext2D(Math.ceil(_*c),Math.ceil((f+y)*c));r=v.canvas,ol.render.canvas.TextReplay.labelCache_.set(i,r),v.scale(c,c),v.font=p.font,t&&(v.strokeStyle=a.strokeStyle,v.lineWidth=y*(ol.has.SAFARI?c:1),v.lineCap=a.lineCap,v.lineJoin=a.lineJoin,v.miterLimit=a.miterLimit,ol.has.CANVAS_LINE_DASH&&(v.setLineDash(a.lineDash),v.lineDashOffset=a.lineDashOffset)),o&&(v.fillStyle=s.fillStyle),v.textBaseline="top",v.textAlign="center";var S,x=.5-u,P=u*r.width/c+x*y;if(t)for(S=0;S<l;++S)v.strokeText(n[S],P+x*h[S],.5*y+S*m);if(o)for(S=0;S<l;++S)v.fillText(n[S],P+x*h[S],.5*y+S*m)}return ol.render.canvas.TextReplay.labelCache_.get(i)},ol.render.canvas.TextReplay.prototype.drawTextImage_=function(e,o,t){var r=this.textState_,i=this.textStrokeState_,n=this.pixelRatio,l=ol.render.replay.TEXT_ALIGN[r.textAlign||ol.render.canvas.defaultTextAlign],a=ol.render.replay.TEXT_ALIGN[r.textBaseline],s=i&&i.lineWidth?i.lineWidth:0,p=l*e.width/n+2*(.5-l)*s,g=a*e.height/n+2*(.5-a)*s;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,o,t,e,(p-this.textOffsetX_)*n,(g-this.textOffsetY_)*n,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,e.width]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,o,t,e,(p-this.textOffsetX_)*n,(g-this.textOffsetY_)*n,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/n,!0,e.width])},ol.render.canvas.TextReplay.prototype.drawChars_=function(e,o){var t,r=this.pixelRatio,i=this.textStrokeState_,n=!!this.textFillState_,l=!!i,a=this.textState_,s=ol.render.replay.TEXT_ALIGN[a.textBaseline],p=[],g=this.text_,c=this.text_.length;if(l)for(t=0;t<c;++t)p.push(this.getImage_(g.charAt(t),!1,l));if(n)for(t=0;t<c;++t)p.push(this.getImage_(g.charAt(t),n,!1));var u=p[0].getContext("2d"),y=this.textOffsetY_*r,h=ol.render.replay.TEXT_ALIGN[a.textAlign||ol.render.canvas.defaultTextAlign],d={};this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,o,p,s,a.exceedLength,a.maxAngle,ol.render.canvas.TextReplay.getTextWidth.bind(d,u,r*this.textScale_),y,this.text_,h,1]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,o,p,s,a.exceedLength,a.maxAngle,ol.render.canvas.TextReplay.getTextWidth.bind(d,u,this.textScale_),y,this.text_,h,1/r])},ol.render.canvas.TextReplay.prototype.setTextStyle=function(e){var o,t,r;if(e){var i=e.getFill();if(i){var n=i.getColor(),l=ol.colorlike.asColorLike(n||ol.render.canvas.defaultFillStyle);t=this.textFillState_,t||(t=this.textFillState_={}),t.fillStyle=l}else t=this.textFillState_=null;var a=e.getStroke();if(a){var s=a.getColor(),p=a.getLineCap(),g=a.getLineDash(),c=a.getLineDashOffset(),u=a.getLineJoin(),y=a.getWidth(),h=a.getMiterLimit(),d=void 0!==p?p:ol.render.canvas.defaultLineCap,m=g?g.slice():ol.render.canvas.defaultLineDash,f=void 0!==c?c:ol.render.canvas.defaultLineDashOffset,_=void 0!==u?u:ol.render.canvas.defaultLineJoin,v=void 0!==y?y:ol.render.canvas.defaultLineWidth,S=void 0!==h?h:ol.render.canvas.defaultMiterLimit,x=ol.colorlike.asColorLike(s||ol.render.canvas.defaultStrokeStyle);r=this.textStrokeState_,r||(r=this.textStrokeState_={}),r.lineCap=d,r.lineDash=m,r.lineDashOffset=f,r.lineJoin=_,r.lineWidth=v,r.miterLimit=S,r.strokeStyle=x}else r=this.textStrokeState_=null;var P=e.getFont(),E=e.getOffsetX(),T=e.getOffsetY(),R=e.getRotateWithView(),L=e.getRotation(),M=e.getScale(),C=e.getText(),I=e.getTextAlign(),A=e.getTextBaseline(),O=void 0!==P?P:ol.render.canvas.defaultFont,b=I,w=void 0!==A?A:ol.render.canvas.defaultTextBaseline;o=this.textState_,o||(o=this.textState_={}),o.exceedLength=e.getExceedLength(),o.font=O,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=b,o.textBaseline=w,this.text_=void 0!==C?C:"",this.textOffsetX_=void 0!==E?E:0,this.textOffsetY_=void 0!==T?T:0,this.textRotateWithView_=void 0!==R&&R,this.textRotation_=void 0!==L?L:0,this.textScale_=void 0!==M?M:1,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:ol.getUid(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=o.font+(o.textAlign||"?")+this.textScale_,this.fillKey_=t?"string"==typeof t.fillStyle?t.fillStyle:"|"+ol.getUid(t.fillStyle):""}else this.text_=""},goog.provide("ol.render.canvas.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.canvas.Replay"),goog.require("ol.render.canvas.ImageReplay"),goog.require("ol.render.canvas.LineStringReplay"),goog.require("ol.render.canvas.PolygonReplay"),goog.require("ol.render.canvas.TextReplay"),goog.require("ol.render.replay"),goog.require("ol.transform"),ol.render.canvas.ReplayGroup=function(e,o,t,r,i,n){ol.render.ReplayGroup.call(this),this.tolerance_=e,this.maxExtent_=o,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=n,this.replaysByZIndex_={},this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1),this.hitDetectionTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup),ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]},ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(e,o,t){var r,i=Math.floor(e.length/2);if(o>=i)for(r=i;r<o;r++)e[r][t]=!0;else if(o<i)for(r=o+1;r<i;r++)e[r][t]=!0},ol.render.canvas.ReplayGroup.getCircleArray_=function(e){if(void 0!==ol.render.canvas.ReplayGroup.circleArrayCache_[e])return ol.render.canvas.ReplayGroup.circleArrayCache_[e];for(var o=2*e+1,t=new Array(o),r=0;r<o;r++)t[r]=new Array(o);for(var i=e,n=0,l=0;i>=n;)ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e+i,e+n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e+n,e+i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e-n,e+i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e-i,e+n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e-i,e-n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e-n,e-i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e+n,e-i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(t,e+i,e-n),n++,2*((l+=1+2*n)-i)+1>0&&(i-=1,l+=1-2*i);return ol.render.canvas.ReplayGroup.circleArrayCache_[e]=t,t},ol.render.canvas.ReplayGroup.prototype.hasReplays=function(e){for(var o in this.replaysByZIndex_)for(var t=this.replaysByZIndex_[o],r=0,i=e.length;r<i;++r)if(e[r]in t)return!0;return!1},ol.render.canvas.ReplayGroup.prototype.finish=function(){var e;for(e in this.replaysByZIndex_){var o,t=this.replaysByZIndex_[e];for(o in t)t[o].finish()}},ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i,n){r=Math.round(r);var l=2*r+1,a=ol.transform.compose(this.hitDetectionTransform_,r+.5,r+.5,1/o,-1/o,-t,-e[0],-e[1]),s=this.hitDetectionContext_;s.canvas.width!==l||s.canvas.height!==l?(s.canvas.width=l,s.canvas.height=l):s.clearRect(0,0,l,l);var p;void 0!==this.renderBuffer_&&(p=ol.extent.createEmpty(),ol.extent.extendCoordinate(p,e),ol.extent.buffer(p,o*(this.renderBuffer_+r),p));var g=ol.render.canvas.ReplayGroup.getCircleArray_(r);return this.replayHitDetection_(s,a,t,i,function(e){for(var o=s.getImageData(0,0,l,l).data,t=0;t<l;t++)for(var r=0;r<l;r++)if(g[t][r]&&o[4*(r*l+t)+3]>0){var i=n(e);return i||void s.clearRect(0,0,l,l)}},p)},ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(e){var o=this.maxExtent_,t=o[0],r=o[1],i=o[2],n=o[3],l=[t,r,t,n,i,n,i,r];return ol.geom.flat.transform.transform2D(l,0,8,2,e,l),l},ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,o){var t=void 0!==e?e.toString():"0",r=this.replaysByZIndex_[t];void 0===r&&(r={},this.replaysByZIndex_[t]=r);var i=r[o];if(void 0===i){i=new(0,ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[o])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_),r[o]=i}return i},ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.canvas.ReplayGroup.prototype.replay=function(e,o,t,r,i){var n=Object.keys(this.replaysByZIndex_).map(Number);n.sort(ol.array.numberSafeCompareFunction);var l=this.getClipCoords(o);e.save(),e.beginPath(),e.moveTo(l[0],l[1]),e.lineTo(l[2],l[3]),e.lineTo(l[4],l[5]),e.lineTo(l[6],l[7]),e.clip();var a,s,p,g,c,u,y=i||ol.render.replay.ORDER;for(a=0,s=n.length;a<s;++a)for(c=this.replaysByZIndex_[n[a].toString()],p=0,g=y.length;p<g;++p)void 0!==(u=c[y[p]])&&u.replay(e,o,t,r);e.restore()},ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,o,t,r,i,n){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(function(e,o){return o-e});var a,s,p,g,c,u;for(a=0,s=l.length;a<s;++a)for(g=this.replaysByZIndex_[l[a].toString()],p=ol.render.replay.ORDER.length-1;p>=0;--p)if(void 0!==(c=g[ol.render.replay.ORDER[p]])&&(u=c.replayHitDetection(e,o,t,r,i,n)))return u},ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Default:ol.render.canvas.Replay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay},goog.provide("ol.renderer.vector"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.geom.GeometryType"),goog.require("ol.render.ReplayType"),ol.renderer.vector.defaultOrder=function(e,o){return ol.getUid(e)-ol.getUid(o)},ol.renderer.vector.getSquaredTolerance=function(e,o){var t=ol.renderer.vector.getTolerance(e,o);return t*t},ol.renderer.vector.getTolerance=function(e,o){return ol.SIMPLIFY_TOLERANCE*e/o},ol.renderer.vector.renderCircleGeometry_=function(e,o,t,r){var i=t.getFill(),n=t.getStroke();if(i||n){var l=e.getReplay(t.getZIndex(),ol.render.ReplayType.CIRCLE);l.setFillStrokeStyle(i,n),l.drawCircle(o,r)}var a=t.getText();if(a){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a),s.drawText(o,r)}},ol.renderer.vector.renderFeature=function(e,o,t,r,i,n){var l,a,s=!1;return l=t.getImage(),l&&(a=l.getImageState(),a==ol.ImageState.LOADED||a==ol.ImageState.ERROR?l.unlistenImageChange(i,n):(a==ol.ImageState.IDLE&&l.load(),a=l.getImageState(),l.listenImageChange(i,n),s=!0)),ol.renderer.vector.renderFeature_(e,o,t,r),s},ol.renderer.vector.renderFeature_=function(e,o,t,r){var i=t.getGeometryFunction()(o);if(i){var n=i.getSimplifiedGeometry(r);if(t.getRenderer())ol.renderer.vector.renderGeometry_(e,n,t,o);else{(0,ol.renderer.vector.GEOMETRY_RENDERERS_[n.getType()])(e,n,t,o)}}},ol.renderer.vector.renderGeometry_=function(e,o,t,r){if(o.getType()!=ol.geom.GeometryType.GEOMETRY_COLLECTION){e.getReplay(t.getZIndex(),ol.render.ReplayType.DEFAULT).drawCustom(o,r,t.getRenderer())}else for(var i=o.getGeometries(),n=0,l=i.length;n<l;++n)ol.renderer.vector.renderGeometry_(e,i[n],t,r)},ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,o,t,r){var i,n,l=o.getGeometriesArray();for(i=0,n=l.length;i<n;++i){(0,ol.renderer.vector.GEOMETRY_RENDERERS_[l[i].getType()])(e,l[i],t,r)}},ol.renderer.vector.renderLineStringGeometry_=function(e,o,t,r){var i=t.getStroke();if(i){var n=e.getReplay(t.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i),n.drawLineString(o,r)}var l=t.getText();if(l){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l),a.drawText(o,r)}},ol.renderer.vector.renderMultiLineStringGeometry_=function(e,o,t,r){var i=t.getStroke();if(i){var n=e.getReplay(t.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i),n.drawMultiLineString(o,r)}var l=t.getText();if(l){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l),a.drawText(o,r)}},ol.renderer.vector.renderMultiPolygonGeometry_=function(e,o,t,r){var i=t.getFill(),n=t.getStroke();if(n||i){var l=e.getReplay(t.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(i,n),l.drawMultiPolygon(o,r)}var a=t.getText();if(a){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a),s.drawText(o,r)}},ol.renderer.vector.renderPointGeometry_=function(e,o,t,r){var i=t.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED)return;var n=e.getReplay(t.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i),n.drawPoint(o,r)}var l=t.getText();if(l){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l),a.drawText(o,r)}},ol.renderer.vector.renderMultiPointGeometry_=function(e,o,t,r){var i=t.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED)return;var n=e.getReplay(t.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i),n.drawMultiPoint(o,r)}var l=t.getText();if(l){var a=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l),a.drawText(o,r)}},ol.renderer.vector.renderPolygonGeometry_=function(e,o,t,r){var i=t.getFill(),n=t.getStroke();if(i||n){var l=e.getReplay(t.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(i,n),l.drawPolygon(o,r)}var a=t.getText();if(a){var s=e.getReplay(t.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a),s.drawText(o,r)}},ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_},goog.provide("ol.renderer.canvas.VectorLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.renderer.vector"),ol.renderer.canvas.VectorLayer=function(e){ol.renderer.canvas.Layer.call(this,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.context_=ol.dom.createCanvasContext2D()},ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.VectorLayer.handles=function(e,o){return e===ol.renderer.Type.CANVAS&&o.getType()===ol.LayerType.VECTOR},ol.renderer.canvas.VectorLayer.create=function(e,o){return new ol.renderer.canvas.VectorLayer(o)},ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,o,t){var r=e.extent,i=e.pixelRatio,n=o.managed?e.skippedFeatureUids:{},l=e.viewState,a=l.projection,s=l.rotation,p=a.getExtent(),g=this.getLayer().getSource(),c=this.getTransform(e,0);this.preCompose(t,e,c);var u=o.extent,y=void 0!==u;y&&this.clip(t,e,u);var h=this.replayGroup_;if(h&&!h.isEmpty()){var d,m=this.getLayer(),f=0,_=0,v=1!==o.opacity,S=m.hasListener(ol.render.EventType.RENDER);if(v||S){var x=t.canvas.width,P=t.canvas.height;if(s){var E=Math.round(Math.sqrt(x*x+P*P));f=(E-x)/2,_=(E-P)/2,x=P=E}this.context_.canvas.width=x,this.context_.canvas.height=P,d=this.context_}else d=t;var T=d.globalAlpha;v||(d.globalAlpha=o.opacity),d!=t&&d.translate(f,_);var R=e.size[0]*i,L=e.size[1]*i;if(ol.render.canvas.rotateAtOffset(d,-s,R/2,L/2),h.replay(d,c,s,n),g.getWrapX()&&a.canWrapX()&&!ol.extent.containsExtent(p,r)){for(var M,C=r[0],I=ol.extent.getWidth(p),A=0;C<p[0];)--A,M=I*A,c=this.getTransform(e,M),h.replay(d,c,s,n),C+=I;for(A=0,C=r[2];C>p[2];)++A,M=I*A,c=this.getTransform(e,M),h.replay(d,c,s,n),C-=I;c=this.getTransform(e,0)}if(ol.render.canvas.rotateAtOffset(d,s,R/2,L/2),d!=t){if(S&&this.dispatchRenderEvent(d,e,c),v){var O=t.globalAlpha;t.globalAlpha=o.opacity,t.drawImage(d.canvas,-f,-_),t.globalAlpha=O}else t.drawImage(d.canvas,-f,-_);d.translate(-f,-_)}v||(d.globalAlpha=T)}y&&t.restore(),this.postCompose(t,e,o,c)},ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i){if(this.replayGroup_){var n=o.viewState.resolution,l=o.viewState.rotation,a=this.getLayer(),s={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,l,t,{},function(e){var o=ol.getUid(e).toString();if(!(o in s))return s[o]=!0,r.call(i,e,a)})}},ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e,o){var t=this.getLayer(),r=t.getSource();this.updateAttributions(e.attributions,r.getAttributions()),this.updateLogos(e,r);var i=e.viewHints[ol.ViewHint.ANIMATING],n=e.viewHints[ol.ViewHint.INTERACTING],l=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(!this.dirty_&&!l&&i||!a&&n)return!0;var s=e.extent,p=e.viewState,g=p.projection,c=p.resolution,u=e.pixelRatio,y=t.getRevision(),h=t.getRenderBuffer(),d=t.getRenderOrder();void 0===d&&(d=ol.renderer.vector.defaultOrder);var m=ol.extent.buffer(s,h*c),f=p.projection.getExtent();if(r.getWrapX()&&p.projection.canWrapX()&&!ol.extent.containsExtent(f,e.extent)){var _=ol.extent.getWidth(f),v=Math.max(ol.extent.getWidth(m)/2,_);m[0]=f[0]-v,m[2]=f[2]+v}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==y&&this.renderedRenderOrder_==d&&ol.extent.containsExtent(this.renderedExtent_,m))return!0;this.replayGroup_=null,this.dirty_=!1;var S=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(c,u),m,c,u,r.getOverlaps(),t.getRenderBuffer());r.loadFeatures(m,c,g);var x=function(e){var o,r=e.getStyleFunction();if(r?o=r.call(e,c):(r=t.getStyleFunction())&&(o=r(e,c)),o){var i=this.renderFeature(e,c,u,o,S);this.dirty_=this.dirty_||i}}.bind(this);if(d){var P=[];r.forEachFeatureInExtent(m,function(e){P.push(e)},this),P.sort(d);for(var E=0,T=P.length;E<T;++E)x(P[E])}else r.forEachFeatureInExtent(m,x,this);return S.finish(),this.renderedResolution_=c,this.renderedRevision_=y,this.renderedRenderOrder_=d,this.renderedExtent_=m,this.replayGroup_=S,!0},ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,o,t,r,i){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var l=0,a=r.length;l<a;++l)n=ol.renderer.vector.renderFeature(i,e,r[l],ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||n;else n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||n;return n},goog.provide("ol.layer.VectorTileRenderType"),ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},goog.provide("ol.renderer.canvas.VectorTileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.render.ReplayType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.render.replay"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.vector"),goog.require("ol.transform"),ol.renderer.canvas.VectorTileLayer=function(e){this.context=null,ol.renderer.canvas.TileLayer.call(this,e),this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=ol.transform.create(),this.zDirection=e.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0},ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer),ol.renderer.canvas.VectorTileLayer.handles=function(e,o){return e===ol.renderer.Type.CANVAS&&o.getType()===ol.LayerType.VECTOR_TILE},ol.renderer.canvas.VectorTileLayer.create=function(e,o){return new ol.renderer.canvas.VectorTileLayer(o)},ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]},ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={image:[ol.render.ReplayType.DEFAULT],hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],vector:ol.render.replay.ORDER},ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(e,o){var t=this.getLayer(),r=t.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=t.getRenderMode();this.context||i==ol.layer.VectorTileRenderType.VECTOR||(this.context=ol.dom.createCanvasContext2D()),this.context&&i==ol.layer.VectorTileRenderType.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=r,ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(e,o){var t=this.getLayer(),r=o.pixelRatio,i=o.viewState.projection,n=t.getRevision(),l=t.getRenderOrder()||null,a=e.getReplayState(t);if(a.dirty||a.renderedRevision!=n||a.renderedRenderOrder!=l){for(var s=t.getSource(),p=s.getTileGrid(),g=s.getTileGridForProjection(i),c=g.getResolution(e.tileCoord[0]),u=g.getTileCoordExtent(e.wrappedTileCoord),y=0,h=e.tileKeys.length;y<h;++y){var d=e.getTile(e.tileKeys[y]);if(d.getState()!=ol.TileState.ERROR){var m=d.tileCoord,f=p.getTileCoordExtent(m),_=ol.extent.getIntersection(u,f),v=d.getProjection(),S=!1;ol.proj.equivalent(i,v)||(S=!0,d.setProjection(i)),a.dirty=!1;var x=new ol.render.canvas.ReplayGroup(0,_,c,r,s.getOverlaps(),t.getRenderBuffer()),P=ol.renderer.vector.getSquaredTolerance(c,r),E=function(e){var o,r=e.getStyleFunction();if(r?o=r.call(e,c):(r=t.getStyleFunction())&&(o=r(e,c)),o){var i=this.renderFeature(e,P,o,x);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},T=d.getFeatures();l&&l!==a.renderedRenderOrder&&T.sort(l);for(var R,L=0,M=T.length;L<M;++L)R=T[L],S&&(v.getUnits()==ol.proj.Units.TILE_PIXELS&&(v.setWorldExtent(f),v.setExtent(d.getExtent())),R.getGeometry().transform(v,i)),E.call(this,R);x.finish(),d.setReplayGroup(t,e.tileCoord.toString(),x)}}a.renderedRevision=n,a.renderedRenderOrder=l}},ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(e,o,t,r,i,n,l,a,s){var p=e;this.createReplayGroup_(p,o),this.context&&(this.renderTileImage_(p,o,t),ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments))},ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i){var n=o.viewState.resolution,l=o.viewState.rotation;t=void 0==t?0:t;var a,s,p,g,c,u,y,h,d=this.getLayer(),m={},f=this.renderedTiles,_=d.getSource(),v=_.getTileGridForProjection(o.viewState.projection);for(p=0,g=f.length;p<g;++p)if(u=f[p],y=u.tileCoord,h=v.getTileCoordExtent(y,this.tmpExtent),a=ol.extent.buffer(h,t*n,a),ol.extent.containsCoordinate(a,e))for(var S=0,x=u.tileKeys.length;S<x;++S){var P=u.getTile(u.tileKeys[S]);P.getState()!=ol.TileState.ERROR&&(c=P.getReplayGroup(d,u.tileCoord.toString()),s=s||c.forEachFeatureAtCoordinate(e,n,l,t,{},function(e){var o=ol.getUid(e).toString();if(!(o in m))return m[o]=!0,r.call(i,e,d)}))}return s},ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(e,o){var t=this.getLayer(),r=t.getSource(),i=r.getTileGrid(),n=e.tileCoord,l=i.getResolution(n[0]),a=o.viewState,s=o.pixelRatio,p=a.resolution/s,g=i.getTileCoordExtent(n,this.tmpExtent),c=a.center,u=ol.extent.getTopLeft(g),y=o.size,h=Math.round(s*y[0]/2),d=Math.round(s*y[1]/2);return ol.transform.compose(this.tmpTransform_,h,d,l/p,l/p,a.rotation,(u[0]-c[0])/l,(c[1]-u[1])/l)},ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(e,o,t){for(var r=this.getLayer(),i=r.getSource(),n=r.getRenderMode(),l=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[n],a=o.pixelRatio,s=o.viewState.rotation,p=o.size,g=Math.round(a*p[0]/2),c=Math.round(a*p[1]/2),u=this.renderedTiles,y=i.getTileGridForProjection(o.viewState.projection),h=[],d=[],m=u.length-1;m>=0;--m){var f=u[m];if(f.getState()!=ol.TileState.ABORT)for(var _=f.tileCoord,v=y.getTileCoordExtent(_)[0]-y.getTileCoordExtent(f.wrappedTileCoord)[0],S=0,x=f.tileKeys.length;S<x;++S){var P=f.getTile(f.tileKeys[S]);if(P.getState()!=ol.TileState.ERROR){var E=P.getReplayGroup(r,_.toString());if(n==ol.layer.VectorTileRenderType.VECTOR||E.hasReplays(l)){
var T=P.tileCoord[0],R=this.getTransform(o,v),L=E.getClipCoords(R);e.save(),e.globalAlpha=t.opacity,ol.render.canvas.rotateAtOffset(e,-s,g,c);for(var M=0,C=h.length;M<C;++M){var I=h[M];T<d[M]&&(e.beginPath(),e.moveTo(L[0],L[1]),e.lineTo(L[2],L[3]),e.lineTo(L[4],L[5]),e.lineTo(L[6],L[7]),e.moveTo(I[6],I[7]),e.lineTo(I[4],I[5]),e.lineTo(I[2],I[3]),e.lineTo(I[0],I[1]),e.clip())}E.replay(e,R,s,{},l),e.restore(),h.push(L),d.push(T)}}}}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(e,o,t,r){if(!t)return!1;var i=!1;if(Array.isArray(t))for(var n=0,l=t.length;n<l;++n)i=ol.renderer.vector.renderFeature(r,e,t[n],o,this.handleStyleImageChange_,this)||i;else i=ol.renderer.vector.renderFeature(r,e,t,o,this.handleStyleImageChange_,this)||i;return i},ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(e,o,t){var r=this.getLayer(),i=e.getReplayState(r),n=r.getRevision(),l=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[r.getRenderMode()];if(l&&i.renderedTileRevision!==n){i.renderedTileRevision=n;var a=e.wrappedTileCoord,s=a[0],p=o.pixelRatio,g=r.getSource(),c=g.getTileGridForProjection(o.viewState.projection),u=c.getResolution(s),y=e.getContext(r),h=g.getTilePixelSize(s,p,o.viewState.projection);y.canvas.width=h[0],y.canvas.height=h[1];for(var d=c.getTileCoordExtent(a),m=0,f=e.tileKeys.length;m<f;++m){var _=e.getTile(e.tileKeys[m]);if(_.getState()!=ol.TileState.ERROR){var v=p/u,S=ol.transform.reset(this.tmpTransform_);ol.transform.scale(S,v,-v),ol.transform.translate(S,-d[0],-d[3]);_.getReplayGroup(r,e.tileCoord.toString()).replay(y,S,0,{},l,!0)}}}},goog.provide("ol.CanvasMap"),goog.require("ol"),goog.require("ol.PluggableMap"),goog.require("ol.PluginType"),goog.require("ol.control"),goog.require("ol.interaction"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]),ol.CanvasMap=function(e){e=ol.obj.assign({},e),delete e.renderer,e.controls||(e.controls=ol.control.defaults()),e.interactions||(e.interactions=ol.interaction.defaults()),ol.PluggableMap.call(this,e)},ol.inherits(ol.CanvasMap,ol.PluggableMap),goog.provide("ol.control.FullScreen"),goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.control.FullScreen=function(e){var o=e||{};this.cssClassName_=void 0!==o.className?o.className:"ol-full-screen";var t=void 0!==o.label?o.label:"⤢";this.labelNode_="string"==typeof t?document.createTextNode(t):t;var r=void 0!==o.labelActive?o.labelActive:"×";this.labelActiveNode_="string"==typeof r?document.createTextNode(r):r;var i=o.tipLabel?o.tipLabel:"Toggle full-screen",n=document.createElement("button");n.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen(),n.setAttribute("type","button"),n.title=i,n.appendChild(this.labelNode_),ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var l=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(ol.control.FullScreen.isFullScreenSupported()?"":ol.css.CLASS_UNSUPPORTED),a=document.createElement("div");a.className=l,a.appendChild(n),ol.control.Control.call(this,{element:a,target:o.target}),this.keys_=void 0!==o.keys&&o.keys,this.source_=o.source},ol.inherits(ol.control.FullScreen,ol.control.Control),ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},ol.control.FullScreen.prototype.handleFullScreen_=function(){if(ol.control.FullScreen.isFullScreenSupported()){var e=this.getMap();if(e)if(ol.control.FullScreen.isFullScreen())ol.control.FullScreen.exitFullScreen();else{var o;o=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?ol.control.FullScreen.requestFullScreenWithKeys(o):ol.control.FullScreen.requestFullScreen(o)}}},ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.element.firstElementChild,o=this.getMap();ol.control.FullScreen.isFullScreen()?(e.className=this.cssClassName_+"-true",ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)):(e.className=this.cssClassName_+"-false",ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)),o&&o.updateSize()},ol.control.FullScreen.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e),e&&this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))},ol.control.FullScreen.isFullScreenSupported=function(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)},ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},ol.control.FullScreen.requestFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},ol.control.FullScreen.requestFullScreenWithKeys=function(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):ol.control.FullScreen.requestFullScreen(e)},ol.control.FullScreen.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},ol.control.FullScreen.getChangeType_=function(){var e;return function(){if(!e){var o=document.body;o.webkitRequestFullscreen?e="webkitfullscreenchange":o.mozRequestFullScreen?e="mozfullscreenchange":o.msRequestFullscreen?e="MSFullscreenChange":o.requestFullscreen&&(e="fullscreenchange")}return e}}(),goog.provide("ol.control.MousePosition"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.Object"),goog.require("ol.control.Control"),goog.require("ol.proj"),ol.control.MousePosition=function(e){var o=e||{},t=document.createElement("DIV");t.className=void 0!==o.className?o.className:"ol-mouse-position";var r=o.render?o.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:t,render:r,target:o.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this),o.coordinateFormat&&this.setCoordinateFormat(o.coordinateFormat),o.projection&&this.setProjection(o.projection),this.undefinedHTML_=void 0!==o.undefinedHTML?o.undefinedHTML:"",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null},ol.inherits(ol.control.MousePosition,ol.control.Control),ol.control.MousePosition.render=function(e){var o=e.frameState;o?this.mapProjection_!=o.viewState.projection&&(this.mapProjection_=o.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null},ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)},ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)},ol.control.MousePosition.prototype.handleMouseMove=function(e){var o=this.getMap();this.lastMouseMovePixel_=o.getEventPixel(e),this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleMouseOut=function(e){this.updateHTML_(null),this.lastMouseMovePixel_=null},ol.control.MousePosition.prototype.setMap=function(e){if(ol.control.Control.prototype.setMap.call(this,e),e){var o=e.getViewport();this.listenerKeys.push(ol.events.listen(o,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(o,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}},ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,e)},ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(e))},ol.control.MousePosition.prototype.updateHTML_=function(e){var o=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var t=this.getProjection();this.transform_=t?ol.proj.getTransformFromProjections(this.mapProjection_,t):ol.proj.identityTransform}var r=this.getMap(),i=r.getCoordinateFromPixel(e);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();o=n?n(i):i.toString()}}this.renderedHTML_&&o==this.renderedHTML_||(this.element.innerHTML=o,this.renderedHTML_=o)},ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"},goog.provide("ol.OverlayPositioning"),ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},goog.provide("ol.Overlay"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.OverlayPositioning"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.extent"),ol.Overlay=function(e){ol.Object.call(this),this.id_=e.id,this.insertFirst_=void 0===e.insertFirst||e.insertFirst,this.stopEvent_=void 0===e.stopEvent||e.stopEvent,this.element_=document.createElement("DIV"),this.element_.className="ol-overlay-container "+ol.css.CLASS_SELECTABLE,this.element_.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation_=e.autoPanAnimation||{},this.autoPanMargin_=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered_={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.ELEMENT),this.handleElementChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.MAP),this.handleMapChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.OFFSET),this.handleOffsetChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITION),this.handlePositionChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:ol.OverlayPositioning.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)},ol.inherits(ol.Overlay,ol.Object),ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property_.ELEMENT)},ol.Overlay.prototype.getId=function(){return this.id_},ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property_.MAP)},ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property_.OFFSET)},ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property_.POSITION)},ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property_.POSITIONING)},ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element_);var e=this.getElement();e&&this.element_.appendChild(e)},ol.Overlay.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey_&&(ol.dom.removeNode(this.element_),ol.events.unlistenByKey(this.mapPostrenderListenerKey_),this.mapPostrenderListenerKey_=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey_=ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this),this.updatePixelPosition();var o=this.stopEvent_?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst_?o.insertBefore(this.element_,o.childNodes[0]||null):o.appendChild(this.element_)}},ol.Overlay.prototype.render=function(){this.updatePixelPosition()},ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(ol.Overlay.Property_.POSITION)&&this.autoPan&&this.panIntoView_()},ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},ol.Overlay.prototype.setElement=function(e){this.set(ol.Overlay.Property_.ELEMENT,e)},ol.Overlay.prototype.setMap=function(e){this.set(ol.Overlay.Property_.MAP,e)},ol.Overlay.prototype.setOffset=function(e){this.set(ol.Overlay.Property_.OFFSET,e)},ol.Overlay.prototype.setPosition=function(e){this.set(ol.Overlay.Property_.POSITION,e)},ol.Overlay.prototype.panIntoView_=function(){var e=this.getMap();if(e&&e.getTargetElement()){var o=this.getRect_(e.getTargetElement(),e.getSize()),t=this.getElement(),r=this.getRect_(t,[ol.dom.outerWidth(t),ol.dom.outerHeight(t)]),i=this.autoPanMargin_;if(!ol.extent.containsExtent(o,r)){var n=r[0]-o[0],l=o[2]-r[2],a=r[1]-o[1],s=o[3]-r[3],p=[0,0];if(n<0?p[0]=n-i:l<0&&(p[0]=Math.abs(l)+i),a<0?p[1]=a-i:s<0&&(p[1]=Math.abs(s)+i),0!==p[0]||0!==p[1]){var g=e.getView().getCenter(),c=e.getPixelFromCoordinate(g),u=[c[0]+p[0],c[1]+p[1]];e.getView().animate({center:e.getCoordinateFromPixel(u),duration:this.autoPanAnimation_.duration,easing:this.autoPanAnimation_.easing})}}}},ol.Overlay.prototype.getRect_=function(e,o){var t=e.getBoundingClientRect(),r=t.left+window.pageXOffset,i=t.top+window.pageYOffset;return[r,i,r+o[0],i+o[1]]},ol.Overlay.prototype.setPositioning=function(e){this.set(ol.Overlay.Property_.POSITIONING,e)},ol.Overlay.prototype.setVisible=function(e){this.rendered_.visible!==e&&(this.element_.style.display=e?"":"none",this.rendered_.visible=e)},ol.Overlay.prototype.updatePixelPosition=function(){var e=this.getMap(),o=this.getPosition();if(!e||!e.isRendered()||!o)return void this.setVisible(!1);var t=e.getPixelFromCoordinate(o),r=e.getSize();this.updateRenderedPosition(t,r)},ol.Overlay.prototype.updateRenderedPosition=function(e,o){var t=this.element_.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var n=r[0],l=r[1];if(i==ol.OverlayPositioning.BOTTOM_RIGHT||i==ol.OverlayPositioning.CENTER_RIGHT||i==ol.OverlayPositioning.TOP_RIGHT){""!==this.rendered_.left_&&(this.rendered_.left_=t.left="");var a=Math.round(o[0]-e[0]-n)+"px";this.rendered_.right_!=a&&(this.rendered_.right_=t.right=a)}else{""!==this.rendered_.right_&&(this.rendered_.right_=t.right=""),i!=ol.OverlayPositioning.BOTTOM_CENTER&&i!=ol.OverlayPositioning.CENTER_CENTER&&i!=ol.OverlayPositioning.TOP_CENTER||(n-=this.element_.offsetWidth/2);var s=Math.round(e[0]+n)+"px";this.rendered_.left_!=s&&(this.rendered_.left_=t.left=s)}if(i==ol.OverlayPositioning.BOTTOM_LEFT||i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.BOTTOM_RIGHT){""!==this.rendered_.top_&&(this.rendered_.top_=t.top="");var p=Math.round(o[1]-e[1]-l)+"px";this.rendered_.bottom_!=p&&(this.rendered_.bottom_=t.bottom=p)}else{""!==this.rendered_.bottom_&&(this.rendered_.bottom_=t.bottom=""),i!=ol.OverlayPositioning.CENTER_LEFT&&i!=ol.OverlayPositioning.CENTER_CENTER&&i!=ol.OverlayPositioning.CENTER_RIGHT||(l-=this.element_.offsetHeight/2);var g=Math.round(e[1]+l)+"px";this.rendered_.top_!=g&&(this.rendered_.top_=t.top=g)}},ol.Overlay.Property_={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},goog.provide("ol.control.OverviewMap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.PluggableMap"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.Overlay"),goog.require("ol.OverlayPositioning"),goog.require("ol.ViewProperty"),goog.require("ol.control.Control"),goog.require("ol.coordinate"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),ol.control.OverviewMap=function(e){var o=e||{};this.collapsed_=void 0===o.collapsed||o.collapsed,this.collapsible_=void 0===o.collapsible||o.collapsible,this.collapsible_||(this.collapsed_=!1);var t=void 0!==o.className?o.className:"ol-overviewmap",r=void 0!==o.tipLabel?o.tipLabel:"Overview map",i=void 0!==o.collapseLabel?o.collapseLabel:"«";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var n=void 0!==o.label?o.label:"»";"string"==typeof n?(this.label_=document.createElement("span"),this.label_.textContent=n):this.label_=n;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=r,a.appendChild(l),ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("DIV"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new ol.PluggableMap({controls:new ol.Collection,interactions:new ol.Collection,view:o.view});var s=this.ovmap_;o.layers&&o.layers.forEach(function(e){s.addLayer(e)},this);var p=document.createElement("DIV");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:p}),this.ovmap_.addOverlay(this.boxOverlay_);var g=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),c=document.createElement("div");c.className=g,c.appendChild(this.ovmapDiv_),c.appendChild(a);var u=o.render?o.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:c,render:u,target:o.target});var y=this,h=this.boxOverlay_,d=this.boxOverlay_.getElement(),m=function(e){return{clientX:e.clientX-d.offsetWidth/2,clientY:e.clientY+d.offsetHeight/2}},f=function(e){var o=s.getEventCoordinate(m(e));h.setPosition(o)},_=function(e){var o=s.getEventCoordinate(e);y.getMap().getView().setCenter(o),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",_)};d.addEventListener("mousedown",function(){window.addEventListener("mousemove",f),window.addEventListener("mouseup",_)})},ol.inherits(ol.control.OverviewMap,ol.control.Control),ol.control.OverviewMap.prototype.setMap=function(e){var o=this.getMap();if(e!==o){if(o){var t=o.getView();t&&this.unbindView_(t),this.ovmap_.setTarget(null)}if(ol.control.Control.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var o=e.oldValue;o&&this.unbindView_(o);var t=this.getMap().getView();this.bindView_(t)}},ol.control.OverviewMap.prototype.bindView_=function(e){ol.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.unbindView_=function(e){ol.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},ol.control.OverviewMap.render=function(e){this.validateExtent_(),this.updateBox_()},ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap(),o=this.ovmap_;if(e.isRendered()&&o.isRendered()){var t=e.getSize(),r=e.getView(),i=r.calculateExtent(t),n=o.getSize(),l=o.getView(),a=l.calculateExtent(n),s=o.getPixelFromCoordinate(ol.extent.getTopLeft(i)),p=o.getPixelFromCoordinate(ol.extent.getBottomRight(i)),g=Math.abs(s[0]-p[0]),c=Math.abs(s[1]-p[1]),u=n[0],y=n[1];g<u*ol.OVERVIEWMAP_MIN_RATIO||c<y*ol.OVERVIEWMAP_MIN_RATIO||g>u*ol.OVERVIEWMAP_MAX_RATIO||c>y*ol.OVERVIEWMAP_MAX_RATIO?this.resetExtent_():ol.extent.containsExtent(a,i)||this.recenter_()}},ol.control.OverviewMap.prototype.resetExtent_=function(){if(0!==ol.OVERVIEWMAP_MAX_RATIO&&0!==ol.OVERVIEWMAP_MIN_RATIO){var e=this.getMap(),o=this.ovmap_,t=e.getSize(),r=e.getView(),i=r.calculateExtent(t),n=o.getView(),l=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2,a=1/(Math.pow(2,l/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(i,a),n.fit(i)}},ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap(),o=this.ovmap_,t=e.getView();o.getView().setCenter(t.getCenter())},ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap(),o=this.ovmap_;if(e.isRendered()&&o.isRendered()){var t=e.getSize(),r=e.getView(),i=o.getView(),n=r.getRotation(),l=this.boxOverlay_,a=this.boxOverlay_.getElement(),s=r.calculateExtent(t),p=i.getResolution(),g=ol.extent.getBottomLeft(s),c=ol.extent.getTopRight(s),u=this.calculateCoordinateRotate_(n,g);l.setPosition(u),a&&(a.style.width=Math.abs((g[0]-c[0])/p)+"px",a.style.height=Math.abs((c[1]-g[1])/p)+"px")}},ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,o){var t,r=this.getMap(),i=r.getView(),n=i.getCenter();return n&&(t=[o[0]-n[0],o[1]-n[1]],ol.coordinate.rotate(t,e),ol.coordinate.add(t,n)),t},ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),ol.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(e){this.updateBox_()},this))},ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_},ol.control.OverviewMap.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.OverviewMap.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_},ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_},goog.provide("ol.control.ScaleLineUnits"),ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},goog.provide("ol.control.ScaleLine"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.asserts"),goog.require("ol.control.Control"),goog.require("ol.control.ScaleLineUnits"),goog.require("ol.css"),goog.require("ol.events"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.control.ScaleLine=function(e){var o=e||{},t=void 0!==o.className?o.className:"ol-scale-line";this.innerElement_=document.createElement("DIV"),this.innerElement_.className=t+"-inner",this.element_=document.createElement("DIV"),this.element_.className=t+" "+ol.css.CLASS_UNSELECTABLE,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==o.minWidth?o.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";var r=o.render?o.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:r,target:o.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this),this.setUnits(o.units||ol.control.ScaleLineUnits.METRIC)},ol.inherits(ol.control.ScaleLine,ol.control.Control),ol.control.ScaleLine.LEADING_DIGITS=[1,2,5],ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)},ol.control.ScaleLine.render=function(e){var o=e.frameState;this.viewState_=o?o.viewState:null,this.updateElement_()},ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()},ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLine.Property_.UNITS,e)},ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));var o=e.center,t=e.projection,r=this.getUnits(),i=r==ol.control.ScaleLineUnits.DEGREES?ol.proj.Units.DEGREES:ol.proj.Units.METERS,n=ol.proj.getPointResolution(t,e.resolution,o,i),l=this.minWidth_*n,a="";if(r==ol.control.ScaleLineUnits.DEGREES){var s=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];t.getUnits()==ol.proj.Units.DEGREES?l*=s:n/=s,l<s/60?(a="″",n*=3600):l<s?(a="′",n*=60):a="°"}else r==ol.control.ScaleLineUnits.IMPERIAL?l<.9144?(a="in",n/=.0254):l<1609.344?(a="ft",n/=.3048):(a="mi",n/=1609.344):r==ol.control.ScaleLineUnits.NAUTICAL?(n/=1852,a="nm"):r==ol.control.ScaleLineUnits.METRIC?l<.001?(a="μm",n*=1e6):l<1?(a="mm",n*=1e3):l<1e3?a="m":(a="km",n/=1e3):r==ol.control.ScaleLineUnits.US?l<.9144?(a="in",n*=39.37):l<1609.344?(a="ft",n/=.30480061):(a="mi",n/=1609.3472):ol.asserts.assert(!1,33);for(var p,g,c=3*Math.floor(Math.log(this.minWidth_*n)/Math.log(10));;){if(p=ol.control.ScaleLine.LEADING_DIGITS[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),g=Math.round(p/n),isNaN(g))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++c}var u=p+" "+a;this.renderedHTML_!=u&&(this.innerElement_.innerHTML=u,this.renderedHTML_=u),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)},ol.control.ScaleLine.Property_={UNITS:"units"},goog.provide("ol.control.ZoomSlider"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.math"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.control.ZoomSlider=function(e){var o=e||{};this.currentResolution_=void 0,this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==o.duration?o.duration:200;var t=void 0!==o.className?o.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=t+"-thumb "+ol.css.CLASS_UNSELECTABLE;var i=document.createElement("div");i.className=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,i.appendChild(r),this.dragger_=new ol.pointer.PointerEventHandler(i),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this),ol.events.listen(i,ol.events.EventType.CLICK,this.handleContainerClick_,this),ol.events.listen(r,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var n=o.render?o.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:i,render:n})},ol.inherits(ol.control.ZoomSlider,ol.control.Control),ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose(),ol.control.Control.prototype.disposeInternal.call(this)},ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1},ol.control.ZoomSlider.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e),e&&e.render()},ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element,o={width:e.offsetWidth,height:e.offsetHeight},t=e.firstElementChild,r=getComputedStyle(t),i=t.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),n=t.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[i,n],o.width>o.height?(this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL,this.widthLimit_=o.width-i):(this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.heightLimit_=o.height-n),this.sliderInitialized_=!0},ol.control.ZoomSlider.render=function(e){if(e.frameState){this.sliderInitialized_||this.initSlider_();var o=e.frameState.viewState.resolution;o!==this.currentResolution_&&(this.currentResolution_=o,this.setThumbPosition_(o))}},ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var o=this.getMap().getView(),t=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(t);o.animate({resolution:o.constrainResolution(r),duration:this.duration_,easing:ol.easing.easeOut})},ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){this.dragging_||e.originalEvent.target!==this.element.firstElementChild||(this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0)},ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var o=this.element.firstElementChild,t=e.clientX-this.previousX_+parseInt(o.style.left,10),r=e.clientY-this.previousY_+parseInt(o.style.top,10),i=this.getRelativePosition_(t,r);this.currentResolution_=this.getResolutionForPosition_(i),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=e.clientX,this.previousY_=e.clientY}},ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var o=this.getMap().getView();o.setHint(ol.ViewHint.INTERACTING,-1),o.animate({resolution:o.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var o=this.getPositionForResolution_(e),t=this.element.firstElementChild;this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL?t.style.left=this.widthLimit_*o+"px":t.style.top=this.heightLimit_*o+"px"},ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,o){var t;return t=this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL?e/this.widthLimit_:o/this.heightLimit_,ol.math.clamp(t,0,1)},ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)},ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){return 1-this.getMap().getView().getValueForResolutionFunction()(e)},goog.provide("ol.control.ZoomToExtent"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),ol.control.ZoomToExtent=function(e){var o=e||{};this.extent_=o.extent?o.extent:null;var t=void 0!==o.className?o.className:"ol-zoom-extent",r=void 0!==o.label?o.label:"E",i=void 0!==o.tipLabel?o.tipLabel:"Fit to extent",n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild("string"==typeof r?document.createTextNode(r):r),ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this)
;var l=t+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,a=document.createElement("div");a.className=l,a.appendChild(n),ol.control.Control.call(this,{element:a,target:o.target})},ol.inherits(ol.control.ZoomToExtent,ol.control.Control),ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent_()},ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var e=this.getMap(),o=e.getView(),t=this.extent_?this.extent_:o.getProjection().getExtent();o.fit(t)},goog.provide("ol.DeviceOrientation"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.has"),goog.require("ol.math"),ol.DeviceOrientation=function(e){ol.Object.call(this);var o=e||{};this.listenerKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this),this.setTracking(void 0!==o.tracking&&o.tracking)},ol.inherits(ol.DeviceOrientation,ol.Object),ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.DeviceOrientation.prototype.orientationChange_=function(e){var o=e;if(null!==o.alpha){var t=ol.math.toRadians(o.alpha);if(this.set(ol.DeviceOrientation.Property_.ALPHA,t),"boolean"==typeof o.absolute&&o.absolute)this.set(ol.DeviceOrientation.Property_.HEADING,t);else if("number"==typeof o.webkitCompassHeading&&-1!=o.webkitCompassAccuracy){var r=ol.math.toRadians(o.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,r)}}null!==o.beta&&this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(o.beta)),null!==o.gamma&&this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(o.gamma)),this.changed()},ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)},ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)},ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)},ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)},ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)},ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();e&&!this.listenerKey_?this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this):e||null===this.listenerKey_||(ol.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null)}},ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientation.Property_.TRACKING,e)},ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"},goog.provide("ol.style.Image"),ol.style.Image=function(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.snapToPixel_=e.snapToPixel},ol.style.Image.prototype.getOpacity=function(){return this.opacity_},ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Image.prototype.getRotation=function(){return this.rotation_},ol.style.Image.prototype.getScale=function(){return this.scale_},ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_},ol.style.Image.prototype.getAnchor=function(){},ol.style.Image.prototype.getImage=function(e){},ol.style.Image.prototype.getHitDetectionImage=function(e){},ol.style.Image.prototype.getImageState=function(){},ol.style.Image.prototype.getImageSize=function(){},ol.style.Image.prototype.getHitDetectionImageSize=function(){},ol.style.Image.prototype.getOrigin=function(){},ol.style.Image.prototype.getSize=function(){},ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e},ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e},ol.style.Image.prototype.setRotation=function(e){this.rotation_=e},ol.style.Image.prototype.setScale=function(e){this.scale_=e},ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e},ol.style.Image.prototype.listenImageChange=function(e,o){},ol.style.Image.prototype.load=function(){},ol.style.Image.prototype.unlistenImageChange=function(e,o){},goog.provide("ol.style.RegularShape"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.has"),goog.require("ol.ImageState"),goog.require("ol.render.canvas"),goog.require("ol.style.Image"),ol.style.RegularShape=function(e){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_);var o=void 0===e.snapToPixel||e.snapToPixel,t=void 0!==e.rotateWithView&&e.rotateWithView;ol.style.Image.call(this,{opacity:1,rotateWithView:t,rotation:void 0!==e.rotation?e.rotation:0,scale:1,snapToPixel:o})},ol.inherits(ol.style.RegularShape,ol.style.Image),ol.style.RegularShape.prototype.clone=function(){var e=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_},ol.style.RegularShape.prototype.getAngle=function(){return this.angle_},ol.style.RegularShape.prototype.getFill=function(){return this.fill_},ol.style.RegularShape.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},ol.style.RegularShape.prototype.getImage=function(e){return this.canvas_},ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_},ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED},ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_},ol.style.RegularShape.prototype.getPoints=function(){return this.points_},ol.style.RegularShape.prototype.getRadius=function(){return this.radius_},ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_},ol.style.RegularShape.prototype.getSize=function(){return this.size_},ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_},ol.style.RegularShape.prototype.listenImageChange=function(e,o){},ol.style.RegularShape.prototype.load=function(){},ol.style.RegularShape.prototype.unlistenImageChange=function(e,o){},ol.style.RegularShape.prototype.render_=function(e){var o,t,r="",i="",n=0,l=null,a=0,s=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=ol.render.canvas.defaultStrokeStyle),t=ol.colorlike.asColorLike(t),s=this.stroke_.getWidth(),void 0===s&&(s=ol.render.canvas.defaultLineWidth),l=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),ol.has.CANVAS_LINE_DASH||(l=null,a=0),i=this.stroke_.getLineJoin(),void 0===i&&(i=ol.render.canvas.defaultLineJoin),r=this.stroke_.getLineCap(),void 0===r&&(r=ol.render.canvas.defaultLineCap),void 0===(n=this.stroke_.getMiterLimit())&&(n=ol.render.canvas.defaultMiterLimit));var p=2*(this.radius_+s)+1,g={strokeStyle:t,strokeWidth:s,size:p,lineCap:r,lineDash:l,lineDashOffset:a,lineJoin:i,miterLimit:n};if(void 0===e){var c=ol.dom.createCanvasContext2D(p,p);this.canvas_=c.canvas,p=this.canvas_.width,o=p,this.draw_(g,c,0,0),this.createHitDetectionCanvas_(g)}else{p=Math.round(p);var u,y=!this.fill_;y&&(u=this.drawHitDetectionCanvas_.bind(this,g));var h=this.getChecksum(),d=e.add(h,p,p,this.draw_.bind(this,g),u);this.canvas_=d.image,this.origin_=[d.offsetX,d.offsetY],o=d.image.width,y?(this.hitDetectionCanvas_=d.hitImage,this.hitDetectionImageSize_=[d.hitImage.width,d.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[o,o])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[o,o]},ol.style.RegularShape.prototype.draw_=function(e,o,t,r){var i,n,l;o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath();var a=this.points_;if(a===1/0)o.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;for(s!==this.radius_&&(a*=2),i=0;i<=a;i++)n=2*i*Math.PI/a-Math.PI/2+this.angle_,l=i%2==0?this.radius_:s,o.lineTo(e.size/2+l*Math.cos(n),e.size/2+l*Math.sin(n))}if(this.fill_){var p=this.fill_.getColor();null===p&&(p=ol.render.canvas.defaultFillStyle),o.fillStyle=ol.colorlike.asColorLike(p),o.fill()}this.stroke_&&(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,e.lineDash&&(o.setLineDash(e.lineDash),o.lineDashOffset=e.lineDashOffset),o.lineCap=e.lineCap,o.lineJoin=e.lineJoin,o.miterLimit=e.miterLimit,o.stroke()),o.closePath()},ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var o=ol.dom.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(e,o,0,0)},ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,o,t,r){o.setTransform(1,0,0,1,0,0),o.translate(t,r),o.beginPath();var i=this.points_;if(i===1/0)o.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var n=void 0!==this.radius2_?this.radius2_:this.radius_;n!==this.radius_&&(i*=2);var l,a,s;for(l=0;l<=i;l++)s=2*l*Math.PI/i-Math.PI/2+this.angle_,a=l%2==0?this.radius_:n,o.lineTo(e.size/2+a*Math.cos(s),e.size/2+a*Math.sin(s))}o.fillStyle=ol.render.canvas.defaultFillStyle,o.fill(),this.stroke_&&(o.strokeStyle=e.strokeStyle,o.lineWidth=e.strokeWidth,e.lineDash&&(o.setLineDash(e.lineDash),o.lineDashOffset=e.lineDashOffset),o.stroke()),o.closePath()},ol.style.RegularShape.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():"-",o=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||e!=this.checksums_[1]||o!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var t="r"+e+o+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[t,e,o,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},goog.provide("ol.style.Circle"),goog.require("ol"),goog.require("ol.style.RegularShape"),ol.style.Circle=function(e){var o=e||{};ol.style.RegularShape.call(this,{points:1/0,fill:o.fill,radius:o.radius,snapToPixel:o.snapToPixel,stroke:o.stroke,atlasManager:o.atlasManager})},ol.inherits(ol.style.Circle,ol.style.RegularShape),ol.style.Circle.prototype.clone=function(){var e=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},ol.style.Circle.prototype.setRadius=function(e){this.radius_=e,this.render_(this.atlasManager_)},goog.provide("ol.style.Fill"),goog.require("ol"),goog.require("ol.color"),ol.style.Fill=function(e){var o=e||{};this.color_=void 0!==o.color?o.color:null,this.checksum_=void 0},ol.style.Fill.prototype.clone=function(){var e=this.getColor();return new ol.style.Fill({color:e&&e.slice?e.slice():e||void 0})},ol.style.Fill.prototype.getColor=function(){return this.color_},ol.style.Fill.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Fill.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=ol.getUid(this.color_).toString():this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")),this.checksum_},goog.provide("ol.style.Stroke"),goog.require("ol");ol.style.Stroke=function(e){var o=e||{};this.color_=void 0!==o.color?o.color:null,this.lineCap_=o.lineCap,this.lineDash_=void 0!==o.lineDash?o.lineDash:null,this.lineDashOffset_=o.lineDashOffset,this.lineJoin_=o.lineJoin,this.miterLimit_=o.miterLimit,this.width_=o.width,this.checksum_=void 0},ol.style.Stroke.prototype.clone=function(){var e=this.getColor();return new ol.style.Stroke({color:e&&e.slice?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},ol.style.Stroke.prototype.getColor=function(){return this.color_},ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_},ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_},ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_},ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},ol.style.Stroke.prototype.getWidth=function(){return this.width_},ol.style.Stroke.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setWidth=function(e){this.width_=e,this.checksum_=void 0},ol.style.Stroke.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=ol.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},goog.provide("ol.style.Style"),goog.require("ol.asserts"),goog.require("ol.geom.GeometryType"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Stroke"),ol.style.Style=function(e){var o=e||{};this.geometry_=null,this.geometryFunction_=ol.style.Style.defaultGeometryFunction,void 0!==o.geometry&&this.setGeometry(o.geometry),this.fill_=void 0!==o.fill?o.fill:null,this.image_=void 0!==o.image?o.image:null,this.renderer_=void 0!==o.renderer?o.renderer:null,this.stroke_=void 0!==o.stroke?o.stroke:null,this.text_=void 0!==o.text?o.text:null,this.zIndex_=o.zIndex},ol.style.Style.prototype.clone=function(){var e=this.getGeometry();return e&&e.clone&&(e=e.clone()),new ol.style.Style({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},ol.style.Style.prototype.getRenderer=function(){return this.renderer_},ol.style.Style.prototype.setRenderer=function(e){this.renderer_=e},ol.style.Style.prototype.getGeometry=function(){return this.geometry_},ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},ol.style.Style.prototype.getFill=function(){return this.fill_},ol.style.Style.prototype.setFill=function(e){this.fill_=e},ol.style.Style.prototype.getImage=function(){return this.image_},ol.style.Style.prototype.setImage=function(e){this.image_=e},ol.style.Style.prototype.getStroke=function(){return this.stroke_},ol.style.Style.prototype.setStroke=function(e){this.stroke_=e},ol.style.Style.prototype.getText=function(){return this.text_},ol.style.Style.prototype.setText=function(e){this.text_=e},ol.style.Style.prototype.getZIndex=function(){return this.zIndex_},ol.style.Style.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(o){return o.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ol.style.Style.defaultGeometryFunction,this.geometry_=e},ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e},ol.style.Style.createFunction=function(e){var o;if("function"==typeof e)o=e;else{var t;Array.isArray(e)?t=e:(ol.asserts.assert(e instanceof ol.style.Style,41),t=[e]),o=function(){return t}}return o},ol.style.Style.default_=null,ol.style.Style.defaultFunction=function(e,o){if(!ol.style.Style.default_){var t=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),r=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return ol.style.Style.default_},ol.style.Style.createDefaultEditing=function(){var e={},o=[255,255,255,1],t=[0,153,255,1];return e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})],e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:3})})],e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]),e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:t}),stroke:new ol.style.Stroke({color:o,width:1.5})}),zIndex:1/0})],e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT],e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.POINT]),e},ol.style.Style.defaultGeometryFunction=function(e){return e.getGeometry()},goog.provide("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.geom.Geometry"),goog.require("ol.style.Style"),ol.Feature=function(e){if(ol.Object.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e)if(e instanceof ol.geom.Geometry||!e){var o=e;this.setGeometry(o)}else{var t=e;this.setProperties(t)}},ol.inherits(ol.Feature,ol.Object),ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&e.setGeometry(o.clone());var t=this.getStyle();return t&&e.setStyle(t),e},ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},ol.Feature.prototype.getId=function(){return this.id_},ol.Feature.prototype.getGeometryName=function(){return this.geometryName_},ol.Feature.prototype.getStyle=function(){return this.style_},ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_},ol.Feature.prototype.handleGeometryChange_=function(){this.changed()},ol.Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ol.events.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},ol.Feature.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?ol.Feature.createStyleFunction(e):void 0,this.changed()},ol.Feature.prototype.setId=function(e){this.id_=e,this.changed()},ol.Feature.prototype.setGeometryName=function(e){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},ol.Feature.createStyleFunction=function(e){var o;if("function"==typeof e)o=2==e.length?function(o){return e(this,o)}:e;else{var t;Array.isArray(e)?t=e:(ol.asserts.assert(e instanceof ol.style.Style,41),t=[e]),o=function(){return t}}return o},goog.provide("ol.format.FormatType"),ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},goog.provide("ol.xml"),goog.require("ol.array"),ol.xml.DOCUMENT=document.implementation.createDocument("","",null),ol.xml.createElementNS=function(e,o){return ol.xml.DOCUMENT.createElementNS(e,o)},ol.xml.getAllTextContent=function(e,o){return ol.xml.getAllTextContent_(e,o,[]).join("")},ol.xml.getAllTextContent_=function(e,o,t){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else{var r;for(r=e.firstChild;r;r=r.nextSibling)ol.xml.getAllTextContent_(r,o,t)}return t},ol.xml.isDocument=function(e){return e instanceof Document},ol.xml.isNode=function(e){return e instanceof Node},ol.xml.getAttributeNS=function(e,o,t){return e.getAttributeNS(o,t)||""},ol.xml.setAttributeNS=function(e,o,t,r){e.setAttributeNS(o,t,r)},ol.xml.parse=function(e){return(new DOMParser).parseFromString(e,"application/xml")},ol.xml.makeArrayExtender=function(e,o){return function(t,r){var i=e.call(o,t,r);if(void 0!==i){var n=r[r.length-1];ol.array.extend(n,i)}}},ol.xml.makeArrayPusher=function(e,o){return function(t,r){var i=e.call(void 0!==o?o:this,t,r);if(void 0!==i){r[r.length-1].push(i)}}},ol.xml.makeReplacer=function(e,o){return function(t,r){var i=e.call(void 0!==o?o:this,t,r);void 0!==i&&(r[r.length-1]=i)}},ol.xml.makeObjectPropertyPusher=function(e,o,t){return function(r,i){var n=e.call(void 0!==t?t:this,r,i);if(void 0!==n){var l,a=i[i.length-1],s=void 0!==o?o:r.localName;l=s in a?a[s]:a[s]=[],l.push(n)}}},ol.xml.makeObjectPropertySetter=function(e,o,t){return function(r,i){var n=e.call(void 0!==t?t:this,r,i);if(void 0!==n){i[i.length-1][void 0!==o?o:r.localName]=n}}},ol.xml.makeChildAppender=function(e,o){return function(t,r,i){e.call(void 0!==o?o:this,t,r,i),i[i.length-1].node.appendChild(t)}},ol.xml.makeArraySerializer=function(e,o){var t,r;return function(o,i,n){if(void 0===t){t={};var l={};l[o.localName]=e,t[o.namespaceURI]=l,r=ol.xml.makeSimpleNodeFactory(o.localName)}ol.xml.serialize(t,r,i,n)}},ol.xml.makeSimpleNodeFactory=function(e,o){var t=e;return function(e,r,i){var n=r[r.length-1],l=n.node,a=t;void 0===a&&(a=i);var s=o;return void 0===o&&(s=l.namespaceURI),ol.xml.createElementNS(s,a)}},ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory(),ol.xml.makeSequence=function(e,o){for(var t=o.length,r=new Array(t),i=0;i<t;++i)r[i]=e[o[i]];return r},ol.xml.makeStructureNS=function(e,o,t){var r,i,n=void 0!==t?t:{};for(r=0,i=e.length;r<i;++r)n[e[r]]=o;return n},ol.xml.parseNode=function(e,o,t,r){var i;for(i=o.firstElementChild;i;i=i.nextElementSibling){var n=e[i.namespaceURI];if(void 0!==n){var l=n[i.localName];void 0!==l&&l.call(r,i,t)}}},ol.xml.pushParseAndPop=function(e,o,t,r,i){return r.push(e),ol.xml.parseNode(o,t,r,i),r.pop()},ol.xml.serialize=function(e,o,t,r,i,n){for(var l,a,s=(void 0!==i?i:t).length,p=0;p<s;++p)void 0!==(l=t[p])&&void 0!==(a=o.call(n,l,r,void 0!==i?i[p]:void 0))&&e[a.namespaceURI][a.localName].call(n,a,l,r)},ol.xml.pushSerializeAndPop=function(e,o,t,r,i,n,l){return i.push(e),ol.xml.serialize(o,t,r,i,n,l),i.pop()},goog.provide("ol.featureloader"),goog.require("ol"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.featureloader.loadFeaturesXhr=function(e,o,t,r){return function(i,n,l){var a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(i,n,l):e,!0),o.getType()==ol.format.FormatType.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){var i,n=o.getType();n==ol.format.FormatType.JSON||n==ol.format.FormatType.TEXT?i=a.responseText:n==ol.format.FormatType.XML?(i=a.responseXML)||(i=ol.xml.parse(a.responseText)):n==ol.format.FormatType.ARRAY_BUFFER&&(i=a.response),i?t.call(this,o.readFeatures(i,{featureProjection:l}),o.readProjection(i),o.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),a.onerror=function(){r.call(this)}.bind(this),a.send()}},ol.featureloader.xhr=function(e,o){return ol.featureloader.loadFeaturesXhr(e,o,function(e,o){this.addFeatures(e)},ol.nullFunction)},goog.provide("ol.format.Feature"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.Feature=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null},ol.format.Feature.prototype.getReadOptions=function(e,o){var t;return o&&(t={dataProjection:o.dataProjection?o.dataProjection:this.readProjection(e),featureProjection:o.featureProjection}),this.adaptOptions(t)},ol.format.Feature.prototype.adaptOptions=function(e){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)},ol.format.Feature.prototype.getLastExtent=function(){return null},ol.format.Feature.prototype.getType=function(){},ol.format.Feature.prototype.readFeature=function(e,o){},ol.format.Feature.prototype.readFeatures=function(e,o){},ol.format.Feature.prototype.readGeometry=function(e,o){},ol.format.Feature.prototype.readProjection=function(e){},ol.format.Feature.prototype.writeFeature=function(e,o){},ol.format.Feature.prototype.writeFeatures=function(e,o){},ol.format.Feature.prototype.writeGeometry=function(e,o){},ol.format.Feature.transformWithOptions=function(e,o,t){var r,i=t?ol.proj.get(t.featureProjection):null,n=t?ol.proj.get(t.dataProjection):null;if(r=i&&n&&!ol.proj.equivalent(i,n)?e instanceof ol.geom.Geometry?(o?e.clone():e).transform(o?i:n,o?n:i):ol.proj.transformExtent(e,n,i):e,o&&t&&void 0!==t.decimals){var l=Math.pow(10,t.decimals),a=function(e){for(var o=0,t=e.length;o<t;++o)e[o]=Math.round(e[o]*l)/l;return e};r===e&&(r=r.clone()),r.applyTransform(a)}return r},goog.provide("ol.format.JSONFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.JSONFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.JSONFeature,ol.format.Feature),ol.format.JSONFeature.prototype.getObject_=function(e){if("string"==typeof e){var o=JSON.parse(e);return o||null}return null!==e?e:null},ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON},ol.format.JSONFeature.prototype.readFeature=function(e,o){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readFeatures=function(e,o){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readFeatureFromObject=function(e,o){},ol.format.JSONFeature.prototype.readFeaturesFromObject=function(e,o){},ol.format.JSONFeature.prototype.readGeometry=function(e,o){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,o))},ol.format.JSONFeature.prototype.readGeometryFromObject=function(e,o){},ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))},ol.format.JSONFeature.prototype.readProjectionFromObject=function(e){},ol.format.JSONFeature.prototype.writeFeature=function(e,o){return JSON.stringify(this.writeFeatureObject(e,o))},ol.format.JSONFeature.prototype.writeFeatureObject=function(e,o){},ol.format.JSONFeature.prototype.writeFeatures=function(e,o){return JSON.stringify(this.writeFeaturesObject(e,o))},ol.format.JSONFeature.prototype.writeFeaturesObject=function(e,o){},ol.format.JSONFeature.prototype.writeGeometry=function(e,o){return JSON.stringify(this.writeGeometryObject(e,o))},ol.format.JSONFeature.prototype.writeGeometryObject=function(e,o){},goog.provide("ol.geom.flat.interpolate"),goog.require("ol.array"),goog.require("ol.math"),ol.geom.flat.interpolate.lineString=function(e,o,t,r,i,n){var l=NaN,a=NaN,s=(t-o)/r;if(1===s)l=e[o],a=e[o+1];else if(2==s)l=(1-i)*e[o]+i*e[o+r],a=(1-i)*e[o+1]+i*e[o+r+1];else if(0!==s){var p,g=e[o],c=e[o+1],u=0,y=[0];for(p=o+r;p<t;p+=r){var h=e[p],d=e[p+1];u+=Math.sqrt((h-g)*(h-g)+(d-c)*(d-c)),y.push(u),g=h,c=d}var m=i*u,f=ol.array.binarySearch(y,m);if(f<0){var _=(m-y[-f-2])/(y[-f-1]-y[-f-2]),v=o+(-f-2)*r;l=ol.math.lerp(e[v],e[v+r],_),a=ol.math.lerp(e[v+1],e[v+r+1],_)}else l=e[o+f*r],a=e[o+f*r+1]}return n?(n[0]=l,n[1]=a,n):[l,a]},ol.geom.flat.interpolate.lineStringCoordinateAtM=function(e,o,t,r,i,n){if(t==o)return null;var l;if(i<e[o+r-1])return n?(l=e.slice(o,o+r),l[r-1]=i,l):null;if(e[t-1]<i)return n?(l=e.slice(t-r,t),l[r-1]=i,l):null;if(i==e[o+r-1])return e.slice(o,o+r);for(var a=o/r,s=t/r;a<s;){var p=a+s>>1;i<e[(p+1)*r-1]?s=p:a=p+1}var g=e[a*r-1];if(i==g)return e.slice((a-1)*r,(a-1)*r+r);var c=e[(a+1)*r-1],u=(i-g)/(c-g);l=[];var y;for(y=0;y<r-1;++y)l.push(ol.math.lerp(e[(a-1)*r+y],e[a*r+y],u));return l.push(i),l},ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(e,o,t,r,i,n,l){if(l)return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,o,t[t.length-1],r,i,n);var a;if(i<e[r-1])return n?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return n?(a=e.slice(e.length-r),a[r-1]=i,a):null;var s,p;for(s=0,p=t.length;s<p;++s){var g=t[s];if(o!=g){if(i<e[o+r-1])return null;if(i<=e[g-1])return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,o,g,r,i,!1);o=g}}return null},goog.provide("ol.geom.LineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.segments"),goog.require("ol.geom.flat.simplify"),ol.geom.LineString=function(e,o){ol.geom.SimpleGeometry.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry),ol.geom.LineString.prototype.appendCoordinate=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LineString.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,o,t,r))},ol.geom.LineString.prototype.forEachSegment=function(e,o){
return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)},ol.geom.LineString.prototype.getCoordinateAtM=function(e,o){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM)return null;var t=void 0!==o&&o;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getCoordinateAt=function(e,o){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)},ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var o=[];o.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0);var t=new ol.geom.LineString(null);return t.setFlatCoordinates(ol.geom.GeometryLayout.XY,o),t},ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING},ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.LineString.prototype.setCoordinates=function(e,o){e?(this.setLayout(o,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LineString.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.MultiLineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiLineString=function(e,o){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,o)},ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry),ol.geom.MultiLineString.prototype.appendLineString=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.MultiLineString.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,o,t,r))},ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,o,t){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==o&&o,i=void 0!==t&&t;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,i)},ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e)return null;var o=new ol.geom.LineString(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),o},ol.geom.MultiLineString.prototype.getLineStrings=function(){var e,o,t=this.flatCoordinates,r=this.ends_,i=this.layout,n=[],l=0;for(e=0,o=r.length;e<o;++e){var a=r[e],s=new ol.geom.LineString(null);s.setFlatCoordinates(i,t.slice(l,a)),n.push(s),l=a}return n},ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e,o,t=[],r=this.flatCoordinates,i=0,n=this.ends_,l=this.stride;for(e=0,o=n.length;e<o;++e){var a=n[e],s=ol.geom.flat.interpolate.lineString(r,i,a,l,.5);ol.array.extend(t,s),i=a}return t},ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,o,0,t);var r=new ol.geom.MultiLineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING},ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},ol.geom.MultiLineString.prototype.setCoordinates=function(e,o){if(e){this.setLayout(o,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,o,t){this.setFlatCoordinatesInternal(e,o),this.ends_=t,this.changed()},ol.geom.MultiLineString.prototype.setLineStrings=function(e){var o,t,r=this.getLayout(),i=[],n=[];for(o=0,t=e.length;o<t;++o){var l=e[o];0===o&&(r=l.getLayout()),ol.array.extend(i,l.getFlatCoordinates()),n.push(i.length)}this.setFlatCoordinates(r,i,n)},goog.provide("ol.geom.MultiPoint"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.math"),ol.geom.MultiPoint=function(e,o){ol.geom.SimpleGeometry.call(this),this.setCoordinates(e,o)},ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry),ol.geom.MultiPoint.prototype.appendPoint=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.MultiPoint.prototype.closestPointXY=function(e,o,t,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o))return r;var i,n,l,a=this.flatCoordinates,s=this.stride;for(i=0,n=a.length;i<n;i+=s){var p=ol.math.squaredDistance(e,o,a[i],a[i+1]);if(p<r){for(r=p,l=0;l<s;++l)t[l]=a[i+l];t.length=s}}return r},ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.MultiPoint.prototype.getPoint=function(e){var o=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(e<0||o<=e)return null;var t=new ol.geom.Point(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),t},ol.geom.MultiPoint.prototype.getPoints=function(){var e,o,t=this.flatCoordinates,r=this.layout,i=this.stride,n=[];for(e=0,o=t.length;e<o;e+=i){var l=new ol.geom.Point(null);l.setFlatCoordinates(r,t.slice(e,e+i)),n.push(l)}return n},ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT},ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var o,t,r,i,n=this.flatCoordinates,l=this.stride;for(o=0,t=n.length;o<t;o+=l)if(r=n[o],i=n[o+1],ol.extent.containsXY(e,r,i))return!0;return!1},ol.geom.MultiPoint.prototype.setCoordinates=function(e,o){e?(this.setLayout(o,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},goog.provide("ol.geom.flat.center"),goog.require("ol.extent"),ol.geom.flat.center.linearRingss=function(e,o,t,r){var i,n,l=[],a=ol.extent.createEmpty();for(i=0,n=t.length;i<n;++i){var s=t[i];a=ol.extent.createOrUpdateFromFlatCoordinates(e,o,s[0],r),l.push((a[0]+a[2])/2,(a[1]+a[3])/2),o=s[s.length-1]}return l},goog.provide("ol.geom.MultiPolygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.center"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiPolygon=function(e,o){ol.geom.SimpleGeometry.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,o)},ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry),ol.geom.MultiPolygon.prototype.appendPolygon=function(e){var o;if(this.flatCoordinates){var t=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()),o=e.getEnds().slice();var r,i;for(r=0,i=o.length;r<i;++r)o[r]+=t}else this.flatCoordinates=e.getFlatCoordinates().slice(),o=e.getEnds().slice(),this.endss_.push();this.endss_.push(o),this.changed()},ol.geom.MultiPolygon.prototype.clone=function(){for(var e=new ol.geom.MultiPolygon(null),o=this.endss_.length,t=new Array(o),r=0;r<o;++r)t[r]=this.endss_[r].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),t),e},ol.geom.MultiPolygon.prototype.closestPointXY=function(e,o,t,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,o,t,r))},ol.geom.MultiPolygon.prototype.containsXY=function(e,o){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,o)},ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var o;return void 0!==e?(o=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRingss(o,0,this.endss_,this.stride,e)):o=this.flatCoordinates,ol.geom.flat.inflate.coordinatesss(o,0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_},ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice()),e},ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var o=[],t=[];o.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),o,0,t);var r=new ol.geom.MultiPolygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,o,t),r},ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var o;if(0===e)o=0;else{var t=this.endss_[e-1];o=t[t.length-1]}var r=this.endss_[e].slice(),i=r[r.length-1];if(0!==o){var n,l;for(n=0,l=r.length;n<l;++n)r[n]-=o}var a=new ol.geom.Polygon(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(o,i),r),a},ol.geom.MultiPolygon.prototype.getPolygons=function(){var e,o,t,r,i=this.layout,n=this.flatCoordinates,l=this.endss_,a=[],s=0;for(e=0,o=l.length;e<o;++e){var p=l[e].slice(),g=p[p.length-1];if(0!==s)for(t=0,r=p.length;t<r;++t)p[t]-=s;var c=new ol.geom.Polygon(null);c.setFlatCoordinates(i,n.slice(s,g),p),a.push(c),s=g}return a},ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON},ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},ol.geom.MultiPolygon.prototype.setCoordinates=function(e,o){if(e){this.setLayout(o,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var t=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===t.length)this.flatCoordinates.length=0;else{var r=t[t.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)},ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,o,t){this.setFlatCoordinatesInternal(e,o),this.endss_=t,this.changed()},ol.geom.MultiPolygon.prototype.setPolygons=function(e){var o,t,r,i=this.getLayout(),n=[],l=[];for(o=0,t=e.length;o<t;++o){var a=e[o];0===o&&(i=a.getLayout());var s=n.length;r=a.getEnds();var p,g;for(p=0,g=r.length;p<g;++p)r[p]+=s;ol.array.extend(n,a.getFlatCoordinates()),l.push(r)}this.setFlatCoordinates(i,n,l)},goog.provide("ol.format.EsriJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.orient"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.EsriJSON=function(e){var o=e||{};ol.format.JSONFeature.call(this),this.geometryName_=o.geometryName},ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature),ol.format.EsriJSON.readGeometry_=function(e,o){if(!e)return null;var t;if("number"==typeof e.x&&"number"==typeof e.y)t=ol.geom.GeometryType.POINT;else if(e.points)t=ol.geom.GeometryType.MULTI_POINT;else if(e.paths)t=1===e.paths.length?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING;else if(e.rings){var r=ol.format.EsriJSON.getGeometryLayout_(e),i=ol.format.EsriJSON.convertRings_(e.rings,r);e=ol.obj.assign({},e),1===i.length?(t=ol.geom.GeometryType.POLYGON,e.rings=i[0]):(t=ol.geom.GeometryType.MULTI_POLYGON,e.rings=i)}var n=ol.format.EsriJSON.GEOMETRY_READERS_[t];return ol.format.Feature.transformWithOptions(n(e),!1,o)},ol.format.EsriJSON.convertRings_=function(e,o){var t,r,i=[],n=[],l=[];for(t=0,r=e.length;t<r;++t){i.length=0,ol.geom.flat.deflate.coordinates(i,0,e[t],o.length);ol.geom.flat.orient.linearRingIsClockwise(i,0,i.length,o.length)?n.push([e[t]]):l.push(e[t])}for(;l.length;){var a=l.shift(),s=!1;for(t=n.length-1;t>=0;t--){var p=n[t][0];if(ol.extent.containsExtent(new ol.geom.LinearRing(p).getExtent(),new ol.geom.LinearRing(a).getExtent())){n[t].push(a),s=!0;break}}s||n.push([a.reverse()])}return n},ol.format.EsriJSON.readPointGeometry_=function(e){return void 0!==e.m&&void 0!==e.z?new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM):void 0!==e.z?new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ):void 0!==e.m?new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM):new ol.geom.Point([e.x,e.y])},ol.format.EsriJSON.readLineStringGeometry_=function(e){var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],o)},ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,o)},ol.format.EsriJSON.getGeometryLayout_=function(e){var o=ol.geom.GeometryLayout.XY;return!0===e.hasZ&&!0===e.hasM?o=ol.geom.GeometryLayout.XYZM:!0===e.hasZ?o=ol.geom.GeometryLayout.XYZ:!0===e.hasM&&(o=ol.geom.GeometryLayout.XYM),o},ol.format.EsriJSON.readMultiPointGeometry_=function(e){var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,o)},ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,o)},ol.format.EsriJSON.readPolygonGeometry_=function(e){var o=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,o)},ol.format.EsriJSON.writePointGeometry_=function(e,o){var t,r=e.getCoordinates(),i=e.getLayout();return i===ol.geom.GeometryLayout.XYZ?t={x:r[0],y:r[1],z:r[2]}:i===ol.geom.GeometryLayout.XYM?t={x:r[0],y:r[1],m:r[2]}:i===ol.geom.GeometryLayout.XYZM?t={x:r[0],y:r[1],z:r[2],m:r[3]}:i===ol.geom.GeometryLayout.XY?t={x:r[0],y:r[1]}:ol.asserts.assert(!1,34),t},ol.format.EsriJSON.getHasZM_=function(e){var o=e.getLayout();return{hasZ:o===ol.geom.GeometryLayout.XYZ||o===ol.geom.GeometryLayout.XYZM,hasM:o===ol.geom.GeometryLayout.XYM||o===ol.geom.GeometryLayout.XYZM}},ol.format.EsriJSON.writeLineStringGeometry_=function(e,o){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:[e.getCoordinates()]}},ol.format.EsriJSON.writePolygonGeometry_=function(e,o){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,rings:e.getCoordinates(!1)}},ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e,o){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPointGeometry_=function(e,o){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,points:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e,o){for(var t=ol.format.EsriJSON.getHasZM_(e),r=e.getCoordinates(!1),i=[],n=0;n<r.length;n++)for(var l=r[n].length-1;l>=0;l--)i.push(r[n][l]);return{hasZ:t.hasZ,hasM:t.hasM,rings:i}},ol.format.EsriJSON.GEOMETRY_READERS_={},ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_={},ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_,ol.format.EsriJSON.prototype.readFeature,ol.format.EsriJSON.prototype.readFeatures,ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,o){var t=e,r=ol.format.EsriJSON.readGeometry_(t.geometry,o),i=new ol.Feature;return this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(r),o&&o.idField&&t.attributes[o.idField]&&i.setId(t.attributes[o.idField]),t.attributes&&i.setProperties(t.attributes),i},ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,o){var t=e,r=o||{};if(t.features){var i,n,l=e,a=[],s=l.features;for(r.idField=e.objectIdFieldName,i=0,n=s.length;i<n;++i)a.push(this.readFeatureFromObject(s[i],r));return a}return[this.readFeatureFromObject(e,r)]},ol.format.EsriJSON.prototype.readGeometry,ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,o){return ol.format.EsriJSON.readGeometry_(e,o)},ol.format.EsriJSON.prototype.readProjection,ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){var o=e;if(o.spatialReference&&o.spatialReference.wkid){var t=o.spatialReference.wkid;return ol.proj.get("EPSG:"+t)}return null},ol.format.EsriJSON.writeGeometry_=function(e,o){return(0,ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()])(ol.format.Feature.transformWithOptions(e,!0,o),o)},ol.format.EsriJSON.prototype.writeGeometry,ol.format.EsriJSON.prototype.writeGeometryObject=function(e,o){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(o))},ol.format.EsriJSON.prototype.writeFeature,ol.format.EsriJSON.prototype.writeFeatureObject=function(e,o){o=this.adaptOptions(o);var t={},r=e.getGeometry();r&&(t.geometry=ol.format.EsriJSON.writeGeometry_(r,o),o&&o.featureProjection&&(t.geometry.spatialReference={wkid:ol.proj.get(o.featureProjection).getCode().split(":").pop()}));var i=e.getProperties();return delete i[e.getGeometryName()],ol.obj.isEmpty(i)?t.attributes={}:t.attributes=i,t},ol.format.EsriJSON.prototype.writeFeatures,ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,o){o=this.adaptOptions(o);var t,r,i=[];for(t=0,r=e.length;t<r;++t)i.push(this.writeFeatureObject(e[t],o));return{features:i}},goog.provide("ol.format.filter.Filter"),ol.format.filter.Filter=function(e){this.tagName_=e},ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_},goog.provide("ol.format.filter.LogicalNary"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.filter.Filter"),ol.format.filter.LogicalNary=function(e,o){ol.format.filter.Filter.call(this,e),this.conditions=Array.prototype.slice.call(arguments,1),ol.asserts.assert(this.conditions.length>=2,57)},ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter),goog.provide("ol.format.filter.And"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.And=function(e){var o=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,o)},ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Bbox"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Bbox=function(e,o,t){ol.format.filter.Filter.call(this,"BBOX"),this.geometryName=e,this.extent=o,this.srsName=t},ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter),goog.provide("ol.format.filter.Comparison"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Comparison=function(e,o){ol.format.filter.Filter.call(this,e),this.propertyName=o},ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter),goog.provide("ol.format.filter.During"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.During=function(e,o,t){ol.format.filter.Comparison.call(this,"During",e),this.begin=o,this.end=t},ol.inherits(ol.format.filter.During,ol.format.filter.Comparison),goog.provide("ol.format.filter.ComparisonBinary"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.ComparisonBinary=function(e,o,t,r){ol.format.filter.Comparison.call(this,e,o),this.expression=t,this.matchCase=r},ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison),goog.provide("ol.format.filter.EqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.EqualTo=function(e,o,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",e,o,t)},ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThan=function(e,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",e,o)},ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThanOrEqualTo=function(e,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",e,o)},ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Spatial"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Spatial=function(e,o,t,r){ol.format.filter.Filter.call(this,e),this.geometryName=o||"the_geom",this.geometry=t,this.srsName=r},ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter),goog.provide("ol.format.filter.Intersects"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Intersects=function(e,o,t){ol.format.filter.Spatial.call(this,"Intersects",e,o,t)},ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial);goog.provide("ol.format.filter.IsBetween"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsBetween=function(e,o,t){ol.format.filter.Comparison.call(this,"PropertyIsBetween",e),this.lowerBoundary=o,this.upperBoundary=t},ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsLike"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsLike=function(e,o,t,r,i,n){ol.format.filter.Comparison.call(this,"PropertyIsLike",e),this.pattern=o,this.wildCard=void 0!==t?t:"*",this.singleChar=void 0!==r?r:".",this.escapeChar=void 0!==i?i:"!",this.matchCase=n},ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsNull"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsNull=function(e){ol.format.filter.Comparison.call(this,"PropertyIsNull",e)},ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison),goog.provide("ol.format.filter.LessThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThan=function(e,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",e,o)},ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.LessThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThanOrEqualTo=function(e,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",e,o)},ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Not"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Not=function(e){ol.format.filter.Filter.call(this,"Not"),this.condition=e},ol.inherits(ol.format.filter.Not,ol.format.filter.Filter),goog.provide("ol.format.filter.NotEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.NotEqualTo=function(e,o,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",e,o,t)},ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Or"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.Or=function(e){var o=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,o)},ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Within"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Within=function(e,o,t){ol.format.filter.Spatial.call(this,"Within",e,o,t)},ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial),goog.provide("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.During"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Within"),ol.format.filter.and=function(e){var o=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,o))},ol.format.filter.or=function(e){var o=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,o))},ol.format.filter.not=function(e){return new ol.format.filter.Not(e)},ol.format.filter.bbox=function(e,o,t){return new ol.format.filter.Bbox(e,o,t)},ol.format.filter.intersects=function(e,o,t){return new ol.format.filter.Intersects(e,o,t)},ol.format.filter.within=function(e,o,t){return new ol.format.filter.Within(e,o,t)},ol.format.filter.equalTo=function(e,o,t){return new ol.format.filter.EqualTo(e,o,t)},ol.format.filter.notEqualTo=function(e,o,t){return new ol.format.filter.NotEqualTo(e,o,t)},ol.format.filter.lessThan=function(e,o){return new ol.format.filter.LessThan(e,o)},ol.format.filter.lessThanOrEqualTo=function(e,o){return new ol.format.filter.LessThanOrEqualTo(e,o)},ol.format.filter.greaterThan=function(e,o){return new ol.format.filter.GreaterThan(e,o)},ol.format.filter.greaterThanOrEqualTo=function(e,o){return new ol.format.filter.GreaterThanOrEqualTo(e,o)},ol.format.filter.isNull=function(e){return new ol.format.filter.IsNull(e)},ol.format.filter.between=function(e,o,t){return new ol.format.filter.IsBetween(e,o,t)},ol.format.filter.like=function(e,o,t,r,i,n){return new ol.format.filter.IsLike(e,o,t,r,i,n)},ol.format.filter.during=function(e,o,t){return new ol.format.filter.During(e,o,t)},
goog.provide("ol.geom.GeometryCollection"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryType"),goog.require("ol.obj"),ol.geom.GeometryCollection=function(e){ol.geom.Geometry.call(this),this.geometries_=e||null,this.listenGeometriesChange_()},ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry),ol.geom.GeometryCollection.cloneGeometries_=function(e){var o,t,r=[];for(o=0,t=e.length;o<t;++o)r.push(e[o].clone());return r},ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,o;if(this.geometries_)for(e=0,o=this.geometries_.length;e<o;++e)ol.events.unlisten(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,o;if(this.geometries_)for(e=0,o=this.geometries_.length;e<o;++e)ol.events.listen(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);return e.setGeometries(this.geometries_),e},ol.geom.GeometryCollection.prototype.closestPointXY=function(e,o,t,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,o))return r;var i,n,l=this.geometries_;for(i=0,n=l.length;i<n;++i)r=l[i].closestPointXY(e,o,t,r);return r},ol.geom.GeometryCollection.prototype.containsXY=function(e,o){var t,r,i=this.geometries_;for(t=0,r=i.length;t<r;++t)if(i[t].containsXY(e,o))return!0;return!1},ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);for(var o=this.geometries_,t=0,r=o.length;t<r;++t)ol.extent.extend(e,o[t].getExtent());return e},ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)},ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_},ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(o))return this.simplifiedGeometryCache[o];var t,r,i=[],n=this.geometries_,l=!1;for(t=0,r=n.length;t<r;++t){var a=n[t],s=a.getSimplifiedGeometry(e);i.push(s),s!==a&&(l=!0)}if(l){var p=new ol.geom.GeometryCollection(null);return p.setGeometriesArray(i),this.simplifiedGeometryCache[o]=p,p}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION},ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var o,t,r=this.geometries_;for(o=0,t=r.length;o<t;++o)if(r[o].intersectsExtent(e))return!0;return!1},ol.geom.GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length},ol.geom.GeometryCollection.prototype.rotate=function(e,o){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)t[r].rotate(e,o);this.changed()},ol.geom.GeometryCollection.prototype.scale=function(e,o,t){var r=t;r||(r=ol.extent.getCenter(this.getExtent()));for(var i=this.geometries_,n=0,l=i.length;n<l;++n)i[n].scale(e,o,r);this.changed()},ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))},ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},ol.geom.GeometryCollection.prototype.applyTransform=function(e){var o,t,r=this.geometries_;for(o=0,t=r.length;o<t;++o)r[o].applyTransform(e);this.changed()},ol.geom.GeometryCollection.prototype.translate=function(e,o){var t,r,i=this.geometries_;for(t=0,r=i.length;t<r;++t)i[t].translate(e,o);this.changed()},ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),ol.geom.Geometry.prototype.disposeInternal.call(this)},goog.provide("ol.format.GeoJSON"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.GeoJSON=function(e){var o=e||{};ol.format.JSONFeature.call(this),this.defaultDataProjection=ol.proj.get(o.defaultDataProjection?o.defaultDataProjection:"EPSG:4326"),o.featureProjection&&(this.defaultFeatureProjection=ol.proj.get(o.featureProjection)),this.geometryName_=o.geometryName},ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature),ol.format.GeoJSON.readGeometry_=function(e,o){if(!e)return null;var t=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return ol.format.Feature.transformWithOptions(t(e),!1,o)},ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,o){var t=e.geometries.map(function(e){return ol.format.GeoJSON.readGeometry_(e,o)});return new ol.geom.GeometryCollection(t)},ol.format.GeoJSON.readPointGeometry_=function(e){return new ol.geom.Point(e.coordinates)},ol.format.GeoJSON.readLineStringGeometry_=function(e){return new ol.geom.LineString(e.coordinates)},ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return new ol.geom.MultiLineString(e.coordinates)},ol.format.GeoJSON.readMultiPointGeometry_=function(e){return new ol.geom.MultiPoint(e.coordinates)},ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return new ol.geom.MultiPolygon(e.coordinates)},ol.format.GeoJSON.readPolygonGeometry_=function(e){return new ol.geom.Polygon(e.coordinates)},ol.format.GeoJSON.writeGeometry_=function(e,o){return(0,ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()])(ol.format.Feature.transformWithOptions(e,!0,o),o)},ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(e){return{type:"GeometryCollection",geometries:[]}},ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,o){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var t=ol.obj.assign({},o);return delete t.featureProjection,ol.format.GeoJSON.writeGeometry_(e,t)})}},ol.format.GeoJSON.writeLineStringGeometry_=function(e,o){return{type:"LineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e,o){return{type:"MultiLineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPointGeometry_=function(e,o){return{type:"MultiPoint",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,o){var t;return o&&(t=o.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(t)}},ol.format.GeoJSON.writePointGeometry_=function(e,o){return{type:"Point",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writePolygonGeometry_=function(e,o){var t;return o&&(t=o.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(t)}},ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_},ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_},ol.format.GeoJSON.prototype.readFeature,ol.format.GeoJSON.prototype.readFeatures,ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,o){var t=null;t="Feature"===e.type?e:{type:"Feature",geometry:e};var r=ol.format.GeoJSON.readGeometry_(t.geometry,o),i=new ol.Feature;return this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(r),void 0!==t.id&&i.setId(t.id),t.properties&&i.setProperties(t.properties),i},ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,o){var t=e,r=null;if("FeatureCollection"===t.type){var i=e;r=[];var n,l,a=i.features;for(n=0,l=a.length;n<l;++n)r.push(this.readFeatureFromObject(a[n],o))}else r=[this.readFeatureFromObject(e,o)];return r},ol.format.GeoJSON.prototype.readGeometry,ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,o){return ol.format.GeoJSON.readGeometry_(e,o)},ol.format.GeoJSON.prototype.readProjection,ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var o,t=e,r=t.crs;return r?"name"==r.type?o=ol.proj.get(r.properties.name):"EPSG"==r.type?o=ol.proj.get("EPSG:"+r.properties.code):ol.asserts.assert(!1,36):o=this.defaultDataProjection,o},ol.format.GeoJSON.prototype.writeFeature,ol.format.GeoJSON.prototype.writeFeatureObject=function(e,o){o=this.adaptOptions(o);var t={type:"Feature"},r=e.getId();void 0!==r&&(t.id=r);var i=e.getGeometry();t.geometry=i?ol.format.GeoJSON.writeGeometry_(i,o):null;var n=e.getProperties();return delete n[e.getGeometryName()],ol.obj.isEmpty(n)?t.properties=null:t.properties=n,t},ol.format.GeoJSON.prototype.writeFeatures,ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,o){o=this.adaptOptions(o);var t,r,i=[];for(t=0,r=e.length;t<r;++t)i.push(this.writeFeatureObject(e[t],o));return{type:"FeatureCollection",features:i}},ol.format.GeoJSON.prototype.writeGeometry,ol.format.GeoJSON.prototype.writeGeometryObject=function(e,o){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(o))},goog.provide("ol.format.XMLFeature"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer,ol.format.Feature.call(this)},ol.inherits(ol.format.XMLFeature,ol.format.Feature),ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML},ol.format.XMLFeature.prototype.readFeature=function(e,o){if(ol.xml.isDocument(e))return this.readFeatureFromDocument(e,o);if(ol.xml.isNode(e))return this.readFeatureFromNode(e,o);if("string"==typeof e){var t=ol.xml.parse(e);return this.readFeatureFromDocument(t,o)}return null},ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,o){var t=this.readFeaturesFromDocument(e,o);return t.length>0?t[0]:null},ol.format.XMLFeature.prototype.readFeatureFromNode=function(e,o){return null},ol.format.XMLFeature.prototype.readFeatures=function(e,o){if(ol.xml.isDocument(e))return this.readFeaturesFromDocument(e,o);if(ol.xml.isNode(e))return this.readFeaturesFromNode(e,o);if("string"==typeof e){var t=ol.xml.parse(e);return this.readFeaturesFromDocument(t,o)}return[]},ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,o){var t,r=[];for(t=e.firstChild;t;t=t.nextSibling)t.nodeType==Node.ELEMENT_NODE&&ol.array.extend(r,this.readFeaturesFromNode(t,o));return r},ol.format.XMLFeature.prototype.readFeaturesFromNode=function(e,o){},ol.format.XMLFeature.prototype.readGeometry=function(e,o){if(ol.xml.isDocument(e))return this.readGeometryFromDocument(e,o);if(ol.xml.isNode(e))return this.readGeometryFromNode(e,o);if("string"==typeof e){var t=ol.xml.parse(e);return this.readGeometryFromDocument(t,o)}return null},ol.format.XMLFeature.prototype.readGeometryFromDocument=function(e,o){return null},ol.format.XMLFeature.prototype.readGeometryFromNode=function(e,o){return null},ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e))return this.readProjectionFromDocument(e);if(ol.xml.isNode(e))return this.readProjectionFromNode(e);if("string"==typeof e){var o=ol.xml.parse(e);return this.readProjectionFromDocument(o)}return null},ol.format.XMLFeature.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.writeFeature=function(e,o){var t=this.writeFeatureNode(e,o);return this.xmlSerializer_.serializeToString(t)},ol.format.XMLFeature.prototype.writeFeatureNode=function(e,o){return null},ol.format.XMLFeature.prototype.writeFeatures=function(e,o){var t=this.writeFeaturesNode(e,o);return this.xmlSerializer_.serializeToString(t)},ol.format.XMLFeature.prototype.writeFeaturesNode=function(e,o){return null},ol.format.XMLFeature.prototype.writeGeometry=function(e,o){var t=this.writeGeometryNode(e,o);return this.xmlSerializer_.serializeToString(t)},ol.format.XMLFeature.prototype.writeGeometryNode=function(e,o){return null},goog.provide("ol.format.GMLBase"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj");goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GMLBase=function(e){var o=e||{};this.featureType=o.featureType,this.featureNS=o.featureNS,this.srsName=o.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)},ol.format.XMLFeature.call(this)},ol.inherits(ol.format.GMLBase,ol.format.XMLFeature),ol.format.GMLBase.GMLNS="http://www.opengis.net/gml",ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/,ol.format.GMLBase.prototype.readFeaturesInternal=function(e,o){var t=e.localName,r=null;if("FeatureCollection"==t)r="http://www.opengis.net/wfs"===e.namespaceURI?ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,o,this):ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,o,this);else if("featureMembers"==t||"featureMember"==t){var i,n,l=o[0],a=l.featureType,s=l.featureNS;if(!a&&e.childNodes){for(a=[],s={},i=0,n=e.childNodes.length;i<n;++i){var p=e.childNodes[i];if(1===p.nodeType){var g=p.nodeName.split(":").pop();if(-1===a.indexOf(g)){var c="",u=0,y=p.namespaceURI;for(var h in s){if(s[h]===y){c=h;break}++u}c||(c="p"+u,s[c]=y),a.push(c+":"+g)}}}"featureMember"!=t&&(l.featureType=a,l.featureNS=s)}if("string"==typeof s){var d=s;s={},s.p0=d}var m={},f=Array.isArray(a)?a:[a];for(var _ in s){var v={};for(i=0,n=f.length;i<n;++i){var S=-1===f[i].indexOf(":")?"p0":f[i].split(":")[0];S===_&&(v[f[i].split(":").pop()]="featureMembers"==t?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this))}m[s[_]]=v}r="featureMember"==t?ol.xml.pushParseAndPop(void 0,m,e,o):ol.xml.pushParseAndPop([],m,e,o)}return null===r&&(r=[]),r},ol.format.GMLBase.prototype.readGeometryElement=function(e,o){var t=o[0];t.srsName=e.firstElementChild.getAttribute("srsName"),t.srsDimension=e.firstElementChild.getAttribute("srsDimension");var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,o,this);return r?ol.format.Feature.transformWithOptions(r,!1,t):void 0},ol.format.GMLBase.prototype.readFeatureElement=function(e,o){var t,r,i=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id"),n={};for(t=e.firstElementChild;t;t=t.nextElementSibling){var l=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var a=ol.xml.getAllTextContent(t,!1);ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(a)&&(a=void 0),n[l]=a}else"boundedBy"!==l&&(r=l),n[l]=this.readGeometryElement(t,o)}var s=new ol.Feature(n);return r&&s.setGeometryName(r),i&&s.setId(i),s},ol.format.GMLBase.prototype.readPoint=function(e,o){var t=this.readFlatCoordinatesFromNode_(e,o);if(t){var r=new ol.geom.Point(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}},ol.format.GMLBase.prototype.readMultiPoint=function(e,o){var t=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,o,this);return t?new ol.geom.MultiPoint(t):void 0},ol.format.GMLBase.prototype.readMultiLineString=function(e,o){var t=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,o,this);if(t){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r}},ol.format.GMLBase.prototype.readMultiPolygon=function(e,o){var t=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,o,this);if(t){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(t),r}},ol.format.GMLBase.prototype.pointMemberParser_=function(e,o){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,o){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.polygonMemberParser_=function(e,o){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.readLineString=function(e,o){var t=this.readFlatCoordinatesFromNode_(e,o);if(t){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}},ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,o){var t=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this);return t||void 0},ol.format.GMLBase.prototype.readLinearRing=function(e,o){var t=this.readFlatCoordinatesFromNode_(e,o);if(t){var r=new ol.geom.LinearRing(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}},ol.format.GMLBase.prototype.readPolygon=function(e,o){var t=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,o,this);if(t&&t[0]){var r,i,n=new ol.geom.Polygon(null),l=t[0],a=[l.length];for(r=1,i=t.length;r<i;++r)ol.array.extend(l,t[r]),a.push(l.length);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,l,a),n}},ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,o){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this)},ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}},ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}},ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}},ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}},ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}},ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}},ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}},ol.format.GMLBase.prototype.readGeometryFromNode=function(e,o){var t=this.readGeometryElement(e,[this.getReadOptions(e,o||{})]);return t||null},ol.format.GMLBase.prototype.readFeatures,ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,o){var t={featureType:this.featureType,featureNS:this.featureNS};return o&&ol.obj.assign(t,this.getReadOptions(e,o)),this.readFeaturesInternal(e,[t])||[]},ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},goog.provide("ol.format.XSD"),goog.require("ol.xml"),goog.require("ol.string"),ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",ol.format.XSD.readBoolean=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readBooleanString(o)},ol.format.XSD.readBooleanString=function(e){var o=/^\s*(true|1)|(false|0)\s*$/.exec(e);return o?void 0!==o[1]||!1:void 0},ol.format.XSD.readDateTime=function(e){var o=ol.xml.getAllTextContent(e,!1),t=Date.parse(o);return isNaN(t)?void 0:t/1e3},ol.format.XSD.readDecimal=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readDecimalString(o)},ol.format.XSD.readDecimalString=function(e){var o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return o?parseFloat(o[1]):void 0},ol.format.XSD.readNonNegativeInteger=function(e){var o=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readNonNegativeIntegerString(o)},ol.format.XSD.readNonNegativeIntegerString=function(e){var o=/^\s*(\d+)\s*$/.exec(e);return o?parseInt(o[1],10):void 0},ol.format.XSD.readString=function(e){return ol.xml.getAllTextContent(e,!1).trim()},ol.format.XSD.writeBooleanTextNode=function(e,o){ol.format.XSD.writeStringTextNode(e,o?"1":"0")},ol.format.XSD.writeCDATASection=function(e,o){e.appendChild(ol.xml.DOCUMENT.createCDATASection(o))},ol.format.XSD.writeDateTimeTextNode=function(e,o){var t=new Date(1e3*o),r=t.getUTCFullYear()+"-"+ol.string.padNumber(t.getUTCMonth()+1,2)+"-"+ol.string.padNumber(t.getUTCDate(),2)+"T"+ol.string.padNumber(t.getUTCHours(),2)+":"+ol.string.padNumber(t.getUTCMinutes(),2)+":"+ol.string.padNumber(t.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(r))},ol.format.XSD.writeDecimalTextNode=function(e,o){var t=o.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(t))},ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,o){var t=o.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(t))},ol.format.XSD.writeStringTextNode=function(e,o){e.appendChild(ol.xml.DOCUMENT.createTextNode(o))},goog.provide("ol.format.GML3"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML3=function(e){var o=e||{};ol.format.GMLBase.call(this,o),this.surface_=void 0!==o.surface&&o.surface,this.curve_=void 0!==o.curve&&o.curve,this.multiCurve_=void 0===o.multiCurve||o.multiCurve,this.multiSurface_=void 0===o.multiSurface||o.multiSurface,this.schemaLocation=o.schemaLocation?o.schemaLocation:ol.format.GML3.schemaLocation_,this.hasZ=void 0!==o.hasZ&&o.hasZ},ol.inherits(ol.format.GML3,ol.format.GMLBase),ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",ol.format.GML3.prototype.readMultiCurve_=function(e,o){var t=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,o,this);if(t){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r}},ol.format.GML3.prototype.readMultiSurface_=function(e,o){var t=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,o,this);if(t){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(t),r}},ol.format.GML3.prototype.curveMemberParser_=function(e,o){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,o,this)},ol.format.GML3.prototype.surfaceMemberParser_=function(e,o){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,o,this)},ol.format.GML3.prototype.readPatch_=function(e,o){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,o,this)},ol.format.GML3.prototype.readSegment_=function(e,o){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,o,this)},ol.format.GML3.prototype.readPolygonPatch_=function(e,o){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,o,this)},ol.format.GML3.prototype.readLineStringSegment_=function(e,o){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o,this)},ol.format.GML3.prototype.interiorParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(t){o[o.length-1].push(t)}},ol.format.GML3.prototype.exteriorParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(t){o[o.length-1][0]=t}},ol.format.GML3.prototype.readSurface_=function(e,o){var t=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,o,this);if(t&&t[0]){var r,i,n=new ol.geom.Polygon(null),l=t[0],a=[l.length];for(r=1,i=t.length;r<i;++r)ol.array.extend(l,t[r]),a.push(l.length);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,l,a),n}},ol.format.GML3.prototype.readCurve_=function(e,o){var t=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,o,this);if(t){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,t),r}},ol.format.GML3.prototype.readEnvelope_=function(e,o){var t=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,o,this);return ol.extent.createOrUpdate(t[1][0],t[1][1],t[2][0],t[2][1])},ol.format.GML3.prototype.readFlatPos_=function(e,o){for(var t,r=ol.xml.getAllTextContent(e,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[];t=i.exec(r);)n.push(parseFloat(t[1])),r=r.substr(t[0].length);if(""===r){var l=o[0],a=l.srsName,s="enu";if(a){s=ol.proj.get(a).getAxisOrientation()}if("neu"===s){var p,g;for(p=0,g=n.length;p<g;p+=3){var c=n[p],u=n[p+1];n[p]=u,n[p+1]=c}}var y=n.length;if(2==y&&n.push(0),0!==y)return n}},ol.format.GML3.prototype.readFlatPosList_=function(e,o){var t=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=o[0],i=r.srsName,n=r.srsDimension,l="enu";if(i){l=ol.proj.get(i).getAxisOrientation()}var a=t.split(/\s+/),s=2;e.getAttribute("srsDimension")?s=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension")):e.getAttribute("dimension")?s=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?s=ol.format.XSD.readNonNegativeIntegerString(e.parentNode.getAttribute("srsDimension")):n&&(s=ol.format.XSD.readNonNegativeIntegerString(n));for(var p,g,c,u=[],y=0,h=a.length;y<h;y+=s)p=parseFloat(a[y]),g=parseFloat(a[y+1]),c=3===s?parseFloat(a[y+2]):0,"en"===l.substr(0,2)?u.push(p,g,c):u.push(g,p,c);return u},ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}},ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}},ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}},ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}},ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}},ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}},ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}},ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}},ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}},ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}},ol.format.GML3.prototype.writePos_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=i?3:2;e.setAttribute("srsDimension",n);var l=r.srsName,a="enu";l&&(a=ol.proj.get(l).getAxisOrientation());var s,p=o.getCoordinates();if(s="en"===a.substr(0,2)?p[0]+" "+p[1]:p[1]+" "+p[0],i){s+=" "+(p[2]||0)}ol.format.XSD.writeStringTextNode(e,s)},ol.format.GML3.prototype.getCoords_=function(e,o,t){var r="enu";o&&(r=ol.proj.get(o).getAxisOrientation());var i="en"===r.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];if(t){i+=" "+(e[2]||0)}return i},ol.format.GML3.prototype.writePosList_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=i?3:2;e.setAttribute("srsDimension",n);for(var l,a=r.srsName,s=o.getCoordinates(),p=s.length,g=new Array(p),c=0;c<p;++c)l=s[c],g[c]=this.getCoords_(l,a,i);ol.format.XSD.writeStringTextNode(e,g.join(" "))},ol.format.GML3.prototype.writePoint_=function(e,o,t){var r=t[t.length-1],i=r.srsName;i&&e.setAttribute("srsName",i);var n=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(n),this.writePos_(n,o,t)},ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.GML3.prototype.writeEnvelope=function(e,o,t){var r=t[t.length-1],i=r.srsName;i&&e.setAttribute("srsName",i);var n=["lowerCorner","upperCorner"],l=[o[0]+" "+o[1],o[2]+" "+o[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,n,this)},ol.format.GML3.prototype.writeLinearRing_=function(e,o,t){var r=t[t.length-1],i=r.srsName;i&&e.setAttribute("srsName",i);var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n),this.writePosList_(n,o,t)},ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,o,t){
var r=o[o.length-1],i=r.node,n=r.exteriorWritten;return void 0===n&&(r.exteriorWritten=!0),ol.xml.createElementNS(i.namespaceURI,void 0!==n?"interior":"exterior")},ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var l=o.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,t,void 0,this)}else if("Surface"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,o,t)}},ol.format.GML3.prototype.writeCurveOrLineString_=function(e,o,t){var r=t[t.length-1],i=r.srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n),this.writePosList_(n,o,t)}else if("Curve"===e.nodeName){var l=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(l),this.writeCurveSegments_(l,o,t)}},ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName,l=r.surface;n&&e.setAttribute("srsName",n);var a=o.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:l},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML3.prototype.writeMultiPoint_=function(e,o,t){var r=t[t.length-1],i=r.srsName,n=r.hasZ;i&&e.setAttribute("srsName",i);var l=o.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,t,void 0,this)},ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName,l=r.curve;n&&e.setAttribute("srsName",n);var a=o.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:l},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML3.prototype.writeRing_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing_(r,o,t)},ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,o,t){var r=this.GEOMETRY_NODE_FACTORY_(o,t);r&&(e.appendChild(r),this.writeSurfaceOrPolygon_(r,o,t))},ol.format.GML3.prototype.writePointMember_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r),this.writePoint_(r,o,t)},ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,o,t){var r=this.GEOMETRY_NODE_FACTORY_(o,t);r&&(e.appendChild(r),this.writeCurveOrLineString_(r,o,t))},ol.format.GML3.prototype.writeSurfacePatches_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon_(r,o,t)},ol.format.GML3.prototype.writeCurveSegments_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString_(r,o,t)},ol.format.GML3.prototype.writeGeometryElement=function(e,o,t){var r=t[t.length-1],i=ol.obj.assign({},r);i.node=e;var n;n=Array.isArray(o)?r.dataProjection?ol.proj.transformExtent(o,r.featureProjection,r.dataProjection):o:ol.format.Feature.transformWithOptions(o,!0,r),ol.xml.pushSerializeAndPop(i,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],t,void 0,this)},ol.format.GML3.prototype.writeFeatureElement=function(e,o,t){var r=o.getId();r&&e.setAttribute("fid",r);var i=t[t.length-1],n=i.featureNS,l=o.getGeometryName();i.serializers||(i.serializers={},i.serializers[n]={});var a=o.getProperties(),s=[],p=[];for(var g in a){var c=a[g];null!==c&&(s.push(g),p.push(c),g==l||c instanceof ol.geom.Geometry?g in i.serializers[n]||(i.serializers[n][g]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):g in i.serializers[n]||(i.serializers[n][g]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var u=ol.obj.assign({},i);u.node=e,ol.xml.pushSerializeAndPop(u,i.serializers,ol.xml.makeSimpleNodeFactory(void 0,n),p,t,s)},ol.format.GML3.prototype.writeFeatureMembers_=function(e,o,t){var r=t[t.length-1],i=r.featureType,n=r.featureNS,l={};l[n]={},l[n][i]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var a=ol.obj.assign({},r);a.node=e,ol.xml.pushSerializeAndPop(a,l,ol.xml.makeSimpleNodeFactory(i,n),o,t)},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}},ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}},ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}},ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])},ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,o,t){var r,i=o[o.length-1],n=i.multiSurface,l=i.surface,a=i.curve,s=i.multiCurve;return Array.isArray(e)?r="Envelope":(r=e.getType(),"MultiPolygon"===r&&!0===n?r="MultiSurface":"Polygon"===r&&!0===l?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===s&&(r="MultiCurve")),ol.xml.createElementNS("http://www.opengis.net/gml",r)},ol.format.GML3.prototype.writeGeometryNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.opengis.net/gml","geom"),r={node:t,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return o&&ol.obj.assign(r,o),this.writeGeometryElement(t,e,[r]),t},ol.format.GML3.prototype.writeFeatures,ol.format.GML3.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return o&&ol.obj.assign(r,o),this.writeFeatureMembers_(t,e,[r]),t},goog.provide("ol.format.GML"),goog.require("ol.format.GML3"),ol.format.GML=ol.format.GML3,ol.format.GML.prototype.writeFeatures,ol.format.GML.prototype.writeFeaturesNode,goog.provide("ol.format.GML2"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML2=function(e){var o=e||{};ol.format.GMLBase.call(this,o),this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal),this.schemaLocation=o.schemaLocation?o.schemaLocation:ol.format.GML2.schemaLocation_},ol.inherits(ol.format.GML2,ol.format.GMLBase),ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",ol.format.GML2.prototype.readFlatCoordinates_=function(e,o){var t=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=o[0],i=r.srsName,n="enu";if(i){var l=ol.proj.get(i);l&&(n=l.getAxisOrientation())}for(var a,s,p,g=t.trim().split(/\s+/),c=[],u=0,y=g.length;u<y;u++){var h=g[u].split(/,+/);a=parseFloat(h[0]),s=parseFloat(h[1]),p=3===h.length?parseFloat(h[2]):0,"en"===n.substr(0,2)?c.push(a,s,p):c.push(s,a,p)}return c},ol.format.GML2.prototype.readBox_=function(e,o){var t=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,o,this);return ol.extent.createOrUpdate(t[1][0],t[1][1],t[1][3],t[1][4])},ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(t){o[o.length-1].push(t)}},ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,o,this);if(t){o[o.length-1][0]=t}},ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}},ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}},ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(e,o,t){var r,i=o[o.length-1],n=i.multiSurface,l=i.surface,a=i.multiCurve;return Array.isArray(e)?r="Envelope":(r=e.getType(),"MultiPolygon"===r&&!0===n?r="MultiSurface":"Polygon"===r&&!0===l?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve")),ol.xml.createElementNS("http://www.opengis.net/gml",r)},ol.format.GML2.prototype.writeFeatureElement=function(e,o,t){var r=o.getId();r&&e.setAttribute("fid",r);var i=t[t.length-1],n=i.featureNS,l=o.getGeometryName();i.serializers||(i.serializers={},i.serializers[n]={});var a=o.getProperties(),s=[],p=[];for(var g in a){var c=a[g];null!==c&&(s.push(g),p.push(c),g==l||c instanceof ol.geom.Geometry?g in i.serializers[n]||(i.serializers[n][g]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):g in i.serializers[n]||(i.serializers[n][g]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var u=ol.obj.assign({},i);u.node=e,ol.xml.pushSerializeAndPop(u,i.serializers,ol.xml.makeSimpleNodeFactory(void 0,n),p,t,s)},ol.format.GML2.prototype.writeGeometryElement=function(e,o,t){var r=t[t.length-1],i=ol.obj.assign({},r);i.node=e;var n;n=Array.isArray(o)?r.dataProjection?ol.proj.transformExtent(o,r.featureProjection,r.dataProjection):o:ol.format.Feature.transformWithOptions(o,!0,r),ol.xml.pushSerializeAndPop(i,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],t,void 0,this)},ol.format.GML2.prototype.writeCurveOrLineString_=function(e,o,t){var r=t[t.length-1],i=r.srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,o,t)}else if("Curve"===e.nodeName){var l=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(l),this.writeCurveSegments_(l,o,t)}},ol.format.GML2.prototype.createCoordinatesNode_=function(e){var o=ol.xml.createElementNS(e,"coordinates");return o.setAttribute("decimal","."),o.setAttribute("cs",","),o.setAttribute("ts"," "),o},ol.format.GML2.prototype.writeCoordinates_=function(e,o,t){for(var r,i=t[t.length-1],n=i.hasZ,l=i.srsName,a=o.getCoordinates(),s=a.length,p=new Array(s),g=0;g<s;++g)r=a[g],p[g]=this.getCoords_(r,l,n);ol.format.XSD.writeStringTextNode(e,p.join(" "))},ol.format.GML2.prototype.writeCurveSegments_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString_(r,o,t)},ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var l=o.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,t,void 0,this)}else if("Surface"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,o,t)}},ol.format.GML2.prototype.RING_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1],i=r.node,n=r.exteriorWritten;return void 0===n&&(r.exteriorWritten=!0),ol.xml.createElementNS(i.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")},ol.format.GML2.prototype.writeSurfacePatches_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon_(r,o,t)},ol.format.GML2.prototype.writeRing_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing_(r,o,t)},ol.format.GML2.prototype.getCoords_=function(e,o,t){var r="enu";o&&(r=ol.proj.get(o).getAxisOrientation());var i="en"===r.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];if(t){i+=","+(e[2]||0)}return i},ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName,l=r.curve;n&&e.setAttribute("srsName",n);var a=o.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:l},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML2.prototype.writePoint_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName;n&&e.setAttribute("srsName",n);var l=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(l);var a=o.getCoordinates(),s=this.getCoords_(a,n,i);ol.format.XSD.writeStringTextNode(l,s)},ol.format.GML2.prototype.writeMultiPoint_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName;n&&e.setAttribute("srsName",n);var l=o.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,t,void 0,this)},ol.format.GML2.prototype.writePointMember_=function(e,o,t){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r),this.writePoint_(r,o,t)},ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(e,o,t){var r=this.GEOMETRY_NODE_FACTORY_(o,t);r&&(e.appendChild(r),this.writeCurveOrLineString_(r,o,t))},ol.format.GML2.prototype.writeLinearRing_=function(e,o,t){var r=t[t.length-1],i=r.srsName;i&&e.setAttribute("srsName",i);var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,o,t)},ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(e,o,t){var r=t[t.length-1],i=r.hasZ,n=r.srsName,l=r.surface;n&&e.setAttribute("srsName",n);var a=o.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:l},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,t,void 0,this)},ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(e,o,t){var r=this.GEOMETRY_NODE_FACTORY_(o,t);r&&(e.appendChild(r),this.writeSurfaceOrPolygon_(r,o,t))},ol.format.GML2.prototype.writeEnvelope=function(e,o,t){var r=t[t.length-1],i=r.srsName;i&&e.setAttribute("srsName",i);var n=["lowerCorner","upperCorner"],l=[o[0]+" "+o[1],o[2]+" "+o[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,n,this)},ol.format.GML2.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}},ol.format.GML2.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}},ol.format.GML2.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}},ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])},ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML2.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},goog.provide("ol.format.GPX"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.Point"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GPX=function(e){var o=e||{};ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.readExtensions_=o.readExtensions},ol.inherits(ol.format.GPX,ol.format.XMLFeature),ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",ol.format.GPX.appendCoordinate_=function(e,o,t,r){return e.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in r?(e.push(r.ele),delete r.ele,o.hasZ=!0):e.push(0),"time"in r?(e.push(r.time),delete r.time,o.hasM=!0):e.push(0),e},ol.format.GPX.applyLayoutOptions_=function(e,o,t){var r=ol.geom.GeometryLayout.XY,i=2;if(e.hasZ&&e.hasM?(r=ol.geom.GeometryLayout.XYZM,i=4):e.hasZ?(r=ol.geom.GeometryLayout.XYZ,i=3):e.hasM&&(r=ol.geom.GeometryLayout.XYM,i=3),4!==i){var n,l;for(n=0,l=o.length/4;n<l;n++)o[n*i]=o[4*n],o[n*i+1]=o[4*n+1],e.hasZ&&(o[n*i+2]=o[4*n+2]),e.hasM&&(o[n*i+2]=o[4*n+3]);if(o.length=o.length/4*i,t)for(n=0,l=t.length;n<l;n++)t[n]=t[n]/4*i}return r},ol.format.GPX.parseLink_=function(e,o){var t=o[o.length-1],r=e.getAttribute("href");null!==r&&(t.link=r),ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,o)},ol.format.GPX.parseExtensions_=function(e,o){o[o.length-1].extensionsNode_=e},ol.format.GPX.parseRtePt_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,o);if(t){var r=o[o.length-1],i=r.flatCoordinates,n=r.layoutOptions;ol.format.GPX.appendCoordinate_(i,n,e,t)}},ol.format.GPX.parseTrkPt_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,o);if(t){var r=o[o.length-1],i=r.flatCoordinates,n=r.layoutOptions;ol.format.GPX.appendCoordinate_(i,n,e,t)}},ol.format.GPX.parseTrkSeg_=function(e,o){var t=o[o.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,o);var r=t.flatCoordinates;t.ends.push(r.length)},ol.format.GPX.readRte_=function(e,o){var t=o[0],r=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,e,o);if(r){var i=r.flatCoordinates;delete r.flatCoordinates;var n=r.layoutOptions;delete r.layoutOptions;var l=ol.format.GPX.applyLayoutOptions_(n,i),a=new ol.geom.LineString(null);a.setFlatCoordinates(l,i),ol.format.Feature.transformWithOptions(a,!1,t);var s=new ol.Feature(a);return s.setProperties(r),s}},ol.format.GPX.readTrk_=function(e,o){var t=o[0],r=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,e,o);if(r){var i=r.flatCoordinates;delete r.flatCoordinates;var n=r.ends;delete r.ends;var l=r.layoutOptions;delete r.layoutOptions;var a=ol.format.GPX.applyLayoutOptions_(l,i,n),s=new ol.geom.MultiLineString(null);s.setFlatCoordinates(a,i,n),ol.format.Feature.transformWithOptions(s,!1,t);var p=new ol.Feature(s);return p.setProperties(r),p}},ol.format.GPX.readWpt_=function(e,o){var t=o[0],r=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,o);if(r){var i={},n=ol.format.GPX.appendCoordinate_([],i,e,r),l=ol.format.GPX.applyLayoutOptions_(i,n),a=new ol.geom.Point(n,l);ol.format.Feature.transformWithOptions(a,!1,t);var s=new ol.Feature(a);return s.setProperties(r),s}},ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_},ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)}),ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")}),ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_}),ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_}),ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_}),ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_}),ol.format.GPX.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var o=0,t=e.length;o<t;++o){var r=e[o];if(this.readExtensions_){var i=r.get("extensionsNode_")||null;this.readExtensions_(r,i)}r.set("extensionsNode_",void 0)}},ol.format.GPX.prototype.readFeature,ol.format.GPX.prototype.readFeatureFromNode=function(e,o){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return null;var t=ol.format.GPX.FEATURE_READER_[e.localName];if(!t)return null;var r=t(e,[this.getReadOptions(e,o)]);return r?(this.handleReadExtensions_([r]),r):null},ol.format.GPX.prototype.readFeatures,ol.format.GPX.prototype.readFeaturesFromNode=function(e,o){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return[];if("gpx"==e.localName){var t=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,o)]);return t?(this.handleReadExtensions_(t),t):[]}return[]},ol.format.GPX.prototype.readProjection,ol.format.GPX.writeLink_=function(e,o,t){e.setAttribute("href",o);var r=t[t.length-1],i=r.properties,n=[i.linkText,i.linkType];ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,t,ol.format.GPX.LINK_SEQUENCE_)},ol.format.GPX.writeWptType_=function(e,o,t){var r=t[t.length-1],i=r.node,n=i.namespaceURI,l=r.properties;switch(ol.xml.setAttributeNS(e,null,"lat",o[1]),ol.xml.setAttributeNS(e,null,"lon",o[0]),r.geometryLayout){case ol.geom.GeometryLayout.XYZM:0!==o[3]&&(l.time=o[3]);case ol.geom.GeometryLayout.XYZ:0!==o[2]&&(l.ele=o[2]);break;case ol.geom.GeometryLayout.XYM:0!==o[2]&&(l.time=o[2])}var a="rtept"==e.nodeName?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[n]:ol.format.GPX.WPT_TYPE_SEQUENCE_[n],s=ol.xml.makeSequence(l,a);ol.xml.pushSerializeAndPop({node:e,properties:l},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,t,a)},ol.format.GPX.writeRte_=function(e,o,t){var r=t[0],i=o.getProperties(),n={node:e,properties:i},l=o.getGeometry();l&&(l=ol.format.Feature.transformWithOptions(l,!0,r),n.geometryLayout=l.getLayout(),i.rtept=l.getCoordinates());var a=t[t.length-1].node,s=ol.format.GPX.RTE_SEQUENCE_[a.namespaceURI],p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,t,s)},ol.format.GPX.writeTrk_=function(e,o,t){var r=t[0],i=o.getProperties(),n={node:e,properties:i},l=o.getGeometry();l&&(l=ol.format.Feature.transformWithOptions(l,!0,r),i.trkseg=l.getLineStrings());var a=t[t.length-1].node,s=ol.format.GPX.TRK_SEQUENCE_[a.namespaceURI],p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,t,s)},ol.format.GPX.writeTrkSeg_=function(e,o,t){var r={node:e,geometryLayout:o.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(r,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,o.getCoordinates(),t)},ol.format.GPX.writeWpt_=function(e,o,t){var r=t[0],i=t[t.length-1];i.properties=o.getProperties();var n=o.getGeometry();n&&(n=ol.format.Feature.transformWithOptions(n,!0,r),i.geometryLayout=n.getLayout(),ol.format.GPX.writeWptType_(e,n.getCoordinates(),t))},ol.format.GPX.LINK_SEQUENCE_=["text","type"],ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}),ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]),ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))}),ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]),ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]),ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),
type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))}),ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt"),ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)}),ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)}),ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"},ol.format.GPX.GPX_NODE_FACTORY_=function(e,o,t){var r=e.getGeometry();if(r){var i=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()];if(i){var n=o[o.length-1].node;return ol.xml.createElementNS(n.namespaceURI,i)}}},ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)}),ol.format.GPX.prototype.writeFeatures,ol.format.GPX.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return ol.xml.setAttributeNS(t,"http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_),t.setAttribute("version","1.1"),t.setAttribute("creator","OpenLayers"),ol.xml.pushSerializeAndPop({node:t},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[o]),t},goog.provide("ol.format.IGCZ"),ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},goog.provide("ol.format.TextFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.TextFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.TextFeature,ol.format.Feature),ol.format.TextFeature.prototype.getText_=function(e){return"string"==typeof e?e:""},ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT},ol.format.TextFeature.prototype.readFeature=function(e,o){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readFeatureFromText=function(e,o){},ol.format.TextFeature.prototype.readFeatures=function(e,o){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readFeaturesFromText=function(e,o){},ol.format.TextFeature.prototype.readGeometry=function(e,o){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(o))},ol.format.TextFeature.prototype.readGeometryFromText=function(e,o){},ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))},ol.format.TextFeature.prototype.readProjectionFromText=function(e){return this.defaultDataProjection},ol.format.TextFeature.prototype.writeFeature=function(e,o){return this.writeFeatureText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeFeatureText=function(e,o){},ol.format.TextFeature.prototype.writeFeatures=function(e,o){return this.writeFeaturesText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeFeaturesText=function(e,o){},ol.format.TextFeature.prototype.writeGeometry=function(e,o){return this.writeGeometryText(e,this.adaptOptions(o))},ol.format.TextFeature.prototype.writeGeometryText=function(e,o){},goog.provide("ol.format.IGC"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.IGCZ"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.proj"),ol.format.IGC=function(e){var o=e||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.altitudeMode_=o.altitudeMode?o.altitudeMode:ol.format.IGCZ.NONE},ol.inherits(ol.format.IGC,ol.format.TextFeature),ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/,ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/,ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/,ol.format.IGC.prototype.readFeature,ol.format.IGC.prototype.readFeatureFromText=function(e,o){var t,r,i=this.altitudeMode_,n=e.split(ol.format.IGC.NEWLINE_RE_),l={},a=[],s=2e3,p=0,g=1,c=-1;for(t=0,r=n.length;t<r;++t){var u,y=n[t];if("B"==y.charAt(0)){if(u=ol.format.IGC.B_RECORD_RE_.exec(y)){var h=parseInt(u[1],10),d=parseInt(u[2],10),m=parseInt(u[3],10),f=parseInt(u[4],10)+parseInt(u[5],10)/6e4;"S"==u[6]&&(f=-f);var _=parseInt(u[7],10)+parseInt(u[8],10)/6e4;if("W"==u[9]&&(_=-_),a.push(_,f),i!=ol.format.IGCZ.NONE){var v;v=i==ol.format.IGCZ.GPS?parseInt(u[11],10):i==ol.format.IGCZ.BAROMETRIC?parseInt(u[12],10):0,a.push(v)}var S=Date.UTC(s,p,g,h,d,m);S<c&&(S=Date.UTC(s,p,g+1,h,d,m)),a.push(S/1e3),c=S}}else"H"==y.charAt(0)&&(u=ol.format.IGC.HFDTE_RECORD_RE_.exec(y),u?(g=parseInt(u[1],10),p=parseInt(u[2],10)-1,s=2e3+parseInt(u[3],10)):(u=ol.format.IGC.H_RECORD_RE_.exec(y))&&(l[u[1]]=u[2].trim()))}if(0===a.length)return null;var x=new ol.geom.LineString(null),P=i==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;x.setFlatCoordinates(P,a);var E=new ol.Feature(ol.format.Feature.transformWithOptions(x,!1,o));return E.setProperties(l),E},ol.format.IGC.prototype.readFeatures,ol.format.IGC.prototype.readFeaturesFromText=function(e,o){var t=this.readFeatureFromText(e,o);return t?[t]:[]},ol.format.IGC.prototype.readProjection,ol.format.IGC.prototype.writeFeatureText=function(e,o){},ol.format.IGC.prototype.writeFeaturesText=function(e,o){},ol.format.IGC.prototype.writeGeometryText=function(e,o){},ol.format.IGC.prototype.readGeometryFromText=function(e,o){},goog.provide("ol.style.IconAnchorUnits"),ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},goog.provide("ol.style.IconImage"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),goog.require("ol.ImageState"),goog.require("ol.style"),ol.style.IconImage=function(e,o,t,r,i,n){ol.events.EventTarget.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=n?document.createElement("CANVAS"):null,this.color_=n,this.imageListenerKeys_=null,this.imageState_=i,this.size_=t,this.src_=o,this.tainting_=!1,this.imageState_==ol.ImageState.LOADED&&this.determineTainting_()},ol.inherits(ol.style.IconImage,ol.events.EventTarget),ol.style.IconImage.get=function(e,o,t,r,i,n){var l=ol.style.iconImageCache,a=l.get(o,r,n);return a||(a=new ol.style.IconImage(e,o,t,r,i,n),l.set(o,r,n,a)),a},ol.style.IconImage.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(e){this.tainting_=!0}},ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_},ol.style.IconImage.prototype.getImageState=function(){return this.imageState_},ol.style.IconImage.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.tainting_){var o=this.size_[0],t=this.size_[1],r=ol.dom.createCanvasContext2D(o,t);r.fillRect(0,0,o,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},ol.style.IconImage.prototype.getSize=function(){return this.size_},ol.style.IconImage.prototype.getSrc=function(){return this.src_},ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING,this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(e){this.handleImageError_()}}},ol.style.IconImage.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);for(var o=e.getImageData(0,0,this.image_.width,this.image_.height),t=o.data,r=this.color_[0]/255,i=this.color_[1]/255,n=this.color_[2]/255,l=0,a=t.length;l<a;l+=4)t[l]*=r,t[l+1]*=i,t[l+2]*=n;e.putImageData(o,0,0)}},ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.style.IconOrigin"),ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.style.Icon"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconImage"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Image"),ol.style.Icon=function(e){var o=e||{};this.anchor_=void 0!==o.anchor?o.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==o.anchorOrigin?o.anchorOrigin:ol.style.IconOrigin.TOP_LEFT,this.anchorXUnits_=void 0!==o.anchorXUnits?o.anchorXUnits:ol.style.IconAnchorUnits.FRACTION,this.anchorYUnits_=void 0!==o.anchorYUnits?o.anchorYUnits:ol.style.IconAnchorUnits.FRACTION,this.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null;var t=void 0!==o.img?o.img:null,r=void 0!==o.imgSize?o.imgSize:null,i=o.src;ol.asserts.assert(!(void 0!==i&&t),4),ol.asserts.assert(!t||t&&r,5),void 0!==i&&0!==i.length||!t||(i=t.src||ol.getUid(t).toString()),ol.asserts.assert(void 0!==i&&i.length>0,6);var n=void 0!==o.src?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=void 0!==o.color?ol.color.asArray(o.color):null,this.iconImage_=ol.style.IconImage.get(t,i,r,this.crossOrigin_,n,this.color_),this.offset_=void 0!==o.offset?o.offset:[0,0],this.offsetOrigin_=void 0!==o.offsetOrigin?o.offsetOrigin:ol.style.IconOrigin.TOP_LEFT,this.origin_=null,this.size_=void 0!==o.size?o.size:null;var l=void 0!==o.opacity?o.opacity:1,a=void 0!==o.rotateWithView&&o.rotateWithView,s=void 0!==o.rotation?o.rotation:0,p=void 0!==o.scale?o.scale:1,g=void 0===o.snapToPixel||o.snapToPixel;ol.style.Image.call(this,{opacity:l,rotation:s,scale:p,snapToPixel:g,rotateWithView:a})},ol.inherits(ol.style.Icon,ol.style.Image),ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,o=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!o)return null;e=this.anchor_.slice(),this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[0]*=o[0]),this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[1]*=o[1])}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!o)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[0]=-e[0]+o[0]),this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[1]=-e[1]+o[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},ol.style.Icon.prototype.getColor=function(){return this.color_},ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)},ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},ol.style.Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var o=this.getSize(),t=this.iconImage_.getSize();if(!o||!t)return null;e=e.slice(),this.offsetOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[0]=t[0]-o[0]-e[0]),this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[1]=t[1]-o[1]-e[1])}return this.origin_=e,this.origin_},ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},ol.style.Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},ol.style.Icon.prototype.listenImageChange=function(e,o){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,e,o)},ol.style.Icon.prototype.load=function(){this.iconImage_.load()},ol.style.Icon.prototype.unlistenImageChange=function(e,o){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,e,o)},goog.provide("ol.style.Text"),goog.require("ol.style.Fill"),goog.require("ol.style.TextPlacement"),ol.style.Text=function(e){var o=e||{};this.font_=o.font,this.rotation_=o.rotation,this.rotateWithView_=o.rotateWithView,this.scale_=o.scale,this.text_=o.text,this.textAlign_=o.textAlign,this.textBaseline_=o.textBaseline,this.fill_=void 0!==o.fill?o.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_}),this.maxAngle_=void 0!==o.maxAngle?o.maxAngle:Math.PI/4,this.placement_=void 0!==o.placement?o.placement:ol.style.TextPlacement.POINT,this.exceedLength_=void 0!==o.exceedLength&&o.exceedLength,this.stroke_=void 0!==o.stroke?o.stroke:null,this.offsetX_=void 0!==o.offsetX?o.offsetX:0,this.offsetY_=void 0!==o.offsetY?o.offsetY:0},ol.style.Text.DEFAULT_FILL_COLOR_="#333",ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),exceedLength:this.getExceedLength(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})},ol.style.Text.prototype.getExceedLength=function(){return this.exceedLength_},ol.style.Text.prototype.getFont=function(){return this.font_},ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_},ol.style.Text.prototype.getPlacement=function(){return this.placement_},ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_},ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_},ol.style.Text.prototype.getFill=function(){return this.fill_},ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Text.prototype.getRotation=function(){return this.rotation_},ol.style.Text.prototype.getScale=function(){return this.scale_},ol.style.Text.prototype.getStroke=function(){return this.stroke_},ol.style.Text.prototype.getText=function(){return this.text_},ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_},ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_},ol.style.Text.prototype.setExceedLength=function(e){this.exceedLength_=e},ol.style.Text.prototype.setFont=function(e){this.font_=e},ol.style.Text.prototype.setMaxAngle=function(e){this.maxAngle_=e},ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e},ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e},ol.style.Text.prototype.setPlacement=function(e){this.placement_=e},ol.style.Text.prototype.setFill=function(e){this.fill_=e},ol.style.Text.prototype.setRotation=function(e){this.rotation_=e},ol.style.Text.prototype.setScale=function(e){this.scale_=e},ol.style.Text.prototype.setStroke=function(e){this.stroke_=e},ol.style.Text.prototype.setText=function(e){this.text_=e},ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e},ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e},goog.provide("ol.format.KML"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point");goog.require("ol.geom.Polygon"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.xml"),ol.format.KML=function(e){var o=e||{};ol.format.XMLFeature.call(this),ol.format.KML.DEFAULT_STYLE_ARRAY_||ol.format.KML.createStyleDefaults_(),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.defaultStyle_=o.defaultStyle?o.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_,this.extractStyles_=void 0===o.extractStyles||o.extractStyles,this.writeStyles_=void 0===o.writeStyles||o.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===o.showPointNames||o.showPointNames},ol.inherits(ol.format.KML,ol.format.XMLFeature),ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",ol.format.KML.createStyleDefaults_=function(){return ol.format.KML.DEFAULT_COLOR_=[255,255,255,1],ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_}),ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5,ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}),ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE",ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1}),ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2}),ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8}),ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0}),ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_],ol.format.KML.DEFAULT_STYLE_ARRAY_},ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS,insetPixels:ol.style.IconAnchorUnits.PIXELS},ol.format.KML.createNameStyleFunction_=function(e,o){var t=null,r=[0,0],i="start";if(e.getImage()){var n=e.getImage().getImageSize();if(null===n&&(n=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_),2==n.length){var l=e.getImage().getScale();r[0]=l*n[0]/2,r[1]=-l*n[1]/2,i="left"}}if(null!==e.getText()){var a=e.getText();t=a.clone(),t.setFont(a.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont()),t.setScale(a.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale()),t.setFill(a.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill()),t.setStroke(a.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else t=ol.format.KML.DEFAULT_TEXT_STYLE_.clone();return t.setText(o),t.setOffsetX(r[0]),t.setOffsetY(r[1]),t.setTextAlign(i),new ol.style.Style({text:t})},ol.format.KML.createFeatureStyleFunction_=function(e,o,t,r,i){return function(n){var l,a=i,s="";if(a&&this.getGeometry()&&(a=this.getGeometry().getType()===ol.geom.GeometryType.POINT),a&&(s=this.get("name"),a=a&&s),e)return a?(l=ol.format.KML.createNameStyleFunction_(e[0],s),e.concat(l)):e;if(o){var p=ol.format.KML.findStyle_(o,t,r);return a?(l=ol.format.KML.createNameStyleFunction_(p[0],s),p.concat(l)):p}return a?(l=ol.format.KML.createNameStyleFunction_(t[0],s),t.concat(l)):t}},ol.format.KML.findStyle_=function(e,o,t){return Array.isArray(e)?e:"string"==typeof e?(!(e in t)&&"#"+e in t&&(e="#"+e),ol.format.KML.findStyle_(t[e],o,t)):o},ol.format.KML.readColor_=function(e){var o=ol.xml.getAllTextContent(e,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(o);if(t){var r=t[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}},ol.format.KML.readFlatCoordinates_=function(e){for(var o,t=ol.xml.getAllTextContent(e,!1),r=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;o=i.exec(t);){var n=parseFloat(o[1]),l=parseFloat(o[2]),a=o[3]?parseFloat(o[3]):0;r.push(n,l,a),t=t.substr(o[0].length)}if(""===t)return r},ol.format.KML.readURI_=function(e){var o=ol.xml.getAllTextContent(e,!1).trim(),t=e.baseURI;if(t&&"about:blank"!=t||(t=window.location.href),t){return new URL(o,t).href}return o},ol.format.KML.readVec2_=function(e){var o,t=e.getAttribute("xunits"),r=e.getAttribute("yunits");return o="insetPixels"!==t?"insetPixels"!==r?ol.style.IconOrigin.BOTTOM_LEFT:ol.style.IconOrigin.TOP_LEFT:"insetPixels"!==r?ol.style.IconOrigin.BOTTOM_RIGHT:ol.style.IconOrigin.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[t],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[r],origin:o}},ol.format.KML.readScale_=function(e){return ol.format.XSD.readDecimal(e)},ol.format.KML.readStyleMapValue_=function(e,o){return ol.xml.pushParseAndPop(void 0,ol.format.KML.STYLE_MAP_PARSERS_,e,o)},ol.format.KML.IconStyleParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,o);if(t){var r,i=o[o.length-1],n="Icon"in t?t.Icon:{},l=!("Icon"in t)||Object.keys(n).length>0,a=n.href;a?r=a:l&&(r=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_);var s,p,g,c=ol.style.IconOrigin.BOTTOM_LEFT,u=t.hotSpot;u?(s=[u.x,u.y],p=u.xunits,g=u.yunits,c=u.origin):r===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_?(s=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,p=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,g=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(s=[.5,0],p=ol.style.IconAnchorUnits.FRACTION,g=ol.style.IconAnchorUnits.FRACTION);var y,h=n.x,d=n.y;void 0!==h&&void 0!==d&&(y=[h,d]);var m,f=n.w,_=n.h;void 0!==f&&void 0!==_&&(m=[f,_]);var v,S=t.heading;void 0!==S&&(v=ol.math.toRadians(S));var x=t.scale;if(l){r==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_&&(m=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,void 0===x&&(x=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_));var P=new ol.style.Icon({anchor:s,anchorOrigin:c,anchorXUnits:p,anchorYUnits:g,crossOrigin:"anonymous",offset:y,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:v,scale:x,size:m,src:r});i.imageStyle=P}else i.imageStyle=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}},ol.format.KML.LabelStyleParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,o);if(t){var r=o[o.length-1],i=new ol.style.Text({fill:new ol.style.Fill({color:"color"in t?t.color:ol.format.KML.DEFAULT_COLOR_}),scale:t.scale});r.textStyle=i}},ol.format.KML.LineStyleParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,o);if(t){var r=o[o.length-1],i=new ol.style.Stroke({color:"color"in t?t.color:ol.format.KML.DEFAULT_COLOR_,width:"width"in t?t.width:1});r.strokeStyle=i}},ol.format.KML.PolyStyleParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,o);if(t){var r=o[o.length-1],i=new ol.style.Fill({color:"color"in t?t.color:ol.format.KML.DEFAULT_COLOR_});r.fillStyle=i;var n=t.fill;void 0!==n&&(r.fill=n);var l=t.outline;void 0!==l&&(r.outline=l)}},ol.format.KML.readFlatLinearRing_=function(e,o){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,o)},ol.format.KML.gxCoordParser_=function(e,o){var t=o[o.length-1],r=t.flatCoordinates,i=ol.xml.getAllTextContent(e,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,l=n.exec(i);if(l){var a=parseFloat(l[1]),s=parseFloat(l[2]),p=parseFloat(l[3]);r.push(a,s,p,0)}else r.push(0,0,0,0)},ol.format.KML.readGxMultiTrack_=function(e,o){var t=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,o);if(t){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(t),r}},ol.format.KML.readGxTrack_=function(e,o){var t=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,o);if(t){var r,i,n=t.flatCoordinates,l=t.whens;for(r=0,i=Math.min(n.length,l.length);r<i;++r)n[4*r+3]=l[r];var a=new ol.geom.LineString(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,n),a}},ol.format.KML.readIcon_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,o);return t||null},ol.format.KML.readFlatCoordinatesFromNode_=function(e,o){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,o)},ol.format.KML.readLineString_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(r){var i=new ol.geom.LineString(null);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),i.setProperties(t),i}},ol.format.KML.readLinearRing_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(r){var i=new ol.geom.Polygon(null);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r,[r.length]),i.setProperties(t),i}},ol.format.KML.readMultiGeometry_=function(e,o){var t=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,o);if(!t)return null;if(0===t.length)return new ol.geom.GeometryCollection(t);var r,i,n,l,a=!0,s=t[0].getType();for(n=1,l=t.length;n<l;++n)if(i=t[n],i.getType()!=s){a=!1;break}if(a){var p,g;if(s==ol.geom.GeometryType.POINT){var c=t[0];for(p=c.getLayout(),g=c.getFlatCoordinates(),n=1,l=t.length;n<l;++n)i=t[n],ol.array.extend(g,i.getFlatCoordinates());r=new ol.geom.MultiPoint(null),r.setFlatCoordinates(p,g),ol.format.KML.setCommonGeometryProperties_(r,t)}else s==ol.geom.GeometryType.LINE_STRING?(r=new ol.geom.MultiLineString(null),r.setLineStrings(t),ol.format.KML.setCommonGeometryProperties_(r,t)):s==ol.geom.GeometryType.POLYGON?(r=new ol.geom.MultiPolygon(null),r.setPolygons(t),ol.format.KML.setCommonGeometryProperties_(r,t)):s==ol.geom.GeometryType.GEOMETRY_COLLECTION?r=new ol.geom.GeometryCollection(t):ol.asserts.assert(!1,37)}else r=new ol.geom.GeometryCollection(t);return r},ol.format.KML.readPoint_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.format.KML.readFlatCoordinatesFromNode_(e,o);if(r){var i=new ol.geom.Point(null);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),i.setProperties(t),i}},ol.format.KML.readPolygon_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,o),r=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,o);if(r&&r[0]){var i,n,l=new ol.geom.Polygon(null),a=r[0],s=[a.length];for(i=1,n=r.length;i<n;++i)ol.array.extend(a,r[i]),s.push(a.length);return l.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,s),l.setProperties(t),l}},ol.format.KML.readStyle_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,o);if(!t)return null;var r="fillStyle"in t?t.fillStyle:ol.format.KML.DEFAULT_FILL_STYLE_,i=t.fill;void 0===i||i||(r=null);var n="imageStyle"in t?t.imageStyle:ol.format.KML.DEFAULT_IMAGE_STYLE_;n==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_&&(n=void 0);var l="textStyle"in t?t.textStyle:ol.format.KML.DEFAULT_TEXT_STYLE_,a="strokeStyle"in t?t.strokeStyle:ol.format.KML.DEFAULT_STROKE_STYLE_,s=t.outline;return void 0===s||s||(a=null),[new ol.style.Style({fill:r,image:n,stroke:a,text:l,zIndex:void 0})]},ol.format.KML.setCommonGeometryProperties_=function(e,o){var t,r,i,n,l,a=o.length,s=new Array(o.length),p=new Array(o.length),g=new Array(o.length);for(i=n=l=!1,r=0;r<a;++r)t=o[r],s[r]=t.get("extrude"),p[r]=t.get("tessellate"),g[r]=t.get("altitudeMode"),i=i||void 0!==s[r],n=n||void 0!==p[r],l=l||g[r];i&&e.set("extrude",s),n&&e.set("tessellate",p),l&&e.set("altitudeMode",g)},ol.format.KML.DataParser_=function(e,o){
var t=e.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,e,o);var r=o[o.length-1];null!==t?r[t]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},ol.format.KML.ExtendedDataParser_=function(e,o){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,o)},ol.format.KML.RegionParser_=function(e,o){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,e,o)},ol.format.KML.PairDataParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,o);if(t){var r=t.key;if(r&&"normal"==r){var i=t.styleUrl;i&&(o[o.length-1]=i);var n=t.Style;n&&(o[o.length-1]=n)}}},ol.format.KML.PlacemarkStyleMapParser_=function(e,o){var t=ol.format.KML.readStyleMapValue_(e,o);if(t){var r=o[o.length-1];Array.isArray(t)?r.Style=t:"string"==typeof t?r.styleUrl=t:ol.asserts.assert(!1,38)}},ol.format.KML.SchemaDataParser_=function(e,o){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,o)},ol.format.KML.SimpleDataParser_=function(e,o){var t=e.getAttribute("name");if(null!==t){var r=ol.format.XSD.readString(e);o[o.length-1][t]=r}},ol.format.KML.LatLonAltBoxParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,o);if(t){var r=o[o.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];r.extent=i,r.altitudeMode=t.altitudeMode,r.minAltitude=parseFloat(t.minAltitude),r.maxAltitude=parseFloat(t.maxAltitude)}},ol.format.KML.LodParser_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,e,o);if(t){var r=o[o.length-1];r.minLodPixels=parseFloat(t.minLodPixels),r.maxLodPixels=parseFloat(t.maxLodPixels),r.minFadeExtent=parseFloat(t.minFadeExtent),r.maxFadeExtent=parseFloat(t.maxFadeExtent)}},ol.format.KML.innerBoundaryIsParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,o);if(t){o[o.length-1].push(t)}},ol.format.KML.outerBoundaryIsParser_=function(e,o){var t=ol.xml.pushParseAndPop(void 0,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,o);if(t){o[o.length-1][0]=t}},ol.format.KML.LinkParser_=function(e,o){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,o)},ol.format.KML.whenParser_=function(e,o){var t=o[o.length-1],r=t.whens,i=ol.xml.getAllTextContent(e,!1),n=Date.parse(i);r.push(isNaN(n)?0:n)},ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_}),ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_}),ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),tessellate:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_}),ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_})),ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)})),ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)}),ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)}),ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")})),ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_}),ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_}),ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_}),ol.format.KML.prototype.readDocumentOrFolder_=function(e,o){var t=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=ol.xml.pushParseAndPop([],t,e,o,this);return r||void 0},ol.format.KML.prototype.readPlacemark_=function(e,o){var t=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,o);if(t){var r=new ol.Feature,i=e.getAttribute("id");null!==i&&r.setId(i);var n=o[0],l=t.geometry;if(l&&ol.format.Feature.transformWithOptions(l,!1,n),r.setGeometry(l),delete t.geometry,this.extractStyles_){var a=t.Style,s=t.styleUrl,p=ol.format.KML.createFeatureStyleFunction_(a,s,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(p)}return delete t.Style,r.setProperties(t),r}},ol.format.KML.prototype.readSharedStyle_=function(e,o){var t=e.getAttribute("id");if(null!==t){var r=ol.format.KML.readStyle_(e,o);if(r){var i,n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){i=new URL("#"+t,n).href}else i="#"+t;this.sharedStyles_[i]=r}}},ol.format.KML.prototype.readSharedStyleMap_=function(e,o){var t=e.getAttribute("id");if(null!==t){var r=ol.format.KML.readStyleMapValue_(e,o);if(r){var i,n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){i=new URL("#"+t,n).href}else i="#"+t;this.sharedStyles_[i]=r}}},ol.format.KML.prototype.readFeature,ol.format.KML.prototype.readFeatureFromNode=function(e,o){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI))return null;var t=this.readPlacemark_(e,[this.getReadOptions(e,o)]);return t||null},ol.format.KML.prototype.readFeatures,ol.format.KML.prototype.readFeaturesFromNode=function(e,o){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI))return[];var t,r=e.localName;if("Document"==r||"Folder"==r)return(t=this.readDocumentOrFolder_(e,[this.getReadOptions(e,o)]))||[];if("Placemark"==r){var i=this.readPlacemark_(e,[this.getReadOptions(e,o)]);return i?[i]:[]}if("kml"==r){t=[];var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var l=this.readFeaturesFromNode(n,o);l&&ol.array.extend(t,l)}return t}return[]},ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e))return this.readNameFromDocument(e);if(ol.xml.isNode(e))return this.readNameFromNode(e);if("string"==typeof e){var o=ol.xml.parse(e);return this.readNameFromDocument(o)}},ol.format.KML.prototype.readNameFromDocument=function(e){var o;for(o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE){var t=this.readNameFromNode(o);if(t)return t}},ol.format.KML.prototype.readNameFromNode=function(e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&"name"==o.localName)return ol.format.XSD.readString(o);for(o=e.firstElementChild;o;o=o.nextElementSibling){var t=o.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){var r=this.readNameFromNode(o);if(r)return r}}},ol.format.KML.prototype.readNetworkLinks=function(e){var o=[];if(ol.xml.isDocument(e))ol.array.extend(o,this.readNetworkLinksFromDocument(e));else if(ol.xml.isNode(e))ol.array.extend(o,this.readNetworkLinksFromNode(e));else if("string"==typeof e){var t=ol.xml.parse(e);ol.array.extend(o,this.readNetworkLinksFromDocument(t))}return o},ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var o,t=[];for(o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&ol.array.extend(t,this.readNetworkLinksFromNode(o));return t},ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var o,t=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&"NetworkLink"==o.localName){var r=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,o,[]);t.push(r)}for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=o.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||ol.array.extend(t,this.readNetworkLinksFromNode(o))}return t},ol.format.KML.prototype.readRegion=function(e){var o=[];if(ol.xml.isDocument(e))ol.array.extend(o,this.readRegionFromDocument(e));else if(ol.xml.isNode(e))ol.array.extend(o,this.readRegionFromNode(e));else if("string"==typeof e){var t=ol.xml.parse(e);ol.array.extend(o,this.readRegionFromDocument(t))}return o},ol.format.KML.prototype.readRegionFromDocument=function(e){var o,t=[];for(o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&ol.array.extend(t,this.readRegionFromNode(o));return t},ol.format.KML.prototype.readRegionFromNode=function(e){var o,t=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)&&"Region"==o.localName){var r=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,o,[]);t.push(r)}for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=o.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,o.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||ol.array.extend(t,this.readRegionFromNode(o))}return t},ol.format.KML.prototype.readProjection,ol.format.KML.writeColorTextNode_=function(e,o){var t,r=ol.color.asArray(o),i=4==r.length?r[3]:1,n=[255*i,r[2],r[1],r[0]];for(t=0;t<4;++t){var l=parseInt(n[t],10).toString(16);n[t]=1==l.length?"0"+l:l}ol.format.XSD.writeStringTextNode(e,n.join(""))},ol.format.KML.writeCoordinatesTextNode_=function(e,o,t){var r,i=t[t.length-1],n=i.layout,l=i.stride;n==ol.geom.GeometryLayout.XY||n==ol.geom.GeometryLayout.XYM?r=2:n==ol.geom.GeometryLayout.XYZ||n==ol.geom.GeometryLayout.XYZM?r=3:ol.asserts.assert(!1,34);var a,s,p=o.length,g="";if(p>0){for(g+=o[0],a=1;a<r;++a)g+=","+o[a];for(s=l;s<p;s+=l)for(g+=" "+o[s],a=1;a<r;++a)g+=","+o[s+a]}ol.format.XSD.writeStringTextNode(e,g)},ol.format.KML.writeDataNode_=function(e,o,t){e.setAttribute("name",o.name);var r={node:e},i=o.value;"object"==typeof i?(null!==i&&i.displayName&&ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],t,["displayName"]),null!==i&&i.value&&ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.value],t,["value"])):ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i],t,["value"])},ol.format.KML.writeDataNodeName_=function(e,o){ol.format.XSD.writeCDATASection(e,o)},ol.format.KML.writeDataNodeValue_=function(e,o){ol.format.XSD.writeStringTextNode(e,o)},ol.format.KML.writeDocument_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,o,t,void 0,this)},ol.format.KML.writeExtendedData_=function(e,o,t){for(var r={node:e},i=o.names,n=o.values,l=i.length,a=0;a<l;a++)ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:i[a],value:n[a]}],t)},ol.format.KML.writeIcon_=function(e,o,t){var r={node:e},i=t[t.length-1].node,n=ol.format.KML.ICON_SEQUENCE_[i.namespaceURI],l=ol.xml.makeSequence(o,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,t,n),n=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]],l=ol.xml.makeSequence(o,n),ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,l,t,n)},ol.format.KML.writeIconStyle_=function(e,o,t){var r={node:e},i={},n=o.getSrc(),l=o.getSize(),a=o.getImageSize(),s={href:n};if(l){s.w=l[0],s.h=l[1];var p=o.getAnchor(),g=o.getOrigin();if(g&&a&&0!==g[0]&&g[1]!==l[1]&&(s.x=g[0],s.y=a[1]-(g[1]+l[1])),p&&(p[0]!==l[0]/2||p[1]!==l[1]/2)){var c={x:p[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:l[1]-p[1],yunits:ol.style.IconAnchorUnits.PIXELS};i.hotSpot=c}}i.Icon=s;var u=o.getScale();1!==u&&(i.scale=u);var y=o.getRotation();0!==y&&(i.heading=y);var h=t[t.length-1].node,d=ol.format.KML.ICON_STYLE_SEQUENCE_[h.namespaceURI],m=ol.xml.makeSequence(i,d);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,m,t,d)},ol.format.KML.writeLabelStyle_=function(e,o,t){var r={node:e},i={},n=o.getFill();n&&(i.color=n.getColor());var l=o.getScale();l&&1!==l&&(i.scale=l);var a=t[t.length-1].node,s=ol.format.KML.LABEL_STYLE_SEQUENCE_[a.namespaceURI],p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(r,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,t,s)},ol.format.KML.writeLineStyle_=function(e,o,t){var r={node:e},i={color:o.getColor(),width:o.getWidth()},n=t[t.length-1].node,l=ol.format.KML.LINE_STYLE_SEQUENCE_[n.namespaceURI],a=ol.xml.makeSequence(i,l);ol.xml.pushSerializeAndPop(r,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,t,l)},ol.format.KML.writeMultiGeometry_=function(e,o,t){var r,i,n={node:e},l=o.getType();l==ol.geom.GeometryType.GEOMETRY_COLLECTION?(r=o.getGeometries(),i=ol.format.KML.GEOMETRY_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_POINT?(r=o.getPoints(),i=ol.format.KML.POINT_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_LINE_STRING?(r=o.getLineStrings(),i=ol.format.KML.LINE_STRING_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_POLYGON?(r=o.getPolygons(),i=ol.format.KML.POLYGON_NODE_FACTORY_):ol.asserts.assert(!1,39),ol.xml.pushSerializeAndPop(n,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,i,r,t)},ol.format.KML.writeBoundaryIs_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[o],t)},ol.format.KML.writePlacemark_=function(e,o,t){var r={node:e};o.getId()&&e.setAttribute("id",o.getId());var i=o.getProperties(),n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[o.getGeometryName()]=1;var l=Object.keys(i||{}).sort().filter(function(e){return!n[e]});if(l.length>0){var a=ol.xml.makeSequence(i,l),s={names:l,values:a};ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[s],t)}var p=o.getStyleFunction();if(p){var g=p.call(o,0);if(g){var c=Array.isArray(g)?g[0]:g;this.writeStyles_&&(i.Style=c);var u=c.getText();u&&(i.name=u.getText())}}var y=t[t.length-1].node,h=ol.format.KML.PLACEMARK_SEQUENCE_[y.namespaceURI],d=ol.xml.makeSequence(i,h);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,d,t,h);var m=t[0],f=o.getGeometry();f&&(f=ol.format.Feature.transformWithOptions(f,!0,m)),ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[f],t)},ol.format.KML.writePrimitiveGeometry_=function(e,o,t){var r=o.getFlatCoordinates(),i={node:e};i.layout=o.getLayout(),i.stride=o.getStride();var n=o.getProperties();n.coordinates=r;var l=t[t.length-1].node,a=ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_[l.namespaceURI],s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(i,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,t,a)},ol.format.KML.writePolygon_=function(e,o,t){var r=o.getLinearRings(),i=r.shift(),n={node:e};ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,r,t),ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[i],t)},ol.format.KML.writePolyStyle_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[o.getColor()],t)},ol.format.KML.writeScaleTextNode_=function(e,o){ol.format.XSD.writeDecimalTextNode(e,Math.round(1e6*o)/1e6)},ol.format.KML.writeStyle_=function(e,o,t){var r={node:e},i={},n=o.getFill(),l=o.getStroke(),a=o.getImage(),s=o.getText();a instanceof ol.style.Icon&&(i.IconStyle=a),s&&(i.LabelStyle=s),l&&(i.LineStyle=l),n&&(i.PolyStyle=n);var p=t[t.length-1].node,g=ol.format.KML.STYLE_SEQUENCE_[p.namespaceURI],c=ol.xml.makeSequence(i,g);ol.xml.pushSerializeAndPop(r,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,c,t,g)},ol.format.KML.writeVec2_=function(e,o){e.setAttribute("x",o.x),e.setAttribute("y",o.y),e.setAttribute("xunits",o.xunits),e.setAttribute("yunits",o.yunits)},ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]),ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)}),ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"])),ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)})),ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]),ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]),ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}),ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)}),ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)}),ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)}),ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]),ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),tessellate:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),altitudeMode:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)}),ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)}),ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)}),ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)}),ol.format.KML.GX_NODE_FACTORY_=function(e,o,t){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+t)},ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,o,t){var r=o[o.length-1].node;return ol.xml.createElementNS(r.namespaceURI,"Placemark")},ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,o,t){if(e){var r=o[o.length-1].node;return ol.xml.createElementNS(r.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}},ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color"),ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data"),ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData"),ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs"),ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point"),ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString"),ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing"),ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon"),ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs"),ol.format.KML.prototype.writeFeatures,ol.format.KML.prototype.writeFeaturesNode=function(e,o){o=this.adaptOptions(o);var t=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml"),r="http://www.w3.org/2000/xmlns/";ol.xml.setAttributeNS(t,r,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]),ol.xml.setAttributeNS(t,r,"xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var i={node:t},n={};e.length>1?n.Document=e:1==e.length&&(n.Placemark=e[0]);var l=ol.format.KML.KML_SEQUENCE_[t.namespaceURI],a=ol.xml.makeSequence(n,l);return ol.xml.pushSerializeAndPop(i,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,[o],l,this),t},goog.provide("ol.ext.PBF"),ol.ext.PBF=function(){},function(){!function(e){"use strict";function o(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function t(e,o,t){var r,n,l=t.buf;if(n=l[t.pos++],r=(112&n)>>4,n<128)return i(e,r,o);if(n=l[t.pos++],r|=(127&n)<<3,n<128)return i(e,r,o);if(n=l[t.pos++],r|=(127&n)<<10,n<128)return i(e,r,o);if(n=l[t.pos++],r|=(127&n)<<17,n<128)return i(e,r,o);if(n=l[t.pos++],r|=(127&n)<<24,n<128)return i(e,r,o);if(n=l[t.pos++],r|=(1&n)<<31,n<128)return i(e,r,o);throw new Error("Expected varint not more than 10 bytes")}function r(e){return e.type===o.Bytes?e.readVarint()+e.pos:e.pos+1}function i(e,o,t){return t?4294967296*o+(e>>>0):4294967296*(o>>>0)+(e>>>0)}function n(e,o){var t,r;if(e>=0?(t=e%4294967296|0,r=e/4294967296|0):(t=~(-e%4294967296),r=~(-e/4294967296),4294967295^t?t=t+1|0:(t=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),l(t,r,o),a(r,o)}function l(e,o,t){t.buf[t.pos++]=127&e|128,e>>>=7,t.buf[t.pos++]=127&e|128,e>>>=7,t.buf[t.pos++]=127&e|128,e>>>=7,t.buf[t.pos++]=127&e|128,e>>>=7,t.buf[t.pos]=127&e}function a(e,o){var t=(7&e)<<4;o.buf[o.pos++]|=t|((e>>>=3)?128:0),e&&(o.buf[o.pos++]=127&e|((e>>>=7)?128:0),e&&(o.buf[o.pos++]=127&e|((e>>>=7)?128:0),
e&&(o.buf[o.pos++]=127&e|((e>>>=7)?128:0),e&&(o.buf[o.pos++]=127&e|((e>>>=7)?128:0),e&&(o.buf[o.pos++]=127&e)))))}function s(e,o,t){var r=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.ceil(Math.log(o)/(7*Math.LN2));t.realloc(r);for(var i=t.pos-1;i>=e;i--)t.buf[i+r]=t.buf[i]}function p(e,o){for(var t=0;t<e.length;t++)o.writeVarint(e[t])}function g(e,o){for(var t=0;t<e.length;t++)o.writeSVarint(e[t])}function c(e,o){for(var t=0;t<e.length;t++)o.writeFloat(e[t])}function u(e,o){for(var t=0;t<e.length;t++)o.writeDouble(e[t])}function y(e,o){for(var t=0;t<e.length;t++)o.writeBoolean(e[t])}function h(e,o){for(var t=0;t<e.length;t++)o.writeFixed32(e[t])}function d(e,o){for(var t=0;t<e.length;t++)o.writeSFixed32(e[t])}function m(e,o){for(var t=0;t<e.length;t++)o.writeFixed64(e[t])}function f(e,o){for(var t=0;t<e.length;t++)o.writeSFixed64(e[t])}function _(e,o){return(e[o]|e[o+1]<<8|e[o+2]<<16)+16777216*e[o+3]}function v(e,o,t){e[t]=o,e[t+1]=o>>>8,e[t+2]=o>>>16,e[t+3]=o>>>24}function S(e,o){return(e[o]|e[o+1]<<8|e[o+2]<<16)+(e[o+3]<<24)}function x(e,o,t){for(var r="",i=o;i<t;){var n=e[i],l=null,a=n>239?4:n>223?3:n>191?2:1;if(i+a>t)break;var s,p,g;1===a?n<128&&(l=n):2===a?128==(192&(s=e[i+1]))&&(l=(31&n)<<6|63&s)<=127&&(l=null):3===a?(s=e[i+1],p=e[i+2],128==(192&s)&&128==(192&p)&&((l=(15&n)<<12|(63&s)<<6|63&p)<=2047||l>=55296&&l<=57343)&&(l=null)):4===a&&(s=e[i+1],p=e[i+2],g=e[i+3],128==(192&s)&&128==(192&p)&&128==(192&g)&&((l=(15&n)<<18|(63&s)<<12|(63&p)<<6|63&g)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,a=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=a}return r}function P(e,o,t){for(var r,i,n=0;n<o.length;n++){if((r=o.charCodeAt(n))>55295&&r<57344){if(!i){r>56319||n+1===o.length?(e[t++]=239,e[t++]=191,e[t++]=189):i=r;continue}if(r<56320){e[t++]=239,e[t++]=191,e[t++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[t++]=239,e[t++]=191,e[t++]=189,i=null);r<128?e[t++]=r:(r<2048?e[t++]=r>>6|192:(r<65536?e[t++]=r>>12|224:(e[t++]=r>>18|240,e[t++]=r>>12&63|128),e[t++]=r>>6&63|128),e[t++]=63&r|128)}return t}var E=function(e,o,t,r,i){var n,l,a=8*i-r-1,s=(1<<a)-1,p=s>>1,g=-7,c=t?i-1:0,u=t?-1:1,y=e[o+c];for(c+=u,n=y&(1<<-g)-1,y>>=-g,g+=a;g>0;n=256*n+e[o+c],c+=u,g-=8);for(l=n&(1<<-g)-1,n>>=-g,g+=r;g>0;l=256*l+e[o+c],c+=u,g-=8);if(0===n)n=1-p;else{if(n===s)return l?NaN:1/0*(y?-1:1);l+=Math.pow(2,r),n-=p}return(y?-1:1)*l*Math.pow(2,n-r)},T=function(e,o,t,r,i,n){var l,a,s,p=8*n-i-1,g=(1<<p)-1,c=g>>1,u=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:n-1,h=r?1:-1,d=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(a=isNaN(o)?1:0,l=g):(l=Math.floor(Math.log(o)/Math.LN2),o*(s=Math.pow(2,-l))<1&&(l--,s*=2),o+=l+c>=1?u/s:u*Math.pow(2,1-c),o*s>=2&&(l++,s/=2),l+c>=g?(a=0,l=g):l+c>=1?(a=(o*s-1)*Math.pow(2,i),l+=c):(a=o*Math.pow(2,c-1)*Math.pow(2,i),l=0));i>=8;e[t+y]=255&a,y+=h,a/=256,i-=8);for(l=l<<i|a,p+=i;p>0;e[t+y]=255&l,y+=h,l/=256,p-=8);e[t+y-h]|=128*d},R={read:E,write:T},L=o;o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;o.prototype={destroy:function(){this.buf=null},readFields:function(e,o,t){for(t=t||this.length;this.pos<t;){var r=this.readVarint(),i=r>>3,n=this.pos;this.type=7&r,e(i,o,this),this.pos===n&&this.skip(r)}return o},readMessage:function(e,o){return this.readFields(e,o,this.readVarint()+this.pos)},readFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=S(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=_(this.buf,this.pos)+4294967296*S(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=R.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=R.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var o,r,i=this.buf;return r=i[this.pos++],o=127&r,r<128?o:(r=i[this.pos++],o|=(127&r)<<7,r<128?o:(r=i[this.pos++],o|=(127&r)<<14,r<128?o:(r=i[this.pos++],o|=(127&r)<<21,r<128?o:(r=i[this.pos],o|=(15&r)<<28,t(o,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,o=x(this.buf,this.pos,e);return this.pos=e,o},readBytes:function(){var e=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,e);return this.pos=e,o},readPackedVarint:function(e,o){var t=r(this);for(e=e||[];this.pos<t;)e.push(this.readVarint(o));return e},readPackedSVarint:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readFloat());return e},readPackedDouble:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var o=r(this);for(e=e||[];this.pos<o;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===o.Varint)for(;this.buf[this.pos++]>127;);else if(t===o.Bytes)this.pos=this.readVarint()+this.pos;else if(t===o.Fixed32)this.pos+=4;else{if(t!==o.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,o){this.writeVarint(e<<3|o)},realloc:function(e){for(var o=this.length||16;o<this.pos+e;)o*=2;if(o!==this.length){var t=new Uint8Array(o);t.set(this.buf),this.buf=t,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0)return void n(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var o=this.pos;this.pos=P(this.buf,e,this.pos);var t=this.pos-o;t>=128&&s(o,t,this),this.pos=o-1,this.writeVarint(t),this.pos+=t},writeFloat:function(e){this.realloc(4),R.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),R.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var o=e.length;this.writeVarint(o),this.realloc(o);for(var t=0;t<o;t++)this.buf[this.pos++]=e[t]},writeRawMessage:function(e,o){this.pos++;var t=this.pos;e(o,this);var r=this.pos-t;r>=128&&s(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,r){this.writeTag(e,o.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,o){this.writeMessage(e,p,o)},writePackedSVarint:function(e,o){this.writeMessage(e,g,o)},writePackedBoolean:function(e,o){this.writeMessage(e,y,o)},writePackedFloat:function(e,o){this.writeMessage(e,c,o)},writePackedDouble:function(e,o){this.writeMessage(e,u,o)},writePackedFixed32:function(e,o){this.writeMessage(e,h,o)},writePackedSFixed32:function(e,o){this.writeMessage(e,d,o)},writePackedFixed64:function(e,o){this.writeMessage(e,m,o)},writePackedSFixed64:function(e,o){this.writeMessage(e,f,o)},writeBytesField:function(e,t){this.writeTag(e,o.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,o.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,o.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,o.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,o){this.writeVarintField(e,Boolean(o))}},e.default=L}(this.PBF=this.PBF||{})}.call(ol.ext),ol.ext.PBF=ol.ext.PBF.default,goog.provide("ol.render.Feature"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.flat.transform"),goog.require("ol.transform"),ol.render.Feature=function(e,o,t,r,i){this.extent_,this.id_=i,this.type_=e,this.flatCoordinates_=o,this.ends_=t,this.properties_=r,this.tmpTransform_=ol.transform.create()},ol.render.Feature.prototype.get=function(e){return this.properties_[e]},ol.render.Feature.prototype.getEnds=ol.render.Feature.prototype.getEndss=function(){return this.ends_},ol.render.Feature.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},ol.render.Feature.prototype.getId=function(){return this.id_},ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates,ol.render.Feature.prototype.getGeometry=function(){return this},ol.render.Feature.prototype.getProperties=function(){return this.properties_},ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry,ol.render.Feature.prototype.getStride=function(){return 2},ol.render.Feature.prototype.getStyleFunction=ol.nullFunction,ol.render.Feature.prototype.getType=function(){return this.type_},ol.render.Feature.prototype.transform=function(e,o){var t=e.getExtent(),r=e.getWorldExtent(),i=ol.extent.getHeight(r)/ol.extent.getHeight(t),n=this.tmpTransform_;ol.transform.compose(n,r[0],r[3],i,-i,0,0,0),ol.geom.flat.transform.transform2D(this.flatCoordinates_,0,this.flatCoordinates_.length,2,n,this.flatCoordinates_)},goog.provide("ol.format.MVT"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.ext.PBF"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.orient"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.render.Feature");ol.format.MVT=function(e){ol.format.Feature.call(this);var o=e||{};this.defaultDataProjection=new ol.proj.Projection({code:"EPSG:3857",units:ol.proj.Units.TILE_PIXELS}),this.featureClass_=o.featureClass?o.featureClass:ol.render.Feature,this.geometryName_=o.geometryName,this.layerName_=o.layerName?o.layerName:"layer",this.layers_=o.layers?o.layers:null,this.extent_=null},ol.inherits(ol.format.MVT,ol.format.Feature),ol.format.MVT.pbfReaders_={layers:function(e,o,t){if(3===e){var r={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(ol.format.MVT.pbfReaders_.layer,r,i),r.length=r.features.length,r.length&&(o[r.name]=r)}},layer:function(e,o,t){if(15===e)o.version=t.readVarint();else if(1===e)o.name=t.readString();else if(5===e)o.extent=t.readVarint();else if(2===e)o.features.push(t.pos);else if(3===e)o.keys.push(t.readString());else if(4===e){for(var r=null,i=t.readVarint()+t.pos;t.pos<i;)e=t.readVarint()>>3,r=1===e?t.readString():2===e?t.readFloat():3===e?t.readDouble():4===e?t.readVarint64():5===e?t.readVarint():6===e?t.readSVarint():7===e?t.readBoolean():null;o.values.push(r)}},feature:function(e,o,t){if(1==e)o.id=t.readVarint();else if(2==e)for(var r=t.readVarint()+t.pos;t.pos<r;){var i=o.layer.keys[t.readVarint()],n=o.layer.values[t.readVarint()];o.properties[i]=n}else 3==e?o.type=t.readVarint():4==e&&(o.geometry=t.pos)}},ol.format.MVT.readRawFeature_=function(e,o,t){e.pos=o.features[t];var r=e.readVarint()+e.pos,i={layer:o,type:0,properties:{}};return e.readFields(ol.format.MVT.pbfReaders_.feature,i,r),i},ol.format.MVT.readRawGeometry_=function(e,o,t,r){e.pos=o.geometry;for(var i=e.readVarint()+e.pos,n=1,l=0,a=0,s=0,p=0,g=0;e.pos<i;){if(!l){var c=e.readVarint();n=7&c,l=c>>3}l--,1===n||2===n?(a+=e.readSVarint(),s+=e.readSVarint(),1===n&&p>g&&(r.push(p),g=p),t.push(a,s),p+=2):7===n?p>g&&(t.push(t[g],t[g+1]),p+=2):ol.asserts.assert(!1,59)}p>g&&(r.push(p),g=p)},ol.format.MVT.getGeometryType_=function(e,o){var t;return 1===e?t=1===o?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT:2===e?t=1===o?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING:3===e&&(t=ol.geom.GeometryType.POLYGON),t},ol.format.MVT.prototype.createFeature_=function(e,o,t){var r=o.type;if(0===r)return null;var i,n=o.id,l=o.properties;l[this.layerName_]=o.layer.name;var a=[],s=[];ol.format.MVT.readRawGeometry_(e,o,a,s);var p=ol.format.MVT.getGeometryType_(r,s.length);if(this.featureClass_===ol.render.Feature)i=new this.featureClass_(p,a,s,l,n);else{var g;if(p==ol.geom.GeometryType.POLYGON){for(var c=[],u=0,y=0,h=0,d=s.length;h<d;++h){var m=s[h];ol.geom.flat.orient.linearRingIsClockwise(a,u,m,2)||(c.push(s.slice(y,h)),y=h),u=m}c.length>1?(s=c,g=new ol.geom.MultiPolygon(null)):g=new ol.geom.Polygon(null)}else g=p===ol.geom.GeometryType.POINT?new ol.geom.Point(null):p===ol.geom.GeometryType.LINE_STRING?new ol.geom.LineString(null):p===ol.geom.GeometryType.POLYGON?new ol.geom.Polygon(null):p===ol.geom.GeometryType.MULTI_POINT?new ol.geom.MultiPoint(null):p===ol.geom.GeometryType.MULTI_LINE_STRING?new ol.geom.MultiLineString(null):null;g.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,s),i=new this.featureClass_,this.geometryName_&&i.setGeometryName(this.geometryName_);var f=ol.format.Feature.transformWithOptions(g,!1,this.adaptOptions(t));i.setGeometry(f),i.setId(n),i.setProperties(l)}return i},ol.format.MVT.prototype.getLastExtent=function(){return this.extent_},ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER},ol.format.MVT.prototype.readFeatures=function(e,o){var t,r=this.layers_,i=new ol.ext.PBF(e),n=i.readFields(ol.format.MVT.pbfReaders_.layers,{}),l=[];for(var a in n)if(!r||-1!=r.indexOf(a)){t=n[a];for(var s,p=0,g=t.length;p<g;++p)s=ol.format.MVT.readRawFeature_(i,t,p),l.push(this.createFeature_(i,s));this.extent_=t?[0,0,t.extent,t.extent]:null}return l},ol.format.MVT.prototype.readProjection=function(e){return this.defaultDataProjection},ol.format.MVT.prototype.setLayers=function(e){this.layers_=e},ol.format.MVT.prototype.readFeature=function(){},ol.format.MVT.prototype.readGeometry=function(){},ol.format.MVT.prototype.writeFeature=function(){},ol.format.MVT.prototype.writeGeometry=function(){},ol.format.MVT.prototype.writeFeatures=function(){},goog.provide("ol.format.OSMXML"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.OSMXML=function(){ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326")},ol.inherits(ol.format.OSMXML,ol.format.XMLFeature),ol.format.OSMXML.readNode_=function(e,o){var t=o[0],r=o[o.length-1],i=e.getAttribute("id"),n=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];r.nodes[i]=n;var l=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,o);if(!ol.obj.isEmpty(l.tags)){var a=new ol.geom.Point(n);ol.format.Feature.transformWithOptions(a,!1,t);var s=new ol.Feature(a);s.setId(i),s.setProperties(l.tags),r.features.push(s)}},ol.format.OSMXML.readWay_=function(e,o){var t=e.getAttribute("id"),r=ol.xml.pushParseAndPop({id:t,ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,o);o[o.length-1].ways.push(r)},ol.format.OSMXML.readNd_=function(e,o){o[o.length-1].ndrefs.push(e.getAttribute("ref"))},ol.format.OSMXML.readTag_=function(e,o){o[o.length-1].tags[e.getAttribute("k")]=e.getAttribute("v")},ol.format.OSMXML.NAMESPACE_URIS_=[null],ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_}),ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.prototype.readFeatures,ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,o){var t=this.getReadOptions(e,o);if("osm"==e.localName){for(var r=ol.xml.pushParseAndPop({nodes:{},ways:[],features:[]},ol.format.OSMXML.PARSERS_,e,[t]),i=0;i<r.ways.length;i++){for(var n=r.ways[i],l=[],a=0,s=n.ndrefs.length;a<s;a++){var p=r.nodes[n.ndrefs[a]];ol.array.extend(l,p)}var g;n.ndrefs[0]==n.ndrefs[n.ndrefs.length-1]?(g=new ol.geom.Polygon(null),g.setFlatCoordinates(ol.geom.GeometryLayout.XY,l,[l.length])):(g=new ol.geom.LineString(null),g.setFlatCoordinates(ol.geom.GeometryLayout.XY,l)),ol.format.Feature.transformWithOptions(g,!1,t);var c=new ol.Feature(g);c.setId(n.id),c.setProperties(n.tags),r.features.push(c)}if(r.features)return r.features}return[]},ol.format.OSMXML.prototype.readProjection,ol.format.OSMXML.prototype.writeFeatureNode=function(e,o){},ol.format.OSMXML.prototype.writeFeaturesNode=function(e,o){},ol.format.OSMXML.prototype.writeGeometryNode=function(e,o){},goog.provide("ol.format.XLink"),ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink",ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")},goog.provide("ol.format.XML"),goog.require("ol.xml"),ol.format.XML=function(){},ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e))return this.readFromDocument(e);if(ol.xml.isNode(e))return this.readFromNode(e);if("string"==typeof e){var o=ol.xml.parse(e);return this.readFromDocument(o)}return null},ol.format.XML.prototype.readFromDocument=function(e){},ol.format.XML.prototype.readFromNode=function(e){},goog.provide("ol.format.OWS"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.OWS=function(){ol.format.XML.call(this)},ol.inherits(ol.format.OWS,ol.format.XML),ol.format.OWS.prototype.readFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readFromNode(o);return null},ol.format.OWS.prototype.readFromNode=function(e){var o=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[]);return o||null},ol.format.OWS.readAddress_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,o)},ol.format.OWS.readAllowedValues_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,o)},ol.format.OWS.readConstraint_=function(e,o){var t=e.getAttribute("name");if(t)return ol.xml.pushParseAndPop({name:t},ol.format.OWS.CONSTRAINT_PARSERS_,e,o)},ol.format.OWS.readContactInfo_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,o)},ol.format.OWS.readDcp_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,o)},ol.format.OWS.readGet_=function(e,o){var t=ol.format.XLink.readHref(e);if(t)return ol.xml.pushParseAndPop({href:t},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,o)},ol.format.OWS.readHttp_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,o)},ol.format.OWS.readOperation_=function(e,o){var t=e.getAttribute("name"),r=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,o);if(r){o[o.length-1][t]=r}},ol.format.OWS.readOperationsMetadata_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,o)},ol.format.OWS.readPhone_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,o)},ol.format.OWS.readServiceIdentification_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,o)},ol.format.OWS.readServiceContact_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,o)},ol.format.OWS.readServiceProvider_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,o)},ol.format.OWS.readValue_=function(e,o){return ol.format.XSD.readString(e)},ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)}),ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)}),ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)}),ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)}),ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)}),ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:void 0}),ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)}),ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_}),ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)}),ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)}),ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)}),goog.provide("ol.geom.flat.flip"),ol.geom.flat.flip.flipXY=function(e,o,t,r,i,n){var l,a;void 0!==i?(l=i,a=void 0!==n?n:0):(l=[],a=0);for(var s=o;s<t;){var p=e[s++];l[a++]=e[s++],l[a++]=p;for(var g=2;g<r;++g)l[a++]=e[s++]}return l.length=a,l},goog.provide("ol.format.Polyline"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.flip"),goog.require("ol.geom.flat.inflate"),goog.require("ol.proj"),ol.format.Polyline=function(e){var o=e||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.factor_=o.factor?o.factor:1e5,this.geometryLayout_=o.geometryLayout?o.geometryLayout:ol.geom.GeometryLayout.XY},ol.inherits(ol.format.Polyline,ol.format.TextFeature),ol.format.Polyline.encodeDeltas=function(e,o,t){var r,i=t||1e5,n=new Array(o);for(r=0;r<o;++r)n[r]=0;var l,a;for(l=0,a=e.length;l<a;)for(r=0;r<o;++r,++l){var s=e[l],p=s-n[r];n[r]=s,e[l]=p}return ol.format.Polyline.encodeFloats(e,i)},ol.format.Polyline.decodeDeltas=function(e,o,t){var r,i=t||1e5,n=new Array(o);for(r=0;r<o;++r)n[r]=0;var l,a,s=ol.format.Polyline.decodeFloats(e,i);for(l=0,a=s.length;l<a;)for(r=0;r<o;++r,++l)n[r]+=s[l],s[l]=n[r];return s},ol.format.Polyline.encodeFloats=function(e,o){var t,r,i=o||1e5;for(t=0,r=e.length;t<r;++t)e[t]=Math.round(e[t]*i);return ol.format.Polyline.encodeSignedIntegers(e)},ol.format.Polyline.decodeFloats=function(e,o){var t,r,i=o||1e5,n=ol.format.Polyline.decodeSignedIntegers(e);for(t=0,r=n.length;t<r;++t)n[t]/=i;return n},ol.format.Polyline.encodeSignedIntegers=function(e){var o,t;for(o=0,t=e.length;o<t;++o){var r=e[o];e[o]=r<0?~(r<<1):r<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)},ol.format.Polyline.decodeSignedIntegers=function(e){var o,t,r=ol.format.Polyline.decodeUnsignedIntegers(e);for(o=0,t=r.length;o<t;++o){var i=r[o];r[o]=1&i?~(i>>1):i>>1}return r},ol.format.Polyline.encodeUnsignedIntegers=function(e){var o,t,r="";for(o=0,t=e.length;o<t;++o)r+=ol.format.Polyline.encodeUnsignedInteger(e[o]);return r},ol.format.Polyline.decodeUnsignedIntegers=function(e){var o,t,r=[],i=0,n=0;for(o=0,t=e.length;o<t;++o){var l=e.charCodeAt(o)-63;i|=(31&l)<<n,l<32?(r.push(i),i=0,n=0):n+=5}return r},ol.format.Polyline.encodeUnsignedInteger=function(e){for(var o,t="";e>=32;)o=63+(32|31&e),t+=String.fromCharCode(o),e>>=5;return o=e+63,t+=String.fromCharCode(o)},ol.format.Polyline.prototype.readFeature,ol.format.Polyline.prototype.readFeatureFromText=function(e,o){var t=this.readGeometryFromText(e,o);return new ol.Feature(t)},ol.format.Polyline.prototype.readFeatures,ol.format.Polyline.prototype.readFeaturesFromText=function(e,o){return[this.readFeatureFromText(e,o)]},ol.format.Polyline.prototype.readGeometry,ol.format.Polyline.prototype.readGeometryFromText=function(e,o){var t=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_),r=ol.format.Polyline.decodeDeltas(e,t,this.factor_);ol.geom.flat.flip.flipXY(r,0,r.length,t,r);var i=ol.geom.flat.inflate.coordinates(r,0,r.length,t);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(i,this.geometryLayout_),!1,this.adaptOptions(o))},ol.format.Polyline.prototype.readProjection,ol.format.Polyline.prototype.writeFeatureText=function(e,o){var t=e.getGeometry();return t?this.writeGeometryText(t,o):(ol.asserts.assert(!1,40),"")},ol.format.Polyline.prototype.writeFeaturesText=function(e,o){return this.writeFeatureText(e[0],o)},ol.format.Polyline.prototype.writeGeometry,ol.format.Polyline.prototype.writeGeometryText=function(e,o){e=ol.format.Feature.transformWithOptions(e,!0,this.adaptOptions(o));var t=e.getFlatCoordinates(),r=e.getStride();return ol.geom.flat.flip.flipXY(t,0,t.length,r,t),ol.format.Polyline.encodeDeltas(t,r,this.factor_)},goog.provide("ol.format.TopoJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),ol.format.TopoJSON=function(e){var o=e||{};ol.format.JSONFeature.call(this),this.layerName_=o.layerName,this.layers_=o.layers?o.layers:null,this.defaultDataProjection=ol.proj.get(o.defaultDataProjection?o.defaultDataProjection:"EPSG:4326")},ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature),ol.format.TopoJSON.concatenateArcs_=function(e,o){var t,r,i,n,l,a,s=[];for(i=0,n=e.length;i<n;++i)t=e[i],i>0&&s.pop(),r=t>=0?o[t]:o[~t].slice().reverse(),s.push.apply(s,r);for(l=0,a=s.length;l<a;++l)s[l]=s[l].slice();return s},ol.format.TopoJSON.readPointGeometry_=function(e,o,t){var r=e.coordinates;return o&&t&&ol.format.TopoJSON.transformVertex_(r,o,t),new ol.geom.Point(r)},ol.format.TopoJSON.readMultiPointGeometry_=function(e,o,t){var r,i,n=e.coordinates;if(o&&t)for(r=0,i=n.length;r<i;++r)ol.format.TopoJSON.transformVertex_(n[r],o,t);return new ol.geom.MultiPoint(n)},ol.format.TopoJSON.readLineStringGeometry_=function(e,o){var t=ol.format.TopoJSON.concatenateArcs_(e.arcs,o);return new ol.geom.LineString(t)},ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,o){var t,r,i=[];for(t=0,r=e.arcs.length;t<r;++t)i[t]=ol.format.TopoJSON.concatenateArcs_(e.arcs[t],o);return new ol.geom.MultiLineString(i)},ol.format.TopoJSON.readPolygonGeometry_=function(e,o){var t,r,i=[];for(t=0,r=e.arcs.length;t<r;++t)i[t]=ol.format.TopoJSON.concatenateArcs_(e.arcs[t],o);return new ol.geom.Polygon(i)},ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,o){var t,r,i,n,l,a,s=[];for(l=0,a=e.arcs.length;l<a;++l){for(t=e.arcs[l],r=[],i=0,n=t.length;i<n;++i)r[i]=ol.format.TopoJSON.concatenateArcs_(t[i],o);s[l]=r}return new ol.geom.MultiPolygon(s)},ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,o,t,r,i,n,l){var a,s,p=e.geometries,g=[];for(a=0,s=p.length;a<s;++a)g[a]=ol.format.TopoJSON.readFeatureFromGeometry_(p[a],o,t,r,i,n,l);return g},ol.format.TopoJSON.readFeatureFromGeometry_=function(e,o,t,r,i,n,l){var a,s=e.type,p=ol.format.TopoJSON.GEOMETRY_READERS_[s];a="Point"===s||"MultiPoint"===s?p(e,t,r):p(e,o);var g=new ol.Feature;g.setGeometry(ol.format.Feature.transformWithOptions(a,!1,l)),void 0!==e.id&&g.setId(e.id);var c=e.properties;return i&&(c||(c={}),c[i]=n),c&&g.setProperties(c),g},ol.format.TopoJSON.prototype.readFeatures,ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,o){if("Topology"==e.type){var t,r=e,i=null,n=null;r.transform&&(t=r.transform,i=t.scale,n=t.translate);var l=r.arcs;t&&ol.format.TopoJSON.transformArcs_(l,i,n);var a,s,p=[],g=r.objects,c=this.layerName_;for(a in g)this.layers_&&-1==this.layers_.indexOf(a)||("GeometryCollection"===g[a].type?(s=g[a],p.push.apply(p,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(s,l,i,n,c,a,o))):(s=g[a],p.push(ol.format.TopoJSON.readFeatureFromGeometry_(s,l,i,n,c,a,o))));return p}return[]},ol.format.TopoJSON.transformArcs_=function(e,o,t){var r,i
;for(r=0,i=e.length;r<i;++r)ol.format.TopoJSON.transformArc_(e[r],o,t)},ol.format.TopoJSON.transformArc_=function(e,o,t){var r,i,n,l=0,a=0;for(i=0,n=e.length;i<n;++i)r=e[i],l+=r[0],a+=r[1],r[0]=l,r[1]=a,ol.format.TopoJSON.transformVertex_(r,o,t)},ol.format.TopoJSON.transformVertex_=function(e,o,t){e[0]=e[0]*o[0]+t[0],e[1]=e[1]*o[1]+t[1]},ol.format.TopoJSON.prototype.readProjection,ol.format.TopoJSON.prototype.readProjectionFromObject=function(e){return this.defaultDataProjection},ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_},ol.format.TopoJSON.prototype.writeFeatureObject=function(e,o){},ol.format.TopoJSON.prototype.writeFeaturesObject=function(e,o){},ol.format.TopoJSON.prototype.writeGeometryObject=function(e,o){},ol.format.TopoJSON.prototype.readGeometryFromObject=function(){},ol.format.TopoJSON.prototype.readFeatureFromObject=function(){},goog.provide("ol.format.WFS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.filter"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.WFS=function(e){var o=e||{};this.featureType_=o.featureType,this.featureNS_=o.featureNS,this.gmlFormat_=o.gmlFormat?o.gmlFormat:new ol.format.GML3,this.schemaLocation_=o.schemaLocation?o.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION],ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WFS,ol.format.XMLFeature),ol.format.WFS.FEATURE_PREFIX="feature",ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/",ol.format.WFS.OGCNS="http://www.opengis.net/ogc",ol.format.WFS.WFSNS="http://www.opengis.net/wfs",ol.format.WFS.FESNS="http://www.opengis.net/fes",ol.format.WFS.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},ol.format.WFS.DEFAULT_VERSION="1.1.0",ol.format.WFS.prototype.readFeatures,ol.format.WFS.prototype.readFeaturesFromNode=function(e,o){var t={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(t,this.getReadOptions(e,o||{}));var r=[t];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var i=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,r,this.gmlFormat_);return i||(i=[]),i},ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e))return this.readTransactionResponseFromDocument(e);if(ol.xml.isNode(e))return this.readTransactionResponseFromNode(e);if("string"==typeof e){var o=ol.xml.parse(e);return this.readTransactionResponseFromDocument(o)}},ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e))return this.readFeatureCollectionMetadataFromDocument(e);if(ol.xml.isNode(e))return this.readFeatureCollectionMetadataFromNode(e);if("string"==typeof e){var o=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(o)}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(o)},ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){var o={},t=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));return o.numberOfFeatures=t,ol.xml.pushParseAndPop(o,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}},ol.format.WFS.readTransactionSummary_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,o)},ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e,o){return e.getAttribute("fid")})}},ol.format.WFS.fidParser_=function(e,o){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,o)},ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(e,o){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,o)},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}},ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(o)},ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])},ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.WFS.writeFeature_=function(e,o,t){var r=t[t.length-1],i=r.featureType,n=r.featureNS,l=r.gmlVersion,a=ol.xml.createElementNS(n,i);e.appendChild(a),2===l?ol.format.GML2.prototype.writeFeatureElement(a,o,t):ol.format.GML3.prototype.writeFeatureElement(a,o,t)},ol.format.WFS.writeOgcFidFilter_=function(e,o,t){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter"),i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");r.appendChild(i),i.setAttribute("fid",o),e.appendChild(r)},ol.format.WFS.getTypeName_=function(e,o){e=e||ol.format.WFS.FEATURE_PREFIX;var t=e+":";return 0===o.indexOf(t)?o:t+o},ol.format.WFS.writeDelete_=function(e,o,t){var r=t[t.length-1];ol.asserts.assert(void 0!==o.getId(),26);var i=r.featureType,n=r.featurePrefix,l=r.featureNS,a=ol.format.WFS.getTypeName_(n,i);e.setAttribute("typeName",a),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,l);var s=o.getId();void 0!==s&&ol.format.WFS.writeOgcFidFilter_(e,s,t)},ol.format.WFS.writeUpdate_=function(e,o,t){var r=t[t.length-1];ol.asserts.assert(void 0!==o.getId(),27);var i=r.featureType,n=r.featurePrefix,l=r.featureNS,a=ol.format.WFS.getTypeName_(n,i),s=o.getGeometryName();e.setAttribute("typeName",a),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,l);var p=o.getId();if(void 0!==p){for(var g=o.getKeys(),c=[],u=0,y=g.length;u<y;u++){var h=o.get(g[u]);if(void 0!==h){var d=g[u];h instanceof ol.geom.Geometry&&(d=s),c.push({name:d,value:h})}}ol.xml.pushSerializeAndPop({gmlVersion:r.gmlVersion,node:e,hasZ:r.hasZ,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),c,t),ol.format.WFS.writeOgcFidFilter_(e,p,t)}},ol.format.WFS.writeProperty_=function(e,o,t){var r=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name"),i=t[t.length-1],n=i.gmlVersion;if(e.appendChild(r),ol.format.XSD.writeStringTextNode(r,o.name),void 0!==o.value&&null!==o.value){var l=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");e.appendChild(l),o.value instanceof ol.geom.Geometry?2===n?ol.format.GML2.prototype.writeGeometryElement(l,o.value,t):ol.format.GML3.prototype.writeGeometryElement(l,o.value,t):ol.format.XSD.writeStringTextNode(l,o.value)}},ol.format.WFS.writeNative_=function(e,o,t){o.vendorId&&e.setAttribute("vendorId",o.vendorId),void 0!==o.safeToIgnore&&e.setAttribute("safeToIgnore",o.safeToIgnore),void 0!==o.value&&ol.format.XSD.writeStringTextNode(e,o.value)},ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}},ol.format.WFS.writeQuery_=function(e,o,t){var r,i=t[t.length-1],n=i.featurePrefix,l=i.featureNS,a=i.propertyNames,s=i.srsName;r=n?ol.format.WFS.getTypeName_(n,o):o,e.setAttribute("typeName",r),s&&e.setAttribute("srsName",s),l&&ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,l);var p=ol.obj.assign({},i);p.node=e,ol.xml.pushSerializeAndPop(p,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),a,t);var g=i.filter;if(g){var c=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");e.appendChild(c),ol.format.WFS.writeFilterCondition_(c,g,t)}},ol.format.WFS.writeFilterCondition_=function(e,o,t){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(o.getTagName()),[o],t)},ol.format.WFS.writeBboxFilter_=function(e,o,t){t[t.length-1].srsName=o.srsName,ol.format.WFS.writeOgcPropertyName_(e,o.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,o.extent,t)},ol.format.WFS.writeIntersectsFilter_=function(e,o,t){t[t.length-1].srsName=o.srsName,ol.format.WFS.writeOgcPropertyName_(e,o.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,o.geometry,t)},ol.format.WFS.writeWithinFilter_=function(e,o,t){t[t.length-1].srsName=o.srsName,ol.format.WFS.writeOgcPropertyName_(e,o.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,o.geometry,t)},ol.format.WFS.writeDuringFilter_=function(e,o,t){var r=ol.xml.createElementNS(ol.format.WFS.FESNS,"ValueReference");ol.format.XSD.writeStringTextNode(r,o.propertyName),e.appendChild(r);var i=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimePeriod");e.appendChild(i);var n=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"begin");i.appendChild(n),ol.format.WFS.writeTimeInstant_(n,o.begin);var l=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"end");i.appendChild(l),ol.format.WFS.writeTimeInstant_(l,o.end)},ol.format.WFS.writeLogicalFilter_=function(e,o,t){for(var r={node:e},i=o.conditions,n=0,l=i.length;n<l;++n){var a=i[n];ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],t)}},ol.format.WFS.writeNotFilter_=function(e,o,t){var r={node:e},i=o.condition;ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(i.getTagName()),[i],t)},ol.format.WFS.writeComparisonFilter_=function(e,o,t){void 0!==o.matchCase&&e.setAttribute("matchCase",o.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(e,o.propertyName),ol.format.WFS.writeOgcLiteral_(e,""+o.expression)},ol.format.WFS.writeIsNullFilter_=function(e,o,t){ol.format.WFS.writeOgcPropertyName_(e,o.propertyName)},ol.format.WFS.writeIsBetweenFilter_=function(e,o,t){ol.format.WFS.writeOgcPropertyName_(e,o.propertyName);var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");e.appendChild(r),ol.format.WFS.writeOgcLiteral_(r,""+o.lowerBoundary);var i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");e.appendChild(i),ol.format.WFS.writeOgcLiteral_(i,""+o.upperBoundary)},ol.format.WFS.writeIsLikeFilter_=function(e,o,t){e.setAttribute("wildCard",o.wildCard),e.setAttribute("singleChar",o.singleChar),e.setAttribute("escapeChar",o.escapeChar),void 0!==o.matchCase&&e.setAttribute("matchCase",o.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(e,o.propertyName),ol.format.WFS.writeOgcLiteral_(e,""+o.pattern)},ol.format.WFS.writeOgcExpression_=function(e,o,t){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,e);ol.format.XSD.writeStringTextNode(r,t),o.appendChild(r)},ol.format.WFS.writeOgcPropertyName_=function(e,o){ol.format.WFS.writeOgcExpression_("PropertyName",e,o)},ol.format.WFS.writeOgcLiteral_=function(e,o){ol.format.WFS.writeOgcExpression_("Literal",e,o)},ol.format.WFS.writeTimeInstant_=function(e,o){var t=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimeInstant");e.appendChild(t);var r=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"timePosition");t.appendChild(r),ol.format.XSD.writeStringTextNode(r,o)},ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{During:ol.xml.makeChildAppender(ol.format.WFS.writeDuringFilter_),And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}},ol.format.WFS.writeFilter=function(e){var o=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");return ol.format.WFS.writeFilterCondition_(o,e,[]),o},ol.format.WFS.writeGetFeature_=function(e,o,t){var r=t[t.length-1],i=ol.obj.assign({},r);i.node=e,ol.xml.pushSerializeAndPop(i,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),o,t)},ol.format.WFS.prototype.writeGetFeature=function(e){var o=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");o.setAttribute("service","WFS"),o.setAttribute("version","1.1.0");var t;if(e&&(e.handle&&o.setAttribute("handle",e.handle),e.outputFormat&&o.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&o.setAttribute("maxFeatures",e.maxFeatures),e.resultType&&o.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&o.setAttribute("startIndex",e.startIndex),void 0!==e.count&&o.setAttribute("count",e.count),t=e.filter,e.bbox)){ol.asserts.assert(e.geometryName,12);var r=ol.format.filter.bbox(e.geometryName,e.bbox,e.srsName);t=t?ol.format.filter.and(t,r):r}ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var i={node:o,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:t,propertyNames:e.propertyNames?e.propertyNames:[]};return ol.asserts.assert(Array.isArray(e.featureTypes),11),ol.format.WFS.writeGetFeature_(o,e.featureTypes,[i]),o},ol.format.WFS.prototype.writeTransaction=function(e,o,t,r){var i=[],n=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction"),l=r.version?r.version:ol.format.WFS.DEFAULT_VERSION,a="1.0.0"===l?2:3;n.setAttribute("service","WFS"),n.setAttribute("version",l);var s,p;r&&(s=r.gmlOptions?r.gmlOptions:{},r.handle&&n.setAttribute("handle",r.handle));var g=ol.format.WFS.SCHEMA_LOCATIONS[l];ol.xml.setAttributeNS(n,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",g);var c=r.featurePrefix?r.featurePrefix:ol.format.WFS.FEATURE_PREFIX;return e&&(p={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:a,hasZ:r.hasZ,srsName:r.srsName},ol.obj.assign(p,s),ol.xml.pushSerializeAndPop(p,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,i)),o&&(p={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:a,hasZ:r.hasZ,srsName:r.srsName},ol.obj.assign(p,s),ol.xml.pushSerializeAndPop(p,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),o,i)),t&&ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:a,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),t,i),r.nativeElements&&ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:a,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),r.nativeElements,i),n},ol.format.WFS.prototype.readProjection,ol.format.WFS.prototype.readProjectionFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(o);return null},ol.format.WFS.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var o=e.firstElementChild;o;o=o.nextElementSibling)if(0!==o.childNodes.length&&(1!==o.childNodes.length||3!==o.firstChild.nodeType)){var t=[{}];return this.gmlFormat_.readGeometryElement(o,t),ol.proj.get(t.pop().srsName)}}return null},goog.provide("ol.format.WKT"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),ol.format.WKT=function(e){var o=e||{};ol.format.TextFeature.call(this),this.splitCollection_=void 0!==o.splitCollection&&o.splitCollection},ol.inherits(ol.format.WKT,ol.format.TextFeature),ol.format.WKT.EMPTY="EMPTY",ol.format.WKT.Z="Z",ol.format.WKT.M="M",ol.format.WKT.ZM="ZM",ol.format.WKT.encodePointGeometry_=function(e){var o=e.getCoordinates();return 0===o.length?"":o.join(" ")},ol.format.WKT.encodeMultiPointGeometry_=function(e){for(var o=[],t=e.getPoints(),r=0,i=t.length;r<i;++r)o.push("("+ol.format.WKT.encodePointGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){for(var o=[],t=e.getGeometries(),r=0,i=t.length;r<i;++r)o.push(ol.format.WKT.encode_(t[r]));return o.join(",")},ol.format.WKT.encodeLineStringGeometry_=function(e){for(var o=e.getCoordinates(),t=[],r=0,i=o.length;r<i;++r)t.push(o[r].join(" "));return t.join(",")},ol.format.WKT.encodeMultiLineStringGeometry_=function(e){for(var o=[],t=e.getLineStrings(),r=0,i=t.length;r<i;++r)o.push("("+ol.format.WKT.encodeLineStringGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodePolygonGeometry_=function(e){for(var o=[],t=e.getLinearRings(),r=0,i=t.length;r<i;++r)o.push("("+ol.format.WKT.encodeLineStringGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodeMultiPolygonGeometry_=function(e){for(var o=[],t=e.getPolygons(),r=0,i=t.length;r<i;++r)o.push("("+ol.format.WKT.encodePolygonGeometry_(t[r])+")");return o.join(",")},ol.format.WKT.encodeGeometryLayout_=function(e){var o=e.getLayout(),t="";return o!==ol.geom.GeometryLayout.XYZ&&o!==ol.geom.GeometryLayout.XYZM||(t+=ol.format.WKT.Z),o!==ol.geom.GeometryLayout.XYM&&o!==ol.geom.GeometryLayout.XYZM||(t+=ol.format.WKT.M),t},ol.format.WKT.encode_=function(e){var o=e.getType(),t=ol.format.WKT.GeometryEncoder_[o],r=t(e);if(o=o.toUpperCase(),e instanceof ol.geom.SimpleGeometry){var i=ol.format.WKT.encodeGeometryLayout_(e);i.length>0&&(o+=" "+i)}return 0===r.length?o+" "+ol.format.WKT.EMPTY:o+"("+r+")"},ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_},ol.format.WKT.prototype.parse_=function(e){var o=new ol.format.WKT.Lexer(e);return new ol.format.WKT.Parser(o).parse()},ol.format.WKT.prototype.readFeature,ol.format.WKT.prototype.readFeatureFromText=function(e,o){var t=this.readGeometryFromText(e,o);if(t){var r=new ol.Feature;return r.setGeometry(t),r}return null},ol.format.WKT.prototype.readFeatures,ol.format.WKT.prototype.readFeaturesFromText=function(e,o){var t=[],r=this.readGeometryFromText(e,o);t=this.splitCollection_&&r.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION?r.getGeometriesArray():[r];for(var i,n=[],l=0,a=t.length;l<a;++l)i=new ol.Feature,i.setGeometry(t[l]),n.push(i);return n},ol.format.WKT.prototype.readGeometry,ol.format.WKT.prototype.readGeometryFromText=function(e,o){var t=this.parse_(e);return t?ol.format.Feature.transformWithOptions(t,!1,o):null},ol.format.WKT.prototype.writeFeature,ol.format.WKT.prototype.writeFeatureText=function(e,o){var t=e.getGeometry();return t?this.writeGeometryText(t,o):""},ol.format.WKT.prototype.writeFeatures,ol.format.WKT.prototype.writeFeaturesText=function(e,o){if(1==e.length)return this.writeFeatureText(e[0],o);for(var t=[],r=0,i=e.length;r<i;++r)t.push(e[r].getGeometry());var n=new ol.geom.GeometryCollection(t);return this.writeGeometryText(n,o)},ol.format.WKT.prototype.writeGeometry,ol.format.WKT.prototype.writeGeometryText=function(e,o){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,!0,o))},ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},ol.format.WKT.Lexer=function(e){this.wkt=e,this.index_=-1},ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},ol.format.WKT.Lexer.prototype.isNumeric_=function(e,o){var t=void 0!==o&&o;return e>="0"&&e<="9"||"."==e&&!t},ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e},ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_(),o={position:this.index_,value:e};if("("==e)o.type=ol.format.WKT.TokenType_.LEFT_PAREN;else if(","==e)o.type=ol.format.WKT.TokenType_.COMMA;else if(")"==e)o.type=ol.format.WKT.TokenType_.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)o.type=ol.format.WKT.TokenType_.NUMBER,o.value=this.readNumber_();else if(this.isAlpha_(e))o.type=ol.format.WKT.TokenType_.TEXT,o.value=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);o.type=ol.format.WKT.TokenType_.EOF}return o},ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,o=this.index_,t=!1,r=!1;do{"."==e?t=!0:"e"!=e&&"E"!=e||(r=!0),e=this.nextChar_()}while(this.isNumeric_(e,t)||!r&&("e"==e||"E"==e)||r&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(o,this.index_--))},ol.format.WKT.Lexer.prototype.readText_=function(){var e,o=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(o,this.index_--).toUpperCase()},ol.format.WKT.Parser=function(e){this.lexer_=e,this.token_,this.layout_=ol.geom.GeometryLayout.XY},ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},ol.format.WKT.Parser.prototype.isTokenType=function(e){return this.token_.type==e},ol.format.WKT.Parser.prototype.match=function(e){var o=this.isTokenType(e);return o&&this.consume_(),o},ol.format.WKT.Parser.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var e=ol.geom.GeometryLayout.XY,o=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var t=o.value;t===ol.format.WKT.Z?e=ol.geom.GeometryLayout.XYZ:t===ol.format.WKT.M?e=ol.geom.GeometryLayout.XYM:t===ol.format.WKT.ZM&&(e=ol.geom.GeometryLayout.XYZM),e!==ol.geom.GeometryLayout.XY&&this.consume_()}return e},ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var o=e.value;if(this.layout_=this.parseGeometryLayout_(),o==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var t=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(t)}var r=ol.format.WKT.Parser.GeometryParser_[o],i=ol.format.WKT.Parser.GeometryConstructor_[o];if(!r||!i)throw new Error("Invalid geometry type: "+o);return new i(r.call(this),this.layout_)}throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e;if(e=this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var e=[],o=this.layout_.length,t=0;t<o;++t){var r=this.token_;if(!this.match(ol.format.WKT.TokenType_.NUMBER))break;e.push(r.value)}if(e.length==o)return e;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointList_=function(){for(var e=[this.parsePoint_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePoint_());return e},ol.format.WKT.Parser.prototype.parsePointTextList_=function(){for(var e=[this.parsePointText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePointText_());return e},ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){for(var e=[this.parseLineStringText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parseLineStringText_());return e},ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){for(var e=[this.parsePolygonText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePolygonText_());return e},ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;return e&&this.consume_(),e},ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon},ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_},goog.provide("ol.format.WMSCapabilities"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMSCapabilities=function(){ol.format.XML.call(this),this.version=void 0},ol.inherits(ol.format.WMSCapabilities,ol.format.XML),ol.format.WMSCapabilities.prototype.read,ol.format.WMSCapabilities.prototype.readFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readFromNode(o);return null},ol.format.WMSCapabilities.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var o=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[]);return o||null},ol.format.WMSCapabilities.readAttribution_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,o)},ol.format.WMSCapabilities.readBoundingBox_=function(e,o){var t=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))],r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:t,res:r}},ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,o);if(t){var r=t.westBoundLongitude,i=t.southBoundLatitude,n=t.eastBoundLongitude,l=t.northBoundLatitude;if(void 0!==r&&void 0!==i&&void 0!==n&&void 0!==l)return[r,i,n,l]}},ol.format.WMSCapabilities.readCapability_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,o)},ol.format.WMSCapabilities.readService_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactInformation_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,o)},ol.format.WMSCapabilities.readContactAddress_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,o)},ol.format.WMSCapabilities.readException_=function(e,o){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,o)},ol.format.WMSCapabilities.readCapabilityLayer_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,o)},ol.format.WMSCapabilities.readLayer_=function(e,o){var t=o[o.length-1],r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,o);if(r){
var i=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));void 0===i&&(i=t.queryable),r.queryable=void 0!==i&&i;var n=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));void 0===n&&(n=t.cascaded),r.cascaded=n;var l=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));void 0===l&&(l=t.opaque),r.opaque=void 0!==l&&l;var a=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));void 0===a&&(a=t.noSubsets),r.noSubsets=void 0!==a&&a;var s=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));s||(s=t.fixedWidth),r.fixedWidth=s;var p=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));p||(p=t.fixedHeight),r.fixedHeight=p;["Style","CRS","AuthorityURL"].forEach(function(e){if(e in t){var o=r[e]||[];r[e]=o.concat(t[e])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){if(!(e in r)){var o=t[e];r[e]=o}}),r}},ol.format.WMSCapabilities.readDimension_=function(e,o){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)}},ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,o)},ol.format.WMSCapabilities.readRequest_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,o)},ol.format.WMSCapabilities.readDCPType_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,o)},ol.format.WMSCapabilities.readHTTP_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,o)},ol.format.WMSCapabilities.readOperationType_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,o)},ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,o){var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);if(t){var r=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];return t.size=r,t}},ol.format.WMSCapabilities.readAuthorityURL_=function(e,o){var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);if(t)return t.name=e.getAttribute("name"),t},ol.format.WMSCapabilities.readMetadataURL_=function(e,o){var t=ol.format.WMSCapabilities.readFormatOnlineresource_(e,o);if(t)return t.type=e.getAttribute("type"),t},ol.format.WMSCapabilities.readStyle_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,o)},ol.format.WMSCapabilities.readKeywordList_=function(e,o){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,o)},ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"],ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)}),ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)}),ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)}),ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)}),ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)}),ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)}),ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)}),ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),goog.provide("ol.format.WMSGetFeatureInfo"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.GML2"),goog.require("ol.format.XMLFeature"),goog.require("ol.obj"),goog.require("ol.xml"),ol.format.WMSGetFeatureInfo=function(e){var o=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new ol.format.GML2,this.layers_=o.layers?o.layers:null,ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature),ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature",ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer",ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,o){e.setAttribute("namespaceURI",this.featureNS_);var t=e.localName,r=[];if(0===e.childNodes.length)return r;if("msGMLOutput"==t)for(var i=0,n=e.childNodes.length;i<n;i++){var l=e.childNodes[i];if(l.nodeType===Node.ELEMENT_NODE){var a=o[0],s=ol.format.WMSGetFeatureInfo.layerIdentifier_,p=l.localName.replace(s,"");if(!this.layers_||ol.array.includes(this.layers_,p)){var g=p+ol.format.WMSGetFeatureInfo.featureIdentifier_;a.featureType=g,a.featureNS=this.featureNS_;var c={};c[g]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var u=ol.xml.makeStructureNS([a.featureNS,null],c);l.setAttribute("namespaceURI",this.featureNS_);var y=ol.xml.pushParseAndPop([],u,l,o,this.gmlFormat_);y&&ol.array.extend(r,y)}}}if("FeatureCollection"==t){var h=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);h&&(r=h)}return r},ol.format.WMSGetFeatureInfo.prototype.readFeatures,ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,o){var t={};return o&&ol.obj.assign(t,this.getReadOptions(e,o)),this.readFeatures_(e,[t])},ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(e,o){},ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(e,o){},ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(e,o){},goog.provide("ol.format.WMTSCapabilities"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.OWS"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMTSCapabilities=function(){ol.format.XML.call(this),this.owsParser_=new ol.format.OWS},ol.inherits(ol.format.WMTSCapabilities,ol.format.XML),ol.format.WMTSCapabilities.prototype.read,ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return this.readFromNode(o);return null},ol.format.WMTSCapabilities.prototype.readFromNode=function(e){var o=e.getAttribute("version").trim(),t=this.owsParser_.readFromNode(e);return t?(t.version=o,(t=ol.xml.pushParseAndPop(t,ol.format.WMTSCapabilities.PARSERS_,e,[]))||null):null},ol.format.WMTSCapabilities.readContents_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readLayer_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,o)},ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readStyle_=function(e,o){var t=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,o);if(t){var r="true"===e.getAttribute("isDefault");return t.isDefault=r,t}},ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,o)},ol.format.WMTSCapabilities.readDimensions_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,e,o)};ol.format.WMTSCapabilities.readResourceUrl_=function(e,o){var t=e.getAttribute("format"),r=e.getAttribute("template"),i=e.getAttribute("resourceType"),n={};return t&&(n.format=t),r&&(n.template=r),i&&(n.resourceType=i),n},ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,o){var t=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,o);if(2==t.length)return ol.extent.boundingExtent(t)},ol.format.WMTSCapabilities.readLegendUrl_=function(e,o){var t={};return t.format=e.getAttribute("format"),t.href=ol.format.XLink.readHref(e),t},ol.format.WMTSCapabilities.readCoordinates_=function(e,o){var t=ol.format.XSD.readString(e).split(" ");if(t&&2==t.length){var r=+t[0],i=+t[1];if(!isNaN(r)&&!isNaN(i))return[r,i]}},ol.format.WMTSCapabilities.readTileMatrix_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,o)},ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(e,o){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,e,o)},ol.format.WMTSCapabilities.readTileMatrixLimits_=function(e,o){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,e,o)},ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"],ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)}),ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)}),ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)}),ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)}),ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)}),ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),goog.provide("ol.GeolocationProperty"),ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},goog.provide("ol.Geolocation"),goog.require("ol"),goog.require("ol.GeolocationProperty"),goog.require("ol.Object"),goog.require("ol.Sphere"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.geom.Polygon"),goog.require("ol.has"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.proj.EPSG4326"),ol.Geolocation=function(e){ol.Object.call(this);var o=e||{};this.position_=null,this.transform_=ol.proj.identityTransform,this.sphere_=new ol.Sphere(ol.proj.EPSG4326.RADIUS),this.watchId_=void 0,ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this),void 0!==o.projection&&this.setProjection(o.projection),void 0!==o.trackingOptions&&this.setTrackingOptions(o.trackingOptions),this.setTracking(void 0!==o.tracking&&o.tracking)},ol.inherits(ol.Geolocation,ol.Object),ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();e&&(this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e),this.position_&&this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_)))},ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},ol.Geolocation.prototype.positionChange_=function(e){var o=e.coords;this.set(ol.GeolocationProperty.ACCURACY,o.accuracy),this.set(ol.GeolocationProperty.ALTITUDE,null===o.altitude?void 0:o.altitude),this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,null===o.altitudeAccuracy?void 0:o.altitudeAccuracy),this.set(ol.GeolocationProperty.HEADING,null===o.heading?void 0:ol.math.toRadians(o.heading)),this.position_?(this.position_[0]=o.longitude,this.position_[1]=o.latitude):this.position_=[o.longitude,o.latitude];var t=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,t),this.set(ol.GeolocationProperty.SPEED,null===o.speed?void 0:o.speed);var r=ol.geom.Polygon.circular(this.sphere_,this.position_,o.accuracy);r.applyTransform(this.transform_),this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,r),this.changed()},ol.Geolocation.prototype.positionError_=function(e){e.type=ol.events.EventType.ERROR,this.setTracking(!1),this.dispatchEvent(e)},ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)},ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null},ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)},ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)},ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)},ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)},ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)},ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)},ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)},ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)},ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,ol.proj.get(e))},ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)},ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)},goog.provide("ol.geom.Circle"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),ol.geom.Circle=function(e,o,t){ol.geom.SimpleGeometry.call(this);var r=o||0;this.setCenterAndRadius(e,r,t)},ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry),ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Circle.prototype.closestPointXY=function(e,o,t,r){var i=this.flatCoordinates,n=e-i[0],l=o-i[1],a=n*n+l*l;if(a<r){var s;if(0===a)for(s=0;s<this.stride;++s)t[s]=i[s];else{var p=this.getRadius()/Math.sqrt(a);for(t[0]=i[0]+p*n,t[1]=i[1]+p*l,s=2;s<this.stride;++s)t[s]=i[s]}return t.length=this.stride,a}return r},ol.geom.Circle.prototype.containsXY=function(e,o){var t=this.flatCoordinates,r=e-t[0],i=o-t[1];return r*r+i*i<=this.getRadiusSquared_()},ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.Circle.prototype.computeExtent=function(e){var o=this.flatCoordinates,t=o[this.stride]-o[0];return ol.extent.createOrUpdate(o[0]-t,o[1]-t,o[0]+t,o[1]+t,e)},ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+o*o},ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE},ol.geom.Circle.prototype.intersectsExtent=function(e){var o=this.getExtent();if(ol.extent.intersects(e,o)){var t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||(e[1]<=t[1]&&e[3]>=t[1]||ol.extent.forEachCorner(e,this.intersectsCoordinate,this))}return!1},ol.geom.Circle.prototype.setCenter=function(e){var o=this.stride,t=this.flatCoordinates[o]-this.flatCoordinates[0],r=e.slice();r[o]=r[0]+t;var i;for(i=1;i<o;++i)r[o+i]=e[i];this.setFlatCoordinates(this.layout,r)},ol.geom.Circle.prototype.setCenterAndRadius=function(e,o,t){if(e){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=ol.geom.flat.deflate.coordinate(r,0,e,this.stride);r[i++]=r[0]+o;var n,l;for(n=1,l=this.stride;n<l;++n)r[i++]=r[n];r.length=i,this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Circle.prototype.getCoordinates=function(){},ol.geom.Circle.prototype.setCoordinates=function(e,o){},ol.geom.Circle.prototype.setFlatCoordinates=function(e,o){this.setFlatCoordinatesInternal(e,o),this.changed()},ol.geom.Circle.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},ol.geom.Circle.prototype.transform,goog.provide("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),ol.geom.flat.geodesic.line_=function(e,o,t){for(var r,i,n,l,a,s,p=[],g=e(0),c=e(1),u=o(g),y=o(c),h=[c,g],d=[y,u],m=[1,0],f={},_=1e5;--_>0&&m.length>0;)n=m.pop(),g=h.pop(),u=d.pop(),s=n.toString(),s in f||(p.push(u[0],u[1]),f[s]=!0),l=m.pop(),c=h.pop(),y=d.pop(),a=(n+l)/2,r=e(a),i=o(r),ol.math.squaredSegmentDistance(i[0],i[1],u[0],u[1],y[0],y[1])<t?(p.push(y[0],y[1]),s=l.toString(),f[s]=!0):(m.push(l,a,a,n),d.push(y,i,i,u),h.push(c,r,r,g));return p},ol.geom.flat.geodesic.greatCircleArc=function(e,o,t,r,i,n){var l=ol.proj.get("EPSG:4326"),a=Math.cos(ol.math.toRadians(o)),s=Math.sin(ol.math.toRadians(o)),p=Math.cos(ol.math.toRadians(r)),g=Math.sin(ol.math.toRadians(r)),c=Math.cos(ol.math.toRadians(t-e)),u=Math.sin(ol.math.toRadians(t-e)),y=s*g+a*p*c;return ol.geom.flat.geodesic.line_(function(o){if(1<=y)return[t,r];var i=o*Math.acos(y),n=Math.cos(i),l=Math.sin(i),h=u*p,d=a*g-s*p*c,m=Math.atan2(h,d),f=Math.asin(s*n+a*l*Math.cos(m)),_=ol.math.toRadians(e)+Math.atan2(Math.sin(m)*l*a,n-s*Math.sin(f));return[ol.math.toDegrees(_),ol.math.toDegrees(f)]},ol.proj.getTransform(l,i),n)},ol.geom.flat.geodesic.meridian=function(e,o,t,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[e,o+(t-o)*r]},ol.proj.getTransform(n,r),i)},ol.geom.flat.geodesic.parallel=function(e,o,t,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[o+(t-o)*r,e]},ol.proj.getTransform(n,r),i)},goog.provide("ol.geom.flat.topology"),goog.require("ol.geom.flat.area"),ol.geom.flat.topology.lineStringIsClosed=function(e,o,t,r){var i=t-r;return e[o]===e[i]&&e[o+1]===e[i+1]&&(t-o)/r>3&&!!ol.geom.flat.area.linearRing(e,o,t,r)},goog.provide("ol.Graticule"),goog.require("ol.coordinate"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.render.EventType"),goog.require("ol.style.Fill"),goog.require("ol.style.Stroke"),goog.require("ol.style.Text"),ol.Graticule=function(e){var o=e||{};if(this.map_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==o.targetSize?o.targetSize:100,this.maxLines_=void 0!==o.maxLines?o.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==o.strokeStyle?o.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==o.showLabels){var t=ol.coordinate.degreesToStringHDMS;this.lonLabelFormatter_=void 0==o.lonLabelFormatter?t.bind(this,"EW"):o.lonLabelFormatter,this.latLabelFormatter_=void 0==o.latLabelFormatter?t.bind(this,"NS"):o.latLabelFormatter,this.lonLabelPosition_=void 0==o.lonLabelPosition?0:o.lonLabelPosition,this.latLabelPosition_=void 0==o.latLabelPosition?1:o.latLabelPosition,this.lonLabelStyle_=void 0!==o.lonLabelStyle?o.lonLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==o.latLabelStyle?o.latLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]}this.setMap(void 0!==o.map?o.map:null)},ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"}),ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],ol.Graticule.prototype.addMeridian_=function(e,o,t,r,i,n){var l=this.getMeridian_(e,o,t,r,n);if(ol.extent.intersects(l.getExtent(),i)){if(this.meridiansLabels_){var a=this.getMeridianPoint_(l,i,n);this.meridiansLabels_[n]={geom:a,text:this.lonLabelFormatter_(e)}}this.meridians_[n++]=l}return n},
ol.Graticule.prototype.getMeridianPoint_=function(e,o,t){var r=e.getFlatCoordinates(),i=Math.max(o[1],r[1]),n=Math.min(o[3],r[r.length-1]),l=ol.math.clamp(o[1]+Math.abs(o[1]-o[3])*this.lonLabelPosition_,i,n),a=[r[0],l],s=void 0!==this.meridiansLabels_[t]?this.meridiansLabels_[t].geom:new ol.geom.Point(null);return s.setCoordinates(a),s},ol.Graticule.prototype.addParallel_=function(e,o,t,r,i,n){var l=this.getParallel_(e,o,t,r,n);if(ol.extent.intersects(l.getExtent(),i)){if(this.parallelsLabels_){var a=this.getParallelPoint_(l,i,n);this.parallelsLabels_[n]={geom:a,text:this.latLabelFormatter_(e)}}this.parallels_[n++]=l}return n},ol.Graticule.prototype.getParallelPoint_=function(e,o,t){var r=e.getFlatCoordinates(),i=Math.max(o[0],r[0]),n=Math.min(o[2],r[r.length-2]),l=ol.math.clamp(o[0]+Math.abs(o[0]-o[2])*this.latLabelPosition_,i,n),a=[l,r[1]],s=void 0!==this.parallelsLabels_[t]?this.parallelsLabels_[t].geom:new ol.geom.Point(null);return s.setCoordinates(a),s},ol.Graticule.prototype.createGraticule_=function(e,o,t,r){var i=this.getInterval_(t);if(-1==i)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var n,l,a,s,p=this.toLonLatTransform_(o),g=p[0],c=p[1],u=this.maxLines_,y=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)];y=ol.proj.transformExtent(y,this.projection_,"EPSG:4326");var h=y[3],d=y[2],m=y[1],f=y[0];for(g=Math.floor(g/i)*i,s=ol.math.clamp(g,this.minLon_,this.maxLon_),l=this.addMeridian_(s,m,h,r,e,0),n=0;s!=this.minLon_&&n++<u;)s=Math.max(s-i,this.minLon_),l=this.addMeridian_(s,m,h,r,e,l);for(s=ol.math.clamp(g,this.minLon_,this.maxLon_),n=0;s!=this.maxLon_&&n++<u;)s=Math.min(s+i,this.maxLon_),l=this.addMeridian_(s,m,h,r,e,l);for(this.meridians_.length=l,this.meridiansLabels_&&(this.meridiansLabels_.length=l),c=Math.floor(c/i)*i,a=ol.math.clamp(c,this.minLat_,this.maxLat_),l=this.addParallel_(a,f,d,r,e,0),n=0;a!=this.minLat_&&n++<u;)a=Math.max(a-i,this.minLat_),l=this.addParallel_(a,f,d,r,e,l);for(a=ol.math.clamp(c,this.minLat_,this.maxLat_),n=0;a!=this.maxLat_&&n++<u;)a=Math.min(a+i,this.maxLat_),l=this.addParallel_(a,f,d,r,e,l);this.parallels_.length=l,this.parallelsLabels_&&(this.parallelsLabels_.length=l)},ol.Graticule.prototype.getInterval_=function(e){var o,t,r,i=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],l=-1,a=Math.pow(this.targetSize_*e,2),s=[],p=[];for(o=0,t=ol.Graticule.intervals_.length;o<t&&(r=ol.Graticule.intervals_[o]/2,s[0]=i-r,s[1]=n-r,p[0]=i+r,p[1]=n+r,this.fromLonLatTransform_(s,s),this.fromLonLatTransform_(p,p),!(Math.pow(p[0]-s[0],2)+Math.pow(p[1]-s[1],2)<=a));++o)l=ol.Graticule.intervals_[o];return l},ol.Graticule.prototype.getMap=function(){return this.map_},ol.Graticule.prototype.getMeridian_=function(e,o,t,r,i){var n=ol.geom.flat.geodesic.meridian(e,o,t,this.projection_,r),l=void 0!==this.meridians_[i]?this.meridians_[i]:new ol.geom.LineString(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n),l},ol.Graticule.prototype.getMeridians=function(){return this.meridians_},ol.Graticule.prototype.getParallel_=function(e,o,t,r,i){var n=ol.geom.flat.geodesic.parallel(e,o,t,this.projection_,r),l=void 0!==this.parallels_[i]?this.parallels_[i]:new ol.geom.LineString(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n),l},ol.Graticule.prototype.getParallels=function(){return this.parallels_},ol.Graticule.prototype.handlePostCompose_=function(e){var o=e.vectorContext,t=e.frameState,r=t.extent,i=t.viewState,n=i.center,l=i.projection,a=i.resolution,s=t.pixelRatio,p=a*a/(4*s*s);(!this.projection_||!ol.proj.equivalent(this.projection_,l))&&this.updateProjectionInfo_(l),this.createGraticule_(r,n,a,p),o.setFillStrokeStyle(null,this.strokeStyle_);var g,c,u;for(g=0,c=this.meridians_.length;g<c;++g)u=this.meridians_[g],o.drawGeometry(u);for(g=0,c=this.parallels_.length;g<c;++g)u=this.parallels_[g],o.drawGeometry(u);var y;if(this.meridiansLabels_)for(g=0,c=this.meridiansLabels_.length;g<c;++g)y=this.meridiansLabels_[g],this.lonLabelStyle_.setText(y.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(y.geom);if(this.parallelsLabels_)for(g=0,c=this.parallelsLabels_.length;g<c;++g)y=this.parallelsLabels_[g],this.latLabelStyle_.setText(y.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(y.geom)},ol.Graticule.prototype.updateProjectionInfo_=function(e){var o=ol.proj.get("EPSG:4326"),t=e.getExtent(),r=e.getWorldExtent(),i=ol.proj.transformExtent(r,o,e),n=r[3],l=r[2],a=r[1],s=r[0],p=i[3],g=i[2],c=i[1],u=i[0];this.maxLat_=n,this.maxLon_=l,this.minLat_=a,this.minLon_=s,this.maxLatP_=p,this.maxLonP_=g,this.minLatP_=c,this.minLonP_=u,this.fromLonLatTransform_=ol.proj.getTransform(o,e),this.toLonLatTransform_=ol.proj.getTransform(e,o),this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(t)),this.projection_=e},ol.Graticule.prototype.setMap=function(e){this.map_&&(this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),this.map_.render()),e&&(e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e},goog.provide("ol.ImageBase"),goog.require("ol"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.ImageBase=function(e,o,t,r,i){ol.events.EventTarget.call(this),this.attributions_=i,this.extent=e,this.pixelRatio_=t,this.resolution=o,this.state=r},ol.inherits(ol.ImageBase,ol.events.EventTarget),ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.ImageBase.prototype.getAttributions=function(){return this.attributions_},ol.ImageBase.prototype.getExtent=function(){return this.extent},ol.ImageBase.prototype.getImage=function(){},ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ol.ImageBase.prototype.getResolution=function(){return this.resolution},ol.ImageBase.prototype.getState=function(){return this.state},ol.ImageBase.prototype.load=function(){},goog.provide("ol.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),ol.Image=function(e,o,t,r,i,n,l){ol.ImageBase.call(this,e,o,t,ol.ImageState.IDLE,r),this.src_=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.state=ol.ImageState.IDLE,this.imageLoadFunction_=l},ol.inherits(ol.Image,ol.ImageBase),ol.Image.prototype.getImage=function(){return this.image_},ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR,this.unlistenImage_(),this.changed()},ol.Image.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=ol.extent.getHeight(this.extent)/this.image_.height),this.state=ol.ImageState.LOADED,this.unlistenImage_(),this.changed()},ol.Image.prototype.load=function(){this.state!=ol.ImageState.IDLE&&this.state!=ol.ImageState.ERROR||(this.state=ol.ImageState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},ol.Image.prototype.setImage=function(e){this.image_=e},ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.ImageCanvas"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),ol.ImageCanvas=function(e,o,t,r,i,n){this.loader_=void 0!==n?n:null;var l=void 0!==n?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,o,t,l,r),this.canvas_=i,this.error_=null},ol.inherits(ol.ImageCanvas,ol.ImageBase),ol.ImageCanvas.prototype.getError=function(){return this.error_},ol.ImageCanvas.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=ol.ImageState.ERROR):this.state=ol.ImageState.LOADED,this.changed()},ol.ImageCanvas.prototype.load=function(){this.state==ol.ImageState.IDLE&&(this.state=ol.ImageState.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},ol.ImageCanvas.prototype.getImage=function(){return this.canvas_},goog.provide("ol.Tile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.easing"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Tile=function(e,o,t){ol.events.EventTarget.call(this);var r=t||{};this.tileCoord=e,this.state=o,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}},ol.inherits(ol.Tile,ol.events.EventTarget),ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord},ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==ol.TileState.LOADED)return e;e=e.interimTile}while(e);return this},ol.Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,o=this;do{if(e.getState()==ol.TileState.LOADED){e.interimTile=null;break}e.getState()==ol.TileState.LOADING?o=e:e.getState()==ol.TileState.IDLE?o.interimTile=e.interimTile:o=e,e=o.interimTile}while(e)}},ol.Tile.prototype.getTileCoord=function(){return this.tileCoord},ol.Tile.prototype.getState=function(){return this.state},ol.Tile.prototype.setState=function(e){this.state=e,this.changed()},ol.Tile.prototype.load=function(){},ol.Tile.prototype.getAlpha=function(e,o){if(!this.transition_)return 1;var t=this.transitionStarts_[e];if(t){if(-1===t)return 1}else t=o,this.transitionStarts_[e]=t;var r=o-t+1e3/60;return r>=this.transition_?1:ol.easing.easeIn(r/this.transition_)},ol.Tile.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},ol.Tile.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},goog.provide("ol.ImageTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.ImageTile=function(e,o,t,r,i,n){ol.Tile.call(this,e,o,n),this.src_=t,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=i},ol.inherits(ol.ImageTile,ol.Tile),ol.ImageTile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&(this.unlistenImage_(),this.image_.src=ol.ImageTile.blankImageUrl),this.interimTile&&this.interimTile.dispose(),this.state=ol.TileState.ABORT,this.changed(),ol.Tile.prototype.disposeInternal.call(this)},ol.ImageTile.prototype.getImage=function(){return this.image_},ol.ImageTile.prototype.getKey=function(){return this.src_},ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR,this.unlistenImage_(),this.image_.src=ol.ImageTile.blankImageUrl,this.changed()},ol.ImageTile.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=ol.TileState.LOADED:this.state=ol.TileState.EMPTY,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.load=function(){this.state!=ol.TileState.IDLE&&this.state!=ol.TileState.ERROR||(this.state=ol.TileState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},ol.ImageTile.blankImageUrl=function(){var e=ol.dom.createCanvasContext2D(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas.toDataURL("image/png")}(),goog.provide("ol.interaction.DragAndDrop"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction"),goog.require("ol.proj"),ol.interaction.DragAndDrop=function(e){var o=e||{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent}),this.formatConstructors_=o.formatConstructors?o.formatConstructors:[],this.projection_=o.projection?ol.proj.get(o.projection):null,this.dropListenKeys_=null,this.source_=o.source||null,this.target=o.target?o.target:null},ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction),ol.interaction.DragAndDrop.handleDrop_=function(e){var o,t,r,i=e.dataTransfer.files;for(o=0,t=i.length;o<t;++o){r=i.item(o);var n=new FileReader;n.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,r)),n.readAsText(r)}},ol.interaction.DragAndDrop.handleStop_=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},ol.interaction.DragAndDrop.prototype.handleResult_=function(e,o){var t=o.target.result,r=this.getMap(),i=this.projection_;if(!i){i=r.getView().getProjection()}var n,l,a=this.formatConstructors_,s=[];for(n=0,l=a.length;n<l;++n){var p=a[n],g=new p;if((s=this.tryReadFeatures_(g,t,{featureProjection:i}))&&s.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,e,s,i))},ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE,ol.interaction.DragAndDrop.prototype.registerListeners_=function(){var e=this.getMap();if(e){var o=this.target?this.target:e.getViewport();this.dropListenKeys_=[ol.events.listen(o,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(o,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(o,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(o,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}},ol.interaction.DragAndDrop.prototype.setActive=function(e){ol.interaction.Interaction.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},ol.interaction.DragAndDrop.prototype.setMap=function(e){this.unregisterListeners_(),ol.interaction.Interaction.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,o,t){try{return e.readFeatures(o,t)}catch(e){return null}},ol.interaction.DragAndDrop.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(ol.events.unlistenByKey),this.dropListenKeys_=null)},ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"},ol.interaction.DragAndDrop.Event=function(e,o,t,r){ol.events.Event.call(this,e),this.features=t,this.file=o,this.projection=r},ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event),goog.provide("ol.interaction.DragRotateAndZoom"),goog.require("ol"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotateAndZoom=function(e){var o=e||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_}),this.condition_=o.condition?o.condition:ol.events.condition.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==o.duration?o.duration:400},ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer),ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var o=e.map,t=o.getSize(),r=e.pixel,i=r[0]-t[0]/2,n=t[1]/2-r[1],l=Math.atan2(n,i),a=Math.sqrt(i*i+n*n),s=o.getView();if(s.getConstraints().rotation!==ol.RotationConstraint.disable&&void 0!==this.lastAngle_){var p=l-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(s,s.getRotation()-p)}if(this.lastAngle_=l,void 0!==this.lastMagnitude_){var g=this.lastMagnitude_*(s.getResolution()/a);ol.interaction.Interaction.zoomWithoutConstraints(s,g)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var o=e.map,t=o.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var r=this.lastScaleDelta_-1;return ol.interaction.Interaction.rotate(t,t.getRotation()),ol.interaction.Interaction.zoom(t,t.getResolution(),void 0,this.duration_,r),this.lastScaleDelta_=0,!1},ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){return!!ol.events.condition.mouseOnly(e)&&(!!this.condition_(e)&&(e.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},goog.provide("ol.interaction.DrawEventType"),ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"},goog.provide("ol.layer.Vector"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),goog.require("ol.obj"),goog.require("ol.style.Style"),ol.layer.Vector=function(e){var o=e||{},t=ol.obj.assign({},o);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,ol.layer.Layer.call(this,t),this.renderBuffer_=void 0!==o.renderBuffer?o.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(o.style),this.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,this.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,this.type=ol.LayerType.VECTOR},ol.inherits(ol.layer.Vector,ol.layer.Layer),ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_},ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)},ol.layer.Vector.prototype.getSource,ol.layer.Vector.prototype.getStyle=function(){return this.style_},ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},ol.layer.Vector.prototype.setRenderOrder=function(e){this.set(ol.layer.Vector.Property_.RENDER_ORDER,e)},ol.layer.Vector.prototype.setStyle=function(e){this.style_=void 0!==e?e:ol.style.Style.defaultFunction,this.styleFunction_=null===e?void 0:ol.style.Style.createFunction(this.style_),this.changed()},ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"},goog.provide("ol.loadingstrategy"),ol.loadingstrategy.all=function(e,o){return[[-1/0,-1/0,1/0,1/0]]},ol.loadingstrategy.bbox=function(e,o){return[e]},ol.loadingstrategy.tile=function(e){return function(o,t){var r=e.getZForResolution(t),i=e.getTileRangeForExtentAndZ(o,r),n=[],l=[r,0,0];for(l[1]=i.minX;l[1]<=i.maxX;++l[1])for(l[2]=i.minY;l[2]<=i.maxY;++l[2])n.push(e.getTileCoordExtent(l));return n}},goog.provide("ol.source.Source"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Object"),goog.require("ol.proj"),goog.require("ol.source.State"),ol.source.Source=function(e){ol.Object.call(this),this.projection_=ol.proj.get(e.projection),this.attributions_=ol.source.Source.toAttributionsArray_(e.attributions),this.logo_=e.logo,this.state_=void 0!==e.state?e.state:ol.source.State.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX},ol.inherits(ol.source.Source,ol.Object),ol.source.Source.toAttributionsArray_=function(e){if("string"==typeof e)return[new ol.Attribution({html:e})];if(e instanceof ol.Attribution)return[e];if(Array.isArray(e)){for(var o=e.length,t=new Array(o),r=0;r<o;r++){var i=e[r];t[r]="string"==typeof i?new ol.Attribution({html:i}):i}return t}return null},ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.source.Source.prototype.getAttributions=function(){return this.attributions_},ol.source.Source.prototype.getLogo=function(){return this.logo_},ol.source.Source.prototype.getProjection=function(){return this.projection_},ol.source.Source.prototype.getResolutions=function(){},ol.source.Source.prototype.getState=function(){return this.state_},ol.source.Source.prototype.getWrapX=function(){return this.wrapX_},ol.source.Source.prototype.refresh=function(){this.changed()},ol.source.Source.prototype.setAttributions=function(e){this.attributions_=ol.source.Source.toAttributionsArray_(e),this.changed()},ol.source.Source.prototype.setLogo=function(e){this.logo_=e},ol.source.Source.prototype.setState=function(e){this.state_=e,this.changed()},goog.provide("ol.source.VectorEventType"),ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},goog.provide("ol.ext.rbush"),ol.ext.rbush=function(){},function(){!function(e){"use strict";function o(e,i,n,l,a){for(n=n||0,l=l||e.length-1,a=a||r;l>n;){if(l-n>600){var s=l-n+1,p=i-n+1,g=Math.log(s),c=.5*Math.exp(2*g/3),u=.5*Math.sqrt(g*c*(s-c)/s)*(p-s/2<0?-1:1);o(e,i,Math.max(n,Math.floor(i-p*c/s+u)),Math.min(l,Math.floor(i+(s-p)*c/s+u)),a)}var y=e[i],h=n,d=l;for(t(e,n,i),a(e[l],y)>0&&t(e,n,l);h<d;){for(t(e,h,d),h++,d--;a(e[h],y)<0;)h++;for(;a(e[d],y)>0;)d--}0===a(e[n],y)?t(e,n,d):(d++,t(e,d,l)),d<=i&&(n=d+1),i<=d&&(l=d-1)}}function t(e,o,t){var r=e[o];e[o]=e[t],e[t]=r}function r(e,o){return e<o?-1:e>o?1:0}function i(e,o){if(!(this instanceof i))return new i(e,o);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),o&&this._initFormat(o),this.clear()}function n(e,o,t){if(!t)return o.indexOf(e);for(var r=0;r<o.length;r++)if(t(e,o[r]))return r;return-1}function l(e,o){a(e,0,e.children.length,o,e)}function a(e,o,t,r,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var n,l=o;l<t;l++)n=e.children[l],s(i,e.leaf?r(n):n);return i}function s(e,o){return e.minX=Math.min(e.minX,o.minX),e.minY=Math.min(e.minY,o.minY),e.maxX=Math.max(e.maxX,o.maxX),e.maxY=Math.max(e.maxY,o.maxY),e}function p(e,o){return e.minX-o.minX}function g(e,o){return e.minY-o.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function y(e,o){return(Math.max(o.maxX,e.maxX)-Math.min(o.minX,e.minX))*(Math.max(o.maxY,e.maxY)-Math.min(o.minY,e.minY))}function h(e,o){var t=Math.max(e.minX,o.minX),r=Math.max(e.minY,o.minY),i=Math.min(e.maxX,o.maxX),n=Math.min(e.maxY,o.maxY);return Math.max(0,i-t)*Math.max(0,n-r)}function d(e,o){return e.minX<=o.minX&&e.minY<=o.minY&&o.maxX<=e.maxX&&o.maxY<=e.maxY}function m(e,o){return o.minX<=e.maxX&&o.minY<=e.maxY&&o.maxX>=e.minX&&o.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,o,t,r,i){for(var n,l=[o,t];l.length;)t=l.pop(),o=l.pop(),t-o<=r||(n=o+Math.ceil((t-o)/r/2)*r,v(e,n,o,t,i),l.push(o,n,n,t))}var v=o,S=i;i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var o=this.data,t=[],r=this.toBBox;if(!m(e,o))return t;for(var i,n,l,a,s=[];o;){for(i=0,n=o.children.length;i<n;i++)l=o.children[i],a=o.leaf?r(l):l,m(e,a)&&(o.leaf?t.push(l):d(e,a)?this._all(l,t):s.push(l));o=s.pop()}return t},collides:function(e){var o=this.data,t=this.toBBox;if(!m(e,o))return!1;for(var r,i,n,l,a=[];o;){for(r=0,i=o.children.length;r<i;r++)if(n=o.children[r],l=o.leaf?t(n):n,m(e,l)){if(o.leaf||d(e,l))return!0;a.push(n)}o=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var o=0,t=e.length;o<t;o++)this.insert(e[o]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(e,o){if(!e)return this;for(var t,r,i,l,a=this.data,s=this.toBBox(e),p=[],g=[];a||p.length;){if(a||(a=p.pop(),r=p[p.length-1],t=g.pop(),l=!0),a.leaf&&-1!==(i=n(e,a.children,o)))return a.children.splice(i,1),p.push(a),this._condense(p),this;l||a.leaf||!d(a,s)?r?(t++,a=r.children[t],l=!1):a=null:(p.push(a),g.push(t),t=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:p,compareMinY:g,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,o){for(var t=[];e;)e.leaf?o.push.apply(o,e.children):t.push.apply(t,e.children),e=t.pop();return o},_build:function(e,o,t,r){var i,n=t-o+1,a=this._maxEntries;if(n<=a)return i=f(e.slice(o,t+1)),l(i,this.toBBox),i;r||(r=Math.ceil(Math.log(n)/Math.log(a)),a=Math.ceil(n/Math.pow(a,r-1))),i=f([]),i.leaf=!1,i.height=r;var s,p,g,c,u=Math.ceil(n/a),y=u*Math.ceil(Math.sqrt(a));for(_(e,o,t,y,this.compareMinX),s=o;s<=t;s+=y)for(g=Math.min(s+y-1,t),_(e,s,g,u,this.compareMinY),p=s;p<=g;p+=u)c=Math.min(p+u-1,g),i.children.push(this._build(e,p,c,r-1));return l(i,this.toBBox),i},_chooseSubtree:function(e,o,t,r){for(var i,n,l,a,s,p,g,u;;){if(r.push(o),o.leaf||r.length-1===t)break;for(g=u=1/0,i=0,n=o.children.length;i<n;i++)l=o.children[i],s=c(l),p=y(e,l)-s,p<u?(u=p,g=s<g?s:g,a=l):p===u&&s<g&&(g=s,a=l);o=a||o.children[0]}return o},_insert:function(e,o,t){var r=this.toBBox,i=t?e:r(e),n=[],l=this._chooseSubtree(i,this.data,o,n);for(l.children.push(e),s(l,i);o>=0&&n[o].children.length>this._maxEntries;)this._split(n,o),o--;this._adjustParentBBoxes(i,n,o)},_split:function(e,o){var t=e[o],r=t.children.length,i=this._minEntries;this._chooseSplitAxis(t,i,r);var n=this._chooseSplitIndex(t,i,r),a=f(t.children.splice(n,t.children.length-n));a.height=t.height,a.leaf=t.leaf,l(t,this.toBBox),l(a,this.toBBox),o?e[o-1].children.push(a):this._splitRoot(t,a)},_splitRoot:function(e,o){this.data=f([e,o]),this.data.height=e.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(e,o,t){var r,i,n,l,s,p,g,u;for(p=g=1/0,r=o;r<=t-o;r++)i=a(e,0,r,this.toBBox),n=a(e,r,t,this.toBBox),l=h(i,n),s=c(i)+c(n),l<p?(p=l,u=r,g=s<g?s:g):l===p&&s<g&&(g=s,u=r);return u},_chooseSplitAxis:function(e,o,t){var r=e.leaf?this.compareMinX:p,i=e.leaf?this.compareMinY:g;this._allDistMargin(e,o,t,r)<this._allDistMargin(e,o,t,i)&&e.children.sort(r)},_allDistMargin:function(e,o,t,r){e.children.sort(r);var i,n,l=this.toBBox,p=a(e,0,o,l),g=a(e,t-o,t,l),c=u(p)+u(g);for(i=o;i<t-o;i++)n=e.children[i],s(p,e.leaf?l(n):n),c+=u(p);for(i=t-o-1;i>=o;i--)n=e.children[i],s(g,e.leaf?l(n):n),c+=u(g);return c},_adjustParentBBoxes:function(e,o,t){for(var r=t;r>=0;r--)s(o[r],e)},_condense:function(e){for(var o,t=e.length-1;t>=0;t--)0===e[t].children.length?t>0?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():l(e[t],this.toBBox)},_initFormat:function(e){var o=["return a"," - b",";"];this.compareMinX=new Function("a","b",o.join(e[0])),this.compareMinY=new Function("a","b",o.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},e.default=S}(this.rbush=this.rbush||{})}.call(ol.ext),ol.ext.rbush=ol.ext.rbush.default,goog.provide("ol.structs.RBush"),goog.require("ol"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.obj"),ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e),this.items_={}},ol.structs.RBush.prototype.insert=function(e,o){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:o};this.rbush_.insert(t),this.items_[ol.getUid(o)]=t},ol.structs.RBush.prototype.load=function(e,o){for(var t=new Array(o.length),r=0,i=o.length;r<i;r++){var n=e[r],l=o[r],a={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:l};t[r]=a,this.items_[ol.getUid(l)]=a}this.rbush_.load(t)},ol.structs.RBush.prototype.remove=function(e){var o=ol.getUid(e),t=this.items_[o];return delete this.items_[o],null!==this.rbush_.remove(t)},ol.structs.RBush.prototype.update=function(e,o){var t=this.items_[ol.getUid(o)],r=[t.minX,t.minY,t.maxX,t.maxY];ol.extent.equals(r,e)||(this.remove(o),this.insert(e,o))},ol.structs.RBush.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},ol.structs.RBush.prototype.getInExtent=function(e){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(o).map(function(e){return e.value})},ol.structs.RBush.prototype.forEach=function(e,o){return this.forEach_(this.getAll(),e,o)},ol.structs.RBush.prototype.forEachInExtent=function(e,o,t){return this.forEach_(this.getInExtent(e),o,t)},ol.structs.RBush.prototype.forEach_=function(e,o,t){for(var r,i=0,n=e.length;i<n;i++)if(r=o.call(t,e[i]))return r;return r},ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)},ol.structs.RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},ol.structs.RBush.prototype.getExtent=function(e){var o=this.rbush_.data;return ol.extent.createOrUpdate(o.minX,o.minY,o.maxX,o.maxY,e)},ol.structs.RBush.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var o in e.items_)this.items_[0|o]=e.items_[0|o]},goog.provide("ol.source.Vector"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.ObjectEventType"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.functions"),goog.require("ol.loadingstrategy"),goog.require("ol.obj"),goog.require("ol.source.Source"),goog.require("ol.source.State"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.source.Vector=function(e){var o=e||{};ol.source.Source.call(this,{attributions:o.attributions,logo:o.logo,projection:void 0,state:ol.source.State.READY,wrapX:void 0===o.wrapX||o.wrapX}),this.loader_=ol.nullFunction,this.format_=o.format,this.overlaps_=void 0==o.overlaps||o.overlaps,this.url_=o.url,void 0!==o.loader?this.loader_=o.loader:void 0!==this.url_&&(ol.asserts.assert(this.format_,7),this.loader_=ol.featureloader.xhr(this.url_,this.format_)),this.strategy_=void 0!==o.strategy?o.strategy:ol.loadingstrategy.all;var t=void 0===o.useSpatialIndex||o.useSpatialIndex;this.featuresRtree_=t?new ol.structs.RBush:null,this.loadedExtentsRtree_=new ol.structs.RBush,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var r,i;o.features instanceof ol.Collection?(r=o.features,i=r.getArray()):Array.isArray(o.features)&&(i=o.features),t||void 0!==r||(r=new ol.Collection(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==r&&this.bindFeaturesCollection_(r)},ol.inherits(ol.source.Vector,ol.source.Source),ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},ol.source.Vector.prototype.addFeatureInternal=function(e){var o=ol.getUid(e).toString();if(this.addToIndex_(o,e)){this.setupChangeEvents_(o,e);var t=e.getGeometry();if(t){var r=t.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[o]=e;this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,e))}},ol.source.Vector.prototype.setupChangeEvents_=function(e,o){this.featureChangeKeys_[e]=[ol.events.listen(o,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(o,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},ol.source.Vector.prototype.addToIndex_=function(e,o){var t=!0,r=o.getId();return void 0!==r?r.toString()in this.idIndex_?t=!1:this.idIndex_[r.toString()]=o:(ol.asserts.assert(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=o),t},ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},
ol.source.Vector.prototype.addFeaturesInternal=function(e){var o,t,r,i,n=[],l=[],a=[];for(t=0,r=e.length;t<r;t++)i=e[t],o=ol.getUid(i).toString(),this.addToIndex_(o,i)&&l.push(i);for(t=0,r=l.length;t<r;t++){i=l[t],o=ol.getUid(i).toString(),this.setupChangeEvents_(o,i);var s=i.getGeometry();if(s){var p=s.getExtent();n.push(p),a.push(i)}else this.nullGeometryFeatures_[o]=i}for(this.featuresRtree_&&this.featuresRtree_.load(n,a),t=0,r=l.length;t<r;t++)this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,l[t]))},ol.source.Vector.prototype.bindFeaturesCollection_=function(e){var o=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(t){o||(o=!0,e.push(t.feature),o=!1)}),ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(t){o||(o=!0,e.remove(t.feature),o=!1)}),ol.events.listen(e,ol.CollectionEventType.ADD,function(e){o||(o=!0,this.addFeature(e.element),o=!1)},this),ol.events.listen(e,ol.CollectionEventType.REMOVE,function(e){o||(o=!0,this.removeFeature(e.element),o=!1)},this),this.featuresCollection_=e},ol.source.Vector.prototype.clear=function(e){if(e){for(var o in this.featureChangeKeys_){this.featureChangeKeys_[o].forEach(ol.events.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(r),this.changed()},ol.source.Vector.prototype.forEachFeature=function(e,o){return this.featuresRtree_?this.featuresRtree_.forEach(e,o):this.featuresCollection_?this.featuresCollection_.forEach(e,o):void 0},ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,o,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?o.call(t,r):void 0})},ol.source.Vector.prototype.forEachFeatureInExtent=function(e,o,t){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(e,o,t):this.featuresCollection_?this.featuresCollection_.forEach(o,t):void 0},ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,o,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var i=o.call(t,r);if(i)return i}})},ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_},ol.source.Vector.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ol.obj.isEmpty(this.nullGeometryFeatures_)||ol.array.extend(e,ol.obj.getValues(this.nullGeometryFeatures_))),e},ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var o=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){o.push(e)}),o},ol.source.Vector.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e,o){var t=e[0],r=e[1],i=null,n=[NaN,NaN],l=1/0,a=[-1/0,-1/0,1/0,1/0],s=o||ol.functions.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(s(e)){var o=e.getGeometry(),p=l;if((l=o.closestPointXY(t,r,n,l))<p){i=e;var g=Math.sqrt(l);a[0]=t-g,a[1]=r-g,a[2]=t+g,a[3]=r+g}}}),i},ol.source.Vector.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},ol.source.Vector.prototype.getFeatureById=function(e){var o=this.idIndex_[e.toString()];return void 0!==o?o:null},ol.source.Vector.prototype.getFormat=function(){return this.format_},ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_},ol.source.Vector.prototype.getResolutions=function(){},ol.source.Vector.prototype.getUrl=function(){return this.url_},ol.source.Vector.prototype.handleFeatureChange_=function(e){var o=e.target,t=ol.getUid(o).toString(),r=o.getGeometry();if(r){var i=r.getExtent();t in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[t],this.featuresRtree_&&this.featuresRtree_.insert(i,o)):this.featuresRtree_&&this.featuresRtree_.update(i,o)}else t in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(o),this.nullGeometryFeatures_[t]=o);var n=o.getId();if(void 0!==n){var l=n.toString();t in this.undefIdIndex_?(delete this.undefIdIndex_[t],this.idIndex_[l]=o):this.idIndex_[l]!==o&&(this.removeFromIdIndex_(o),this.idIndex_[l]=o)}else t in this.undefIdIndex_||(this.removeFromIdIndex_(o),this.undefIdIndex_[t]=o);this.changed(),this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,o))},ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)},ol.source.Vector.prototype.loadFeatures=function(e,o,t){var r,i,n=this.loadedExtentsRtree_,l=this.strategy_(e,o);for(r=0,i=l.length;r<i;++r){var a=l[r];n.forEachInExtent(a,function(e){return ol.extent.containsExtent(e.extent,a)})||(this.loader_.call(this,a,o,t),n.insert(a,{extent:a.slice()}))}},ol.source.Vector.prototype.removeFeature=function(e){var o=ol.getUid(e).toString();o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},ol.source.Vector.prototype.removeFeatureInternal=function(e){var o=ol.getUid(e).toString();this.featureChangeKeys_[o].forEach(ol.events.unlistenByKey),delete this.featureChangeKeys_[o];var t=e.getId();void 0!==t?delete this.idIndex_[t.toString()]:delete this.undefIdIndex_[o],this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,e))},ol.source.Vector.prototype.removeFromIdIndex_=function(e){var o=!1;for(var t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t],o=!0;break}return o},ol.source.Vector.prototype.setLoader=function(e){this.loader_=e},ol.source.Vector.Event=function(e,o){ol.events.Event.call(this,e),this.feature=o},ol.inherits(ol.source.Vector.Event,ol.events.Event),goog.provide("ol.interaction.Draw"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.Object"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.Circle"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.DrawEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Property"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Draw=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_}),this.shouldHandle_=!1,this.downPx_=null,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=ol.interaction.Draw.getMode_(this.type_),this.minPoints_=e.minPoints?e.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ol.functions.TRUE;var o=e.geometryFunction;if(!o)if(this.type_===ol.geom.GeometryType.CIRCLE)o=function(e,o){var t=o||new ol.geom.Circle([NaN,NaN]),r=ol.coordinate.squaredDistance(e[0],e[1]);return t.setCenterAndRadius(e[0],Math.sqrt(r)),t};else{var t,r=this.mode_;r===ol.interaction.Draw.Mode_.POINT?t=ol.geom.Point:r===ol.interaction.Draw.Mode_.LINE_STRING?t=ol.geom.LineString:r===ol.interaction.Draw.Mode_.POLYGON&&(t=ol.geom.Polygon),o=function(e,o){var i=o;return i?r===ol.interaction.Draw.Mode_.POLYGON?i.setCoordinates([e[0].concat([e[0][0]])]):i.setCoordinates(e):i=new t(e),i}}this.geometryFunction_=o,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:ol.interaction.Draw.getDefaultStyleFunction()}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:ol.events.condition.noModifierKeys,this.freehandCondition_,e.freehand?this.freehandCondition_=ol.events.condition.always:this.freehandCondition_=e.freehandCondition?e.freehandCondition:ol.events.condition.shiftKeyOnly,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)},ol.inherits(ol.interaction.Draw,ol.interaction.Pointer),ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(o,t){return e[o.getGeometry().getType()]}},ol.interaction.Draw.prototype.setMap=function(e){ol.interaction.Pointer.prototype.setMap.call(this,e),this.updateState_()},ol.interaction.Draw.handleEvent=function(e){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(e);var o=!0;return this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDOWN?o=!1:e.type===ol.MapBrowserEventType.POINTERMOVE?o=this.handlePointerMove_(e):e.type===ol.MapBrowserEventType.DBLCLICK&&(o=!1),ol.interaction.Pointer.handleEvent.call(this,e)&&o},ol.interaction.Draw.handleDownEvent_=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):!!this.condition_(e)&&(this.downPx_=e.pixel,!0)},ol.interaction.Draw.handleUpEvent_=function(e){var o=!0;this.handlePointerMove_(e);var t=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||t?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===ol.interaction.Draw.Mode_.POINT&&this.finishDrawing()),o=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),o},ol.interaction.Draw.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var o=this.downPx_,t=e.pixel,r=o[0]-t[0],i=o[1]-t[1],n=r*r+i*i;this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},ol.interaction.Draw.prototype.atFinish_=function(e){var o=!1;if(this.sketchFeature_){var t=!1,r=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?t=this.sketchCoords_.length>this.minPoints_:this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(t=this.sketchCoords_[0].length>this.minPoints_,r=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),t)for(var i=e.map,n=0,l=r.length;n<l;n++){var a=r[n],s=i.getPixelFromCoordinate(a),p=e.pixel,g=p[0]-s[0],c=p[1]-s[1],u=this.freehand_?1:this.snapTolerance_;if(o=Math.sqrt(g*g+c*c)<=u){this.finishCoordinate_=a;break}}}return o},ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var o=e.coordinate.slice();if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(o)}else this.sketchPoint_=new ol.Feature(new ol.geom.Point(o)),this.updateSketchFeatures_()},ol.interaction.Draw.prototype.startDrawing_=function(e){var o=e.coordinate;this.finishCoordinate_=o,this.mode_===ol.interaction.Draw.Mode_.POINT?this.sketchCoords_=o.slice():this.mode_===ol.interaction.Draw.Mode_.POLYGON?(this.sketchCoords_=[[o.slice(),o.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):(this.sketchCoords_=[o.slice(),o.slice()],this.mode_===ol.interaction.Draw.Mode_.CIRCLE&&(this.sketchLineCoords_=this.sketchCoords_)),this.sketchLineCoords_&&(this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_)));var t=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(t),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.modifyDrawing_=function(e){var o,t,r=e.coordinate,i=this.sketchFeature_.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.POINT?t=this.sketchCoords_:this.mode_===ol.interaction.Draw.Mode_.POLYGON?(o=this.sketchCoords_[0],t=o[o.length-1],this.atFinish_(e)&&(r=this.finishCoordinate_.slice())):(o=this.sketchCoords_,t=o[o.length-1]),t[0]=r[0],t[1]=r[1],this.geometryFunction_(this.sketchCoords_,i),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(r)}var n;if(i instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){this.sketchLine_||(this.sketchLine_=new ol.Feature(new ol.geom.LineString(null)));var l=i.getLinearRing(0);n=this.sketchLine_.getGeometry(),n.setFlatCoordinates(l.getLayout(),l.getFlatCoordinates())}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry(),n.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},ol.interaction.Draw.prototype.addToDrawing_=function(e){var o,t,r=e.coordinate,i=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(this.finishCoordinate_=r.slice(),t=this.sketchCoords_,t.length>=this.maxPoints_&&(this.freehand_?t.pop():o=!0),t.push(r.slice()),this.geometryFunction_(t,i)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(t=this.sketchCoords_[0],t.length>=this.maxPoints_&&(this.freehand_?t.pop():o=!0),t.push(r.slice()),o&&(this.finishCoordinate_=t[0]),this.geometryFunction_(this.sketchCoords_,i)),this.updateSketchFeatures_(),o&&this.finishDrawing()},ol.interaction.Draw.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,o,t=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(e=this.sketchCoords_,e.splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(e=this.sketchCoords_[0],e.splice(-2,1),o=this.sketchLine_.getGeometry(),o.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_(),o=this.sketchCoords_,t=e.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(o.pop(),this.geometryFunction_(o,t)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(o[0].pop(),this.geometryFunction_(o,t),o=t.getCoordinates()),this.type_===ol.geom.GeometryType.MULTI_POINT?e.setGeometry(new ol.geom.MultiPoint([o])):this.type_===ol.geom.GeometryType.MULTI_LINE_STRING?e.setGeometry(new ol.geom.MultiLineString([o])):this.type_===ol.geom.GeometryType.MULTI_POLYGON&&e.setGeometry(new ol.geom.MultiPolygon([o])),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)},ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},ol.interaction.Draw.prototype.extend=function(e){var o=e.getGeometry(),t=o;this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(e)},ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap(),o=this.getActive();e&&o||this.abortDrawing_(),this.overlay_.setMap(o?e:null)},ol.interaction.Draw.createRegularPolygon=function(e,o){return function(t,r){var i=t[0],n=t[1],l=Math.sqrt(ol.coordinate.squaredDistance(i,n)),a=r||ol.geom.Polygon.fromCircle(new ol.geom.Circle(i),e),s=o||Math.atan((n[1]-i[1])/(n[0]-i[0]));return ol.geom.Polygon.makeRegular(a,i,l,s),a}},ol.interaction.Draw.createBox=function(){return function(e,o){var t=ol.extent.boundingExtent(e),r=o||new ol.geom.Polygon(null);return r.setCoordinates([[ol.extent.getBottomLeft(t),ol.extent.getBottomRight(t),ol.extent.getTopRight(t),ol.extent.getTopLeft(t),ol.extent.getBottomLeft(t)]]),r}},ol.interaction.Draw.getMode_=function(e){var o;return e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT?o=ol.interaction.Draw.Mode_.POINT:e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING?o=ol.interaction.Draw.Mode_.LINE_STRING:e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON?o=ol.interaction.Draw.Mode_.POLYGON:e===ol.geom.GeometryType.CIRCLE&&(o=ol.interaction.Draw.Mode_.CIRCLE),o},ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ol.interaction.Draw.Event=function(e,o){ol.events.Event.call(this,e),this.feature=o};ol.inherits(ol.interaction.Draw.Event,ol.events.Event),goog.provide("ol.interaction.ExtentEventType"),ol.interaction.ExtentEventType={EXTENTCHANGED:"extentchanged"},goog.provide("ol.interaction.Extent"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.coordinate"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.ExtentEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Extent=function(e){this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_}),this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)},ol.inherits(ol.interaction.Extent,ol.interaction.Pointer),ol.interaction.Extent.handleEvent_=function(e){return!(e instanceof ol.MapBrowserPointerEvent)||(e.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),ol.interaction.Pointer.handleEvent.call(this,e),!1)},ol.interaction.Extent.handleDownEvent_=function(e){var o=e.pixel,t=e.map,r=this.getExtent(),i=this.snapToVertex_(o,t),n=function(e){var o=null,t=null;return e[0]==r[0]?o=r[2]:e[0]==r[2]&&(o=r[0]),e[1]==r[1]?t=r[3]:e[1]==r[3]&&(t=r[1]),null!==o&&null!==t?[o,t]:null};if(i&&r){var l=i[0]==r[0]||i[0]==r[2]?i[0]:null,a=i[1]==r[1]||i[1]==r[3]?i[1]:null;null!==l&&null!==a?this.pointerHandler_=ol.interaction.Extent.getPointHandler_(n(i)):null!==l?this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([l,r[1]]),n([l,r[3]])):null!==a&&(this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([r[0],a]),n([r[2],a])))}else i=t.getCoordinateFromPixel(o),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=ol.interaction.Extent.getPointHandler_(i);return!0},ol.interaction.Extent.handleDragEvent_=function(e){if(this.pointerHandler_){var o=e.coordinate;this.setExtent(this.pointerHandler_(o)),this.createOrUpdatePointerFeature_(o)}return!0},ol.interaction.Extent.handleUpEvent_=function(e){this.pointerHandler_=null;var o=this.getExtent();return o&&0!==ol.extent.getArea(o)||this.setExtent(null),!1},ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(o,t){return e[ol.geom.GeometryType.POLYGON]}},ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(o,t){return e[ol.geom.GeometryType.POINT]}},ol.interaction.Extent.getPointHandler_=function(e){return function(o){return ol.extent.boundingExtent([e,o])}},ol.interaction.Extent.getEdgeHandler_=function(e,o){return e[0]==o[0]?function(t){return ol.extent.boundingExtent([e,[t[0],o[1]]])}:e[1]==o[1]?function(t){return ol.extent.boundingExtent([e,[o[0],t[1]]])}:null},ol.interaction.Extent.getSegments_=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]},ol.interaction.Extent.prototype.snapToVertex_=function(e,o){var t=o.getCoordinateFromPixel(e),r=function(e,o){return ol.coordinate.squaredDistanceToSegment(t,e)-ol.coordinate.squaredDistanceToSegment(t,o)},i=this.getExtent();if(i){var n=ol.interaction.Extent.getSegments_(i);n.sort(r);var l=n[0],a=ol.coordinate.closestOnSegment(t,l),s=o.getPixelFromCoordinate(a);if(ol.coordinate.distance(e,s)<=this.pixelTolerance_){var p=o.getPixelFromCoordinate(l[0]),g=o.getPixelFromCoordinate(l[1]),c=ol.coordinate.squaredDistance(s,p),u=ol.coordinate.squaredDistance(s,g),y=Math.sqrt(Math.min(c,u));return this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(a=c>u?l[1]:l[0]),a}}return null},ol.interaction.Extent.prototype.handlePointerMove_=function(e){var o=e.pixel,t=e.map,r=this.snapToVertex_(o,t);r||(r=t.getCoordinateFromPixel(o)),this.createOrUpdatePointerFeature_(r)},ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(e){var o=this.extentFeature_;return o?e?o.setGeometry(ol.geom.Polygon.fromExtent(e)):o.setGeometry(void 0):(o=e?new ol.Feature(ol.geom.Polygon.fromExtent(e)):new ol.Feature({}),this.extentFeature_=o,this.extentOverlay_.getSource().addFeature(o)),o},ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(e){var o=this.vertexFeature_;if(o){o.getGeometry().setCoordinates(e)}else o=new ol.Feature(new ol.geom.Point(e)),this.vertexFeature_=o,this.vertexOverlay_.getSource().addFeature(o);return o},ol.interaction.Extent.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),ol.interaction.Pointer.prototype.setMap.call(this,e)},ol.interaction.Extent.prototype.getExtent=function(){return this.extent_},ol.interaction.Extent.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))},ol.interaction.Extent.Event=function(e){ol.events.Event.call(this,ol.interaction.ExtentEventType.EXTENTCHANGED),this.extent=e},ol.inherits(ol.interaction.Extent.Event,ol.events.Event),goog.provide("ol.interaction.ModifyEventType"),ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},goog.provide("ol.interaction.Modify"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.ViewHint"),goog.require("ol.array"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.interaction.ModifyEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),goog.require("ol.style.Style"),ol.interaction.Modify=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_}),this.condition_=e.condition?e.condition:ol.events.condition.primaryAction,this.defaultDeleteCondition_=function(e){return ol.events.condition.altKeyOnly(e)&&ol.events.condition.singleClick(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ol.events.condition.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new ol.structs.RBush,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null;var o;if(e.source?(this.source_=e.source,o=new ol.Collection(this.source_.getFeatures()),ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleSourceAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleSourceRemove_,this)):o=e.features,!o)throw new Error("The modify interaction requires features or a source");this.features_=o,this.features_.forEach(this.addFeature_,this),ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null},ol.inherits(ol.interaction.Modify,ol.interaction.Pointer),ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0,ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1,ol.interaction.Modify.prototype.addFeature_=function(e){var o=e.getGeometry();o&&o.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[o.getType()].call(this,e,o);var t=this.getMap();t&&t.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,t),ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,e)))},ol.interaction.Modify.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.events.unlisten(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(e){var o=this.rBush_,t=[];o.forEach(function(o){e===o.feature&&t.push(o)});for(var r=t.length-1;r>=0;--r)o.remove(t[r])},ol.interaction.Modify.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.interaction.Pointer.prototype.setActive.call(this,e)},ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e),ol.interaction.Pointer.prototype.setMap.call(this,e)},ol.interaction.Modify.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},ol.interaction.Modify.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},ol.interaction.Modify.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var o=e.target;this.removeFeature_(o),this.addFeature_(o)}},ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){var o=e.element;this.removeFeature_(o)},ol.interaction.Modify.prototype.writePointGeometry_=function(e,o){var t=o.getCoordinates(),r={feature:e,geometry:o,segment:[t,t]};this.rBush_.insert(o.getExtent(),r)},ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,o){var t,r,i,n,l=o.getCoordinates();for(r=0,i=l.length;r<i;++r)t=l[r],n={feature:e,geometry:o,depth:[r],index:r,segment:[t,t]},this.rBush_.insert(o.getExtent(),n)},ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,o){var t,r,i,n,l=o.getCoordinates();for(t=0,r=l.length-1;t<r;++t)i=l.slice(t,t+2),n={feature:e,geometry:o,index:t,segment:i},this.rBush_.insert(ol.extent.boundingExtent(i),n)},ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,o){var t,r,i,n,l,a,s,p=o.getCoordinates();for(n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)a=t.slice(r,r+2),s={feature:e,geometry:o,depth:[n],index:r,segment:a},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,o){var t,r,i,n,l,a,s,p=o.getCoordinates();for(n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)a=t.slice(r,r+2),s={feature:e,geometry:o,depth:[n],index:r,segment:a},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,o){var t,r,i,n,l,a,s,p,g,c,u=o.getCoordinates();for(a=0,s=u.length;a<s;++a)for(p=u[a],n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)g=t.slice(r,r+2),c={feature:e,geometry:o,depth:[n,a],index:r,segment:g},this.rBush_.insert(ol.extent.boundingExtent(g),c)},ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,o){var t=o.getCenter(),r={feature:e,geometry:o,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[t,t]},i={feature:e,geometry:o,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[t,t]},n=[r,i];r.featureSegments=i.featureSegments=n,this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(t),r),this.rBush_.insert(o.getExtent(),i)},ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,o){var t,r=o.getGeometriesArray();for(t=0;t<r.length;++t)this.SEGMENT_WRITERS_[r[t].getType()].call(this,e,r[t])},ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var o=this.vertexFeature_;if(o){o.getGeometry().setCoordinates(e)}else o=new ol.Feature(new ol.geom.Point(e)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);return o},ol.interaction.Modify.compareIndexes_=function(e,o){return e.index-o.index},
ol.interaction.Modify.handleDownEvent_=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var o=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;var t=this.vertexFeature_;if(t){var r=[],i=t.getGeometry(),n=i.getCoordinates(),l=ol.extent.boundingExtent([n]),a=this.rBush_.getInExtent(l),s={};a.sort(ol.interaction.Modify.compareIndexes_);for(var p=0,g=a.length;p<g;++p){var c=a[p],u=c.segment,y=ol.getUid(c.feature),h=c.depth;if(h&&(y+="-"+h.join("-")),s[y]||(s[y]=new Array(2)),c.geometry.getType()===ol.geom.GeometryType.CIRCLE&&c.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var d=ol.interaction.Modify.closestOnSegmentData_(o,c);ol.coordinate.equals(d,n)&&!s[y][0]&&(this.dragSegments_.push([c,0]),s[y][0]=c)}else if(ol.coordinate.equals(u[0],n)&&!s[y][0])this.dragSegments_.push([c,0]),s[y][0]=c;else if(ol.coordinate.equals(u[1],n)&&!s[y][1]){if((c.geometry.getType()===ol.geom.GeometryType.LINE_STRING||c.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&s[y][0]&&0===s[y][0].index)continue;this.dragSegments_.push([c,1]),s[y][1]=c}else this.insertVertexCondition_(e)&&ol.getUid(u)in this.vertexSegments_&&!s[y][0]&&!s[y][1]&&r.push([c,n])}r.length&&this.willModifyFeatures_(e);for(var m=r.length-1;m>=0;--m)this.insertVertex_.apply(this,r[m])}return!!this.vertexFeature_},ol.interaction.Modify.handleDragEvent_=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var o=e.coordinate,t=0,r=this.dragSegments_.length;t<r;++t){for(var i,n=this.dragSegments_[t],l=n[0],a=l.depth,s=l.geometry,p=l.segment,g=n[1];o.length<s.getStride();)o.push(p[g][o.length]);switch(s.getType()){case ol.geom.GeometryType.POINT:i=o,p[0]=p[1]=o;break;case ol.geom.GeometryType.MULTI_POINT:i=s.getCoordinates(),i[l.index]=o,p[0]=p[1]=o;break;case ol.geom.GeometryType.LINE_STRING:i=s.getCoordinates(),i[l.index+g]=o,p[g]=o;break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:i=s.getCoordinates(),i[a[0]][l.index+g]=o,p[g]=o;break;case ol.geom.GeometryType.MULTI_POLYGON:i=s.getCoordinates(),i[a[1]][a[0]][l.index+g]=o,p[g]=o;break;case ol.geom.GeometryType.CIRCLE:p[0]=p[1]=o,l.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX?(this.changingFeature_=!0,s.setCenter(o),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(ol.coordinate.distance(s.getCenter(),o)),this.changingFeature_=!1)}i&&this.setGeometryCoordinates_(s,i)}this.createOrUpdateVertexFeature_(o)},ol.interaction.Modify.handleUpEvent_=function(e){for(var o,t,r=this.dragSegments_.length-1;r>=0;--r)if(o=this.dragSegments_[r][0],t=o.geometry,t.getType()===ol.geom.GeometryType.CIRCLE){var i=t.getCenter(),n=o.featureSegments[0],l=o.featureSegments[1];n.segment[0]=n.segment[1]=i,l.segment[0]=l.segment[1]=i,this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(i),n),this.rBush_.update(t.getExtent(),l)}else this.rBush_.update(ol.extent.boundingExtent(o.segment),o);return this.modified_&&(this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e)),this.modified_=!1),!1},ol.interaction.Modify.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent))return!0;this.lastPointerEvent_=e;var o;return e.map.getView().getHints()[ol.ViewHint.INTERACTING]||e.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(o=!(e.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==ol.MapBrowserEventType.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),ol.interaction.Pointer.handleEvent.call(this,e)&&!o},ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,o){var t=o.getCoordinateFromPixel(e),r=function(e,o){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(t,e)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(t,o)},i=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(t),o.getView().getResolution()*this.pixelTolerance_),n=this.rBush_,l=n.getInExtent(i);if(l.length>0){l.sort(r);var a=l[0],s=a.segment,p=ol.interaction.Modify.closestOnSegmentData_(t,a),g=o.getPixelFromCoordinate(p),c=ol.coordinate.distance(e,g);if(c<=this.pixelTolerance_){var u={};if(a.geometry.getType()===ol.geom.GeometryType.CIRCLE&&a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(p);else{var y=o.getPixelFromCoordinate(s[0]),h=o.getPixelFromCoordinate(s[1]),d=ol.coordinate.squaredDistance(g,y),m=ol.coordinate.squaredDistance(g,h);c=Math.sqrt(Math.min(d,m)),this.snappedToVertex_=c<=this.pixelTolerance_,this.snappedToVertex_&&(p=d>m?s[1]:s[0]),this.createOrUpdateVertexFeature_(p);for(var f,_=1,v=l.length;_<v&&(f=l[_].segment,ol.coordinate.equals(s[0],f[0])&&ol.coordinate.equals(s[1],f[1])||ol.coordinate.equals(s[0],f[1])&&ol.coordinate.equals(s[1],f[0]));++_)u[ol.getUid(f)]=!0}return u[ol.getUid(s)]=!0,void(this.vertexSegments_=u)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(e,o){var t=o.geometry;if(t.getType()===ol.geom.GeometryType.CIRCLE){var r=t;if(o.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var i=ol.coordinate.squaredDistance(r.getCenter(),e),n=Math.sqrt(i)-r.getRadius();return n*n}}return ol.coordinate.squaredDistanceToSegment(e,o.segment)},ol.interaction.Modify.closestOnSegmentData_=function(e,o){var t=o.geometry;return t.getType()===ol.geom.GeometryType.CIRCLE&&o.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX?t.getClosestPoint(e):ol.coordinate.closestOnSegment(e,o.segment)},ol.interaction.Modify.prototype.insertVertex_=function(e,o){for(var t,r=e.segment,i=e.feature,n=e.geometry,l=e.depth,a=e.index;o.length<n.getStride();)o.push(0);switch(n.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:t=n.getCoordinates(),t[l[0]].splice(a+1,0,o);break;case ol.geom.GeometryType.MULTI_POLYGON:t=n.getCoordinates(),t[l[1]][l[0]].splice(a+1,0,o);break;case ol.geom.GeometryType.LINE_STRING:t=n.getCoordinates(),t.splice(a+1,0,o);break;default:return}this.setGeometryCoordinates_(n,t);var s=this.rBush_;s.remove(e),this.updateSegmentIndices_(n,a,l,1);var p={segment:[r[0],o],feature:i,geometry:n,depth:l,index:a};s.insert(ol.extent.boundingExtent(p.segment),p),this.dragSegments_.push([p,1]);var g={segment:[o,r[1]],feature:i,geometry:n,depth:l,index:a+1};s.insert(ol.extent.boundingExtent(g.segment),g),this.dragSegments_.push([g,0]),this.ignoreNextSingleClick_=!0},ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},ol.interaction.Modify.prototype.removeVertex_=function(){var e,o,t,r,i,n,l,a,s,p,g,c=this.dragSegments_,u={},y=!1;for(i=c.length-1;i>=0;--i)t=c[i],p=t[0],g=ol.getUid(p.feature),p.depth&&(g+="-"+p.depth.join("-")),g in u||(u[g]={}),0===t[1]?(u[g].right=p,u[g].index=p.index):1==t[1]&&(u[g].left=p,u[g].index=p.index+1);for(g in u){switch(s=u[g].right,l=u[g].left,n=u[g].index,a=n-1,p=void 0!==l?l:s,a<0&&(a=0),r=p.geometry,o=r.getCoordinates(),e=o,y=!1,r.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:o[p.depth[0]].length>2&&(o[p.depth[0]].splice(n,1),y=!0);break;case ol.geom.GeometryType.LINE_STRING:o.length>2&&(o.splice(n,1),y=!0);break;case ol.geom.GeometryType.MULTI_POLYGON:e=e[p.depth[1]];case ol.geom.GeometryType.POLYGON:e=e[p.depth[0]],e.length>4&&(n==e.length-1&&(n=0),e.splice(n,1),y=!0,0===n&&(e.pop(),e.push(e[0]),a=e.length-1))}if(y){this.setGeometryCoordinates_(r,o);var h=[];if(void 0!==l&&(this.rBush_.remove(l),h.push(l.segment[0])),void 0!==s&&(this.rBush_.remove(s),h.push(s.segment[1])),void 0!==l&&void 0!==s){var d={depth:p.depth,feature:p.feature,geometry:p.geometry,index:a,segment:h};this.rBush_.insert(ol.extent.boundingExtent(d.segment),d)}this.updateSegmentIndices_(r,n,p.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),c.length=0}}return y},ol.interaction.Modify.prototype.setGeometryCoordinates_=function(e,o){this.changingFeature_=!0,e.setCoordinates(o),this.changingFeature_=!1},ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,o,t,r){this.rBush_.forEachInExtent(e.getExtent(),function(i){i.geometry===e&&(void 0===t||void 0===i.depth||ol.array.equals(i.depth,t))&&i.index>o&&(i.index+=r)})},ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(o,t){return e[ol.geom.GeometryType.POINT]}},ol.interaction.Modify.Event=function(e,o,t){ol.events.Event.call(this,e),this.features=o,this.mapBrowserEvent=t},ol.inherits(ol.interaction.Modify.Event,ol.events.Event),goog.provide("ol.interaction.Select"),goog.require("ol"),goog.require("ol.CollectionEventType"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.geom.GeometryType"),goog.require("ol.interaction.Interaction"),goog.require("ol.layer.Vector"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Select=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var o=e||{};this.condition_=o.condition?o.condition:ol.events.condition.singleClick,this.addCondition_=o.addCondition?o.addCondition:ol.events.condition.never,this.removeCondition_=o.removeCondition?o.removeCondition:ol.events.condition.never,this.toggleCondition_=o.toggleCondition?o.toggleCondition:ol.events.condition.shiftKeyOnly,this.multi_=!!o.multi&&o.multi,this.filter_=o.filter?o.filter:ol.functions.TRUE,this.hitTolerance_=o.hitTolerance?o.hitTolerance:0;var t=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,features:o.features,wrapX:o.wrapX}),style:o.style?o.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=t;var r;if(o.layers)if("function"==typeof o.layers)r=o.layers;else{var i=o.layers;r=function(e){return ol.array.includes(i,e)}}else r=ol.functions.TRUE;this.layerFilter_=r,this.featureLayerAssociation_={};var n=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(n,ol.CollectionEventType.ADD,this.addFeature_,this),ol.events.listen(n,ol.CollectionEventType.REMOVE,this.removeFeature_,this)},ol.inherits(ol.interaction.Select,ol.interaction.Interaction),ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(e,o){var t=ol.getUid(e);this.featureLayerAssociation_[t]=o},ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Select.prototype.getLayer=function(e){var o=ol.getUid(e);return this.featureLayerAssociation_[o]},ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e))return!0;var o=this.addCondition_(e),t=this.removeCondition_(e),r=this.toggleCondition_(e),i=!o&&!t&&!r,n=e.map,l=this.featureOverlay_.getSource().getFeaturesCollection(),a=[],s=[];if(i){ol.obj.clear(this.featureLayerAssociation_),n.forEachFeatureAtPixel(e.pixel,function(e,o){if(this.filter_(e,o))return s.push(e),this.addFeatureLayerAssociation_(e,o),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var p;for(p=l.getLength()-1;p>=0;--p){var g=l.item(p),c=s.indexOf(g);c>-1?s.splice(c,1):(l.remove(g),a.push(g))}0!==s.length&&l.extend(s)}else{n.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i))return!o&&!r||ol.array.includes(l.getArray(),e)?(t||r)&&ol.array.includes(l.getArray(),e)&&(a.push(e),this.removeFeatureLayerAssociation_(e)):(s.push(e),this.addFeatureLayerAssociation_(e,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var u;for(u=a.length-1;u>=0;--u)l.remove(a[u]);l.extend(s)}return(s.length>0||a.length>0)&&this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,s,a,e)),ol.events.condition.pointerMove(e)},ol.interaction.Select.prototype.setHitTolerance=function(e){this.hitTolerance_=e},ol.interaction.Select.prototype.setMap=function(e){var o=this.getMap(),t=this.featureOverlay_.getSource().getFeaturesCollection();o&&t.forEach(o.unskipFeature,o),ol.interaction.Interaction.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&t.forEach(e.skipFeature,e)},ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return ol.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]),ol.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]),function(o,t){return o.getGeometry()?e[o.getGeometry().getType()]:null}},ol.interaction.Select.prototype.addFeature_=function(e){var o=this.getMap();o&&o.skipFeature(e.element)},ol.interaction.Select.prototype.removeFeature_=function(e){var o=this.getMap();o&&o.unskipFeature(e.element)},ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(e){var o=ol.getUid(e);delete this.featureLayerAssociation_[o]},ol.interaction.Select.Event=function(e,o,t,r){ol.events.Event.call(this,e),this.selected=o,this.deselected=t,this.mapBrowserEvent=r},ol.inherits(ol.interaction.Select.Event,ol.events.Event),ol.interaction.Select.EventType_={SELECT:"select"},goog.provide("ol.interaction.Snap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.Pointer"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.interaction.Snap=function(e){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var o=e||{};this.source_=o.source?o.source:null,this.vertex_=void 0===o.vertex||o.vertex,this.edge_=void 0===o.edge||o.edge,this.features_=o.features?o.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==o.pixelTolerance?o.pixelTolerance:10,this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this),this.rBush_=new ol.structs.RBush,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}},ol.inherits(ol.interaction.Snap,ol.interaction.Pointer),ol.interaction.Snap.prototype.addFeature=function(e,o){var t=void 0===o||o,r=ol.getUid(e),i=e.getGeometry();if(i){var n=this.SEGMENT_WRITERS_[i.getType()];n&&(this.indexedFeaturesExtents_[r]=i.getExtent(ol.extent.createEmpty()),n.call(this,e,i))}t&&(this.featureChangeListenerKeys_[r]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this))},ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},ol.interaction.Snap.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var o;e instanceof ol.source.Vector.Event?o=e.feature:e instanceof ol.Collection.Event&&(o=e.element),this.addFeature(o)},ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var o;e instanceof ol.source.Vector.Event?o=e.feature:e instanceof ol.Collection.Event&&(o=e.element),this.removeFeature(o)},ol.interaction.Snap.prototype.handleFeatureChange_=function(e){var o=e.target;if(this.handlingDownUpSequence){var t=ol.getUid(o);t in this.pendingFeatures_||(this.pendingFeatures_[t]=o)}else this.updateFeature_(o)},ol.interaction.Snap.prototype.removeFeature=function(e,o){var t=void 0===o||o,r=ol.getUid(e),i=this.indexedFeaturesExtents_[r];if(i){var n,l=this.rBush_,a=[];for(l.forEachInExtent(i,function(o){e===o.feature&&a.push(o)}),n=a.length-1;n>=0;--n)l.remove(a[n])}t&&(ol.events.unlistenByKey(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])},ol.interaction.Snap.prototype.setMap=function(e){var o=this.getMap(),t=this.featuresListenerKeys_,r=this.getFeatures_();o&&(t.forEach(ol.events.unlistenByKey),t.length=0,r.forEach(this.forEachFeatureRemove_,this)),ol.interaction.Pointer.prototype.setMap.call(this,e),e&&(this.features_?t.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this)):this.source_&&t.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_,this))},ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Snap.prototype.snapTo=function(e,o,t){var r=t.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=t.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),n=ol.extent.boundingExtent([r,i]),l=this.rBush_.getInExtent(n);this.vertex_&&!this.edge_&&(l=l.filter(function(e){return e.feature.getGeometry().getType()!==ol.geom.GeometryType.CIRCLE}));var a,s,p,g,c,u=!1,y=null,h=null;if(l.length>0){this.pixelCoordinate_=o,l.sort(this.sortByDistance_);var d=l[0].segment,m=l[0].feature.getGeometry().getType()===ol.geom.GeometryType.CIRCLE;this.vertex_&&!this.edge_?(s=t.getPixelFromCoordinate(d[0]),p=t.getPixelFromCoordinate(d[1]),g=ol.coordinate.squaredDistance(e,s),c=ol.coordinate.squaredDistance(e,p),a=Math.sqrt(Math.min(g,c)),a<=this.pixelTolerance_&&(u=!0,y=g>c?d[1]:d[0],h=t.getPixelFromCoordinate(y))):this.edge_&&(y=m?ol.coordinate.closestOnCircle(o,l[0].feature.getGeometry()):ol.coordinate.closestOnSegment(o,d),h=t.getPixelFromCoordinate(y),ol.coordinate.distance(e,h)<=this.pixelTolerance_&&(u=!0,this.vertex_&&!m&&(s=t.getPixelFromCoordinate(d[0]),p=t.getPixelFromCoordinate(d[1]),g=ol.coordinate.squaredDistance(h,s),c=ol.coordinate.squaredDistance(h,p),a=Math.sqrt(Math.min(g,c)),a<=this.pixelTolerance_&&(y=g>c?d[1]:d[0],h=t.getPixelFromCoordinate(y))))),u&&(h=[Math.round(h[0]),Math.round(h[1])])}return{snapped:u,vertex:y,vertexPixel:h}},ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},ol.interaction.Snap.prototype.writeCircleGeometry_=function(e,o){var t,r,i,n,l=ol.geom.Polygon.fromCircle(o),a=l.getCoordinates()[0];for(t=0,r=a.length-1;t<r;++t)i=a.slice(t,t+2),n={feature:e,segment:i},this.rBush_.insert(ol.extent.boundingExtent(i),n)},ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,o){var t,r=o.getGeometriesArray();for(t=0;t<r.length;++t){var i=this.SEGMENT_WRITERS_[r[t].getType()];i&&i.call(this,e,r[t])}},ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,o){var t,r,i,n,l=o.getCoordinates();for(t=0,r=l.length-1;t<r;++t)i=l.slice(t,t+2),n={feature:e,segment:i},this.rBush_.insert(ol.extent.boundingExtent(i),n)},ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,o){var t,r,i,n,l,a,s,p=o.getCoordinates();for(n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)a=t.slice(r,r+2),s={feature:e,segment:a},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,o){var t,r,i,n,l=o.getCoordinates();for(r=0,i=l.length;r<i;++r)t=l[r],n={feature:e,segment:[t,t]},this.rBush_.insert(o.getExtent(),n)},ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,o){var t,r,i,n,l,a,s,p,g,c,u=o.getCoordinates();for(a=0,s=u.length;a<s;++a)for(p=u[a],n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)g=t.slice(r,r+2),c={feature:e,segment:g},this.rBush_.insert(ol.extent.boundingExtent(g),c)},ol.interaction.Snap.prototype.writePointGeometry_=function(e,o){var t=o.getCoordinates(),r={feature:e,segment:[t,t]};this.rBush_.insert(o.getExtent(),r)},ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,o){var t,r,i,n,l,a,s,p=o.getCoordinates();for(n=0,l=p.length;n<l;++n)for(t=p[n],r=0,i=t.length-1;r<i;++r)a=t.slice(r,r+2),s={feature:e,segment:a},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Snap.handleEvent_=function(e){var o=this.snapTo(e.pixel,e.coordinate,e.map);return o.snapped&&(e.coordinate=o.vertex.slice(0,2),e.pixel=o.vertexPixel),ol.interaction.Pointer.handleEvent.call(this,e)},ol.interaction.Snap.handleUpEvent_=function(e){var o=ol.obj.getValues(this.pendingFeatures_);return o.length&&(o.forEach(this.updateFeature_,this),this.pendingFeatures_={}),!1},ol.interaction.Snap.sortByDistance=function(e,o){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,o.segment)},goog.provide("ol.interaction.TranslateEventType"),ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},goog.provide("ol.interaction.Translate"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.Object"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.functions"),goog.require("ol.array"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Property"),goog.require("ol.interaction.TranslateEventType"),ol.interaction.Translate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var o=e||{};this.lastCoordinate_=null,this.features_=void 0!==o.features?o.features:null;var t;if(o.layers)if("function"==typeof o.layers)t=o.layers;else{var r=o.layers;t=function(e){return ol.array.includes(r,e)}}else t=ol.functions.TRUE;this.layerFilter_=t,this.hitTolerance_=o.hitTolerance?o.hitTolerance:0,this.lastFeature_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)},ol.inherits(ol.interaction.Translate,ol.interaction.Pointer),ol.interaction.Translate.handleDownEvent_=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,ol.interaction.Translate.handleMoveEvent_.call(this,e);var o=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,o,e.coordinate)),!0}return!1},ol.interaction.Translate.handleUpEvent_=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,ol.interaction.Translate.handleMoveEvent_.call(this,e);var o=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,o,e.coordinate)),!0}return!1},ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var o=e.coordinate,t=o[0]-this.lastCoordinate_[0],r=o[1]-this.lastCoordinate_[1],i=this.features_||new ol.Collection([this.lastFeature_]);i.forEach(function(e){var o=e.getGeometry();o.translate(t,r),e.setGeometry(o)}),this.lastCoordinate_=o,this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,i,o))}},ol.interaction.Translate.handleMoveEvent_=function(e){var o=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(o.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),o.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):o.classList.remove("ol-grab","ol-grabbing")},ol.interaction.Translate.prototype.featuresAtPixel_=function(e,o){return o.forEachFeatureAtPixel(e,function(e){if(!this.features_||ol.array.includes(this.features_.getArray(),e))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Translate.prototype.setHitTolerance=function(e){this.hitTolerance_=e},ol.interaction.Translate.prototype.setMap=function(e){var o=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,e),this.updateState_(o)};ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)},ol.interaction.Translate.prototype.updateState_=function(e){var o=this.getMap(),t=this.getActive();if((!o||!t)&&(o=o||e)){o.getViewport().classList.remove("ol-grab","ol-grabbing")}},ol.interaction.Translate.Event=function(e,o,t){ol.events.Event.call(this,e),this.features=o,this.coordinate=t},ol.inherits(ol.interaction.Translate.Event,ol.events.Event),goog.provide("ol.layer.Heatmap"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.layer.Vector"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.style.Icon"),goog.require("ol.style.Style"),ol.layer.Heatmap=function(e){var o=e||{},t=ol.obj.assign({},o);delete t.gradient,delete t.radius,delete t.blur,delete t.shadow,delete t.weight,ol.layer.Vector.call(this,t),this.gradient_=null,this.shadow_=void 0!==o.shadow?o.shadow:250,this.circleImage_=void 0,this.styleCache_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this),this.setGradient(o.gradient?o.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT),this.setBlur(void 0!==o.blur?o.blur:15),this.setRadius(void 0!==o.radius?o.radius:8),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var r,i=o.weight?o.weight:"weight";r="string"==typeof i?function(e){return e.get(i)}:i,this.setStyle(function(e,o){var t=r(e),i=void 0!==t?ol.math.clamp(t,0,1):1,n=255*i|0,l=this.styleCache_[n];return l||(l=[new ol.style.Style({image:new ol.style.Icon({opacity:i,src:this.circleImage_})})],this.styleCache_[n]=l),l}.bind(this)),this.setRenderOrder(null),ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)},ol.inherits(ol.layer.Heatmap,ol.layer.Vector),ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],ol.layer.Heatmap.createGradient_=function(e){for(var o=ol.dom.createCanvasContext2D(1,256),t=o.createLinearGradient(0,0,1,256),r=1/(e.length-1),i=0,n=e.length;i<n;++i)t.addColorStop(i*r,e[i]);return o.fillStyle=t,o.fillRect(0,0,1,256),o.getImageData(0,0,1,256).data},ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius(),o=this.getBlur(),t=e+o+1,r=2*t,i=ol.dom.createCanvasContext2D(r,r);i.shadowOffsetX=i.shadowOffsetY=this.shadow_,i.shadowBlur=o,i.shadowColor="#000",i.beginPath();var n=t-this.shadow_;return i.arc(n,n,e,0,2*Math.PI,!0),i.fill(),i.canvas.toDataURL()},ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)},ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)},ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)},ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())},ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},ol.layer.Heatmap.prototype.handleRender_=function(e){var o,t,r,i=e.context,n=i.canvas,l=i.getImageData(0,0,n.width,n.height),a=l.data;for(o=0,t=a.length;o<t;o+=4)(r=4*a[o+3])&&(a[o]=this.gradient_[r],a[o+1]=this.gradient_[r+1],a[o+2]=this.gradient_[r+2]);i.putImageData(l,0,0)},ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.Heatmap.Property_.BLUR,e)},ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.Heatmap.Property_.GRADIENT,e)},ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.Heatmap.Property_.RADIUS,e)},ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},goog.provide("ol.layer.Image"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),ol.layer.Image=function(e){var o=e||{};ol.layer.Layer.call(this,o),this.type=ol.LayerType.IMAGE},ol.inherits(ol.layer.Image,ol.layer.Layer),ol.layer.Image.prototype.getSource,goog.provide("ol.layer.TileProperty"),ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},goog.provide("ol.layer.Tile"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),goog.require("ol.layer.TileProperty"),goog.require("ol.obj"),ol.layer.Tile=function(e){var o=e||{},t=ol.obj.assign({},o);delete t.preload,delete t.useInterimTilesOnError,ol.layer.Layer.call(this,t),this.setPreload(void 0!==o.preload?o.preload:0),this.setUseInterimTilesOnError(void 0===o.useInterimTilesOnError||o.useInterimTilesOnError),this.type=ol.LayerType.TILE},ol.inherits(ol.layer.Tile,ol.layer.Layer),ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.Tile.prototype.getSource,ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)},ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},goog.provide("ol.layer.VectorTile"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.asserts"),goog.require("ol.layer.TileProperty"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.obj"),ol.layer.VectorTile=function(e){var o=e||{},t=ol.obj.assign({},o);delete t.preload,delete t.useInterimTilesOnError,ol.layer.Vector.call(this,t),this.setPreload(o.preload?o.preload:0),this.setUseInterimTilesOnError(!o.useInterimTilesOnError||o.useInterimTilesOnError),ol.asserts.assert(void 0==o.renderMode||o.renderMode==ol.layer.VectorTileRenderType.IMAGE||o.renderMode==ol.layer.VectorTileRenderType.HYBRID||o.renderMode==ol.layer.VectorTileRenderType.VECTOR,28),this.renderMode_=o.renderMode||ol.layer.VectorTileRenderType.HYBRID,this.type=ol.LayerType.VECTOR_TILE},ol.inherits(ol.layer.VectorTile,ol.layer.Vector),ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.VectorTile.prototype.getRenderMode=function(){return this.renderMode_},
ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.VectorTile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)},ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},ol.layer.VectorTile.prototype.getSource,goog.provide("ol.webgl.Shader"),goog.require("ol.functions"),ol.webgl.Shader=function(e){this.source_=e},ol.webgl.Shader.prototype.getType=function(){},ol.webgl.Shader.prototype.getSource=function(){return this.source_},ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE,goog.provide("ol.webgl.Fragment"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.webgl.Fragment=function(e){ol.webgl.Shader.call(this,e)},ol.inherits(ol.webgl.Fragment,ol.webgl.Shader),ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER},goog.provide("ol.webgl.Vertex"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.webgl.Vertex=function(e){ol.webgl.Shader.call(this,e)},ol.inherits(ol.webgl.Vertex,ol.webgl.Shader),ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER},goog.provide("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"),goog.provide("ol.render.webgl.circlereplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.circlereplay.defaultshader.Locations=function(e,o){this.u_projectionMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_size":"p"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_radius":"g")},goog.provide("ol.vec.Mat4"),ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ol.vec.Mat4.fromTransform=function(e,o){return e[0]=o[0],e[1]=o[1],e[4]=o[2],e[5]=o[3],e[12]=o[4],e[13]=o[5],e},goog.provide("ol.render.webgl.Replay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.render.VectorContext"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),ol.render.webgl.Replay=function(e,o){ol.render.VectorContext.call(this),this.tolerance=e,this.maxExtent=o,this.origin=ol.extent.getCenter(o),this.projectionMatrix_=ol.transform.create(),this.offsetRotateMatrix_=ol.transform.create(),this.offsetScaleMatrix_=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0},ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext),ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(e){},ol.render.webgl.Replay.prototype.finish=function(e){},ol.render.webgl.Replay.prototype.setUpProgram=function(e,o,t,r){},ol.render.webgl.Replay.prototype.shutDownProgram=function(e,o){},ol.render.webgl.Replay.prototype.drawReplay=function(e,o,t,r){},ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(e,o,t,r,i){},ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(e,o,t,r,i,n){return i?this.drawHitDetectionReplayOneByOne(e,o,t,r,n):this.drawHitDetectionReplayAll(e,o,t,r)},ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(e,o,t,r){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawReplay(e,o,t,!0);var i=r(null);return i||void 0},ol.render.webgl.Replay.prototype.replay=function(e,o,t,r,i,n,l,a,s,p,g){var c,u,y,h,d,m,f,_,v=e.getGL();this.lineStringReplay&&(c=v.isEnabled(v.STENCIL_TEST),u=v.getParameter(v.STENCIL_FUNC),y=v.getParameter(v.STENCIL_VALUE_MASK),h=v.getParameter(v.STENCIL_REF),d=v.getParameter(v.STENCIL_WRITEMASK),m=v.getParameter(v.STENCIL_FAIL),f=v.getParameter(v.STENCIL_PASS_DEPTH_PASS),_=v.getParameter(v.STENCIL_PASS_DEPTH_FAIL),v.enable(v.STENCIL_TEST),v.clear(v.STENCIL_BUFFER_BIT),v.stencilMask(255),v.stencilFunc(v.ALWAYS,1,255),v.stencilOp(v.KEEP,v.KEEP,v.REPLACE),this.lineStringReplay.replay(e,o,t,r,i,n,l,a,s,p,g),v.stencilMask(0),v.stencilFunc(v.NOTEQUAL,1,255)),e.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer),e.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var S=this.setUpProgram(v,e,i,n),x=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(x,2/(t*i[0]),2/(t*i[1])),ol.transform.rotate(x,-r),ol.transform.translate(x,-(o[0]-this.origin[0]),-(o[1]-this.origin[1]));var P=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(P,2/i[0],2/i[1]);var E=ol.transform.reset(this.offsetRotateMatrix_);0!==r&&ol.transform.rotate(E,-r),v.uniformMatrix4fv(S.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,x)),v.uniformMatrix4fv(S.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,P)),v.uniformMatrix4fv(S.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,E)),v.uniform1f(S.u_opacity,l);var T;return void 0===s?this.drawReplay(v,e,a,!1):T=this.drawHitDetectionReplay(v,e,a,s,p,g),this.shutDownProgram(v,S),this.lineStringReplay&&(c||v.disable(v.STENCIL_TEST),v.clear(v.STENCIL_BUFFER_BIT),v.stencilFunc(u,h,y),v.stencilMask(d),v.stencilOp(m,_,f)),T},ol.render.webgl.Replay.prototype.drawElements=function(e,o,t,r){var i=o.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT,n=o.hasOESElementIndexUint?4:2,l=r-t,a=t*n;e.drawElements(ol.webgl.TRIANGLES,l,i,a)},goog.provide("ol.render.webgl"),ol.render.webgl.defaultFont="10px sans-serif",ol.render.webgl.defaultFillStyle=[0,0,0,1],ol.render.webgl.defaultLineCap="round",ol.render.webgl.defaultLineDash=[],ol.render.webgl.defaultLineDashOffset=0,ol.render.webgl.defaultLineJoin="round",ol.render.webgl.defaultMiterLimit=10,ol.render.webgl.defaultStrokeStyle=[0,0,0,1],ol.render.webgl.defaultTextAlign=.5,ol.render.webgl.defaultTextBaseline=.5,ol.render.webgl.defaultLineWidth=1,ol.render.webgl.triangleIsCounterClockwise=function(e,o,t,r,i,n){var l=(t-e)*(n-o)-(i-e)*(r-o);return l<=ol.render.webgl.EPSILON&&l>=-ol.render.webgl.EPSILON?void 0:l>0},ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313e-16,goog.provide("ol.webgl.Buffer"),goog.require("ol.webgl"),ol.webgl.Buffer=function(e,o){this.arr_=void 0!==e?e:[],this.usage_=void 0!==o?o:ol.webgl.Buffer.Usage_.STATIC_DRAW},ol.webgl.Buffer.prototype.getArray=function(){return this.arr_},ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_},ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW},goog.provide("ol.render.webgl.CircleReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol.render.webgl.circlereplay.defaultshader.Locations"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.CircleReplay=function(e,o){ol.render.webgl.Replay.call(this,e,o),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}},ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay),ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(e,o,t,r){var i,n,l=this.vertices.length,a=this.indices.length,s=l/4;for(i=o,n=t;i<n;i+=r)this.vertices[l++]=e[i],this.vertices[l++]=e[i+1],this.vertices[l++]=0,this.vertices[l++]=this.radius_,this.vertices[l++]=e[i],this.vertices[l++]=e[i+1],this.vertices[l++]=1,this.vertices[l++]=this.radius_,this.vertices[l++]=e[i],this.vertices[l++]=e[i+1],this.vertices[l++]=2,this.vertices[l++]=this.radius_,this.vertices[l++]=e[i],this.vertices[l++]=e[i+1],this.vertices[l++]=3,this.vertices[l++]=this.radius_,this.indices[a++]=s,this.indices[a++]=s+1,this.indices[a++]=s+2,this.indices[a++]=s+2,this.indices[a++]=s+3,this.indices[a++]=s,s+=4},ol.render.webgl.CircleReplay.prototype.drawCircle=function(e,o){var t=e.getRadius(),r=e.getStride();if(t){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=t;var i=e.getFlatCoordinates();i=ol.geom.flat.transform.translate(i,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(i,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var n=this.styles_[this.styles_.length-1];this.state_.fillColor=n[0],this.state_.strokeColor=n[1],this.state_.lineWidth=n[2],this.state_.changed=!1}},ol.render.webgl.CircleReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(e){var o=this.verticesBuffer,t=this.indicesBuffer;return function(){e.deleteBuffer(o),e.deleteBuffer(t)}},ol.render.webgl.CircleReplay.prototype.setUpProgram=function(e,o,t,r){var i,n;i=ol.render.webgl.circlereplay.defaultshader.fragment,n=ol.render.webgl.circlereplay.defaultshader.vertex;var l,a=o.getProgram(i,n);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.circlereplay.defaultshader.Locations(e,a),this.defaultLocations_=l),o.useProgram(a),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,16,0),e.enableVertexAttribArray(l.a_instruction),e.vertexAttribPointer(l.a_instruction,1,ol.webgl.FLOAT,!1,16,8),e.enableVertexAttribArray(l.a_radius),e.vertexAttribPointer(l.a_radius,1,ol.webgl.FLOAT,!1,16,12),e.uniform2fv(l.u_size,t),e.uniform1f(l.u_pixelRatio,r),l},ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(e,o){e.disableVertexAttribArray(o.a_position),e.disableVertexAttribArray(o.a_instruction),e.disableVertexAttribArray(o.a_radius)},ol.render.webgl.CircleReplay.prototype.drawReplay=function(e,o,t,r){if(ol.obj.isEmpty(t)){var i,n,l,a;for(l=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)n=this.styleIndices_[i],a=this.styles_[i],this.setFillStyle_(e,a[0]),this.setStrokeStyle_(e,a[1],a[2]),this.drawElements(e,o,n,l),l=n}else this.drawReplaySkipping_(e,o,t)},ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(e,o,t,r,i){var n,l,a,s,p,g,c,u;for(u=this.startIndices.length-2,a=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n)for(s=this.styles_[n],this.setFillStyle_(e,s[0]),this.setStrokeStyle_(e,s[1],s[2]),p=this.styleIndices_[n];u>=0&&this.startIndices[u]>=p;){if(l=this.startIndices[u],g=this.startIndicesFeature[u],c=ol.getUid(g).toString(),void 0===t[c]&&g.getGeometry()&&(void 0===i||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,o,l,a);var y=r(g);if(y)return y}u--,a=l}},ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(e,o,t){var r,i,n,l,a,s,p,g,c;for(g=this.startIndices.length-2,n=i=this.startIndices[g+1],r=this.styleIndices_.length-1;r>=0;--r){for(l=this.styles_[r],this.setFillStyle_(e,l[0]),this.setStrokeStyle_(e,l[1],l[2]),a=this.styleIndices_[r];g>=0&&this.startIndices[g]>=a;)c=this.startIndices[g],s=this.startIndicesFeature[g],p=ol.getUid(s).toString(),t[p]&&(i!==n&&this.drawElements(e,o,i,n),n=c),g--,i=c;i!==n&&this.drawElements(e,o,i,n),i=n=a}},ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(e,o){e.uniform4fv(this.defaultLocations_.u_fillColor,o)},ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(e,o,t){e.uniform4fv(this.defaultLocations_.u_strokeColor,o),e.uniform1f(this.defaultLocations_.u_lineWidth,t)},ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(e,o){var t,r;if(o){var i=o.getLineDash();this.state_.lineDash=i||ol.render.webgl.defaultLineDash;var n=o.getLineDashOffset();this.state_.lineDashOffset=n||ol.render.webgl.defaultLineDashOffset,t=o.getColor(),t=t instanceof CanvasGradient||t instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(t).map(function(e,o){return 3!=o?e/255:e})||ol.render.webgl.defaultStrokeStyle,r=o.getWidth(),r=void 0!==r?r:ol.render.webgl.defaultLineWidth}else t=[0,0,0,0],r=0;var l=e?e.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(l).map(function(e,o){return 3!=o?e/255:e})||ol.render.webgl.defaultFillStyle,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,t)&&this.state_.fillColor&&ol.array.equals(this.state_.fillColor,l)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=t,this.state_.lineWidth=r,this.styles_.push([l,t,r]))},goog.provide("ol.render.webgl.texturereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"),goog.provide("ol.render.webgl.texturereplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.texturereplay.defaultshader.Locations=function(e,o){this.u_projectionMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_image":"l"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_rotateWithView":"g")},goog.provide("ol.webgl.ContextEventType"),ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},goog.provide("ol.webgl.Context"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.obj"),goog.require("ol.webgl"),goog.require("ol.webgl.ContextEventType"),ol.webgl.Context=function(e,o){this.canvas_=e,this.gl_=o,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&o.getExtension("OES_element_index_uint"),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)},ol.inherits(ol.webgl.Context,ol.Disposable),ol.webgl.Context.prototype.bindBuffer=function(e,o){var t=this.getGL(),r=o.getArray(),i=String(ol.getUid(o));if(i in this.bufferCache_){var n=this.bufferCache_[i];t.bindBuffer(e,n.buffer)}else{var l=t.createBuffer();t.bindBuffer(e,l);var a;e==ol.webgl.ARRAY_BUFFER?a=new Float32Array(r):e==ol.webgl.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),t.bufferData(e,a,o.getUsage()),this.bufferCache_[i]={buf:o,buffer:l}}},ol.webgl.Context.prototype.deleteBuffer=function(e){var o=this.getGL(),t=String(ol.getUid(e)),r=this.bufferCache_[t];o.isContextLost()||o.deleteBuffer(r.buffer),delete this.bufferCache_[t]},ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var e=this.getGL();if(!e.isContextLost()){var o;for(o in this.bufferCache_)e.deleteBuffer(this.bufferCache_[o].buffer);for(o in this.programCache_)e.deleteProgram(this.programCache_[o]);for(o in this.shaderCache_)e.deleteShader(this.shaderCache_[o]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_},ol.webgl.Context.prototype.getGL=function(){return this.gl_},ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},ol.webgl.Context.prototype.getShader=function(e){var o=String(ol.getUid(e));if(o in this.shaderCache_)return this.shaderCache_[o];var t=this.getGL(),r=t.createShader(e.getType());return t.shaderSource(r,e.getSource()),t.compileShader(r),this.shaderCache_[o]=r,r},ol.webgl.Context.prototype.getProgram=function(e,o){var t=ol.getUid(e)+"/"+ol.getUid(o);if(t in this.programCache_)return this.programCache_[t];var r=this.getGL(),i=r.createProgram();return r.attachShader(i,this.getShader(e)),r.attachShader(i,this.getShader(o)),r.linkProgram(i),this.programCache_[t]=i,i},ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_),ol.obj.clear(this.shaderCache_),ol.obj.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},ol.webgl.Context.prototype.handleWebGLContextRestored=function(){},ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var t=ol.webgl.Context.createEmptyTexture(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=o,this.hitDetectionTexture_=t,this.hitDetectionRenderbuffer_=r},ol.webgl.Context.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,!0)},ol.webgl.Context.createTexture_=function(e,o,t){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==o&&e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,o),void 0!==t&&e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,t),r};ol.webgl.Context.createEmptyTexture=function(e,o,t,r,i){var n=ol.webgl.Context.createTexture_(e,r,i);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o,t,0,e.RGBA,e.UNSIGNED_BYTE,null),n},ol.webgl.Context.createTexture=function(e,o,t,r){var i=ol.webgl.Context.createTexture_(e,t,r);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),i},goog.provide("ol.render.webgl.TextureReplay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.webgl.texturereplay.defaultshader"),goog.require("ol.render.webgl.texturereplay.defaultshader.Locations"),goog.require("ol.render.webgl.Replay"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),ol.render.webgl.TextureReplay=function(e,o){ol.render.webgl.Replay.call(this,e,o),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0},ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay),ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(e){var o=this.verticesBuffer,t=this.indicesBuffer,r=this.getTextures(!0),i=e.getGL();return function(){if(!i.isContextLost()){var n,l;for(n=0,l=r.length;n<l;++n)i.deleteTexture(r[n])}e.deleteBuffer(o),e.deleteBuffer(t)}},ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(e,o,t,r){var i,n,l,a,s,p,g=this.anchorX,c=this.anchorY,u=this.height,y=this.imageHeight,h=this.imageWidth,d=this.opacity,m=this.originX,f=this.originY,_=this.rotateWithView?1:0,v=-this.rotation,S=this.scale,x=this.width,P=Math.cos(v),E=Math.sin(v),T=this.indices.length,R=this.vertices.length;for(i=o;i<t;i+=r)s=e[i]-this.origin[0],p=e[i+1]-this.origin[1],n=R/8,l=-S*g,a=-S*(u-c),this.vertices[R++]=s,this.vertices[R++]=p,this.vertices[R++]=l*P-a*E,this.vertices[R++]=l*E+a*P,this.vertices[R++]=m/h,this.vertices[R++]=(f+u)/y,this.vertices[R++]=d,this.vertices[R++]=_,l=S*(x-g),a=-S*(u-c),this.vertices[R++]=s,this.vertices[R++]=p,this.vertices[R++]=l*P-a*E,this.vertices[R++]=l*E+a*P,this.vertices[R++]=(m+x)/h,this.vertices[R++]=(f+u)/y,this.vertices[R++]=d,this.vertices[R++]=_,l=S*(x-g),a=S*c,this.vertices[R++]=s,this.vertices[R++]=p,this.vertices[R++]=l*P-a*E,this.vertices[R++]=l*E+a*P,this.vertices[R++]=(m+x)/h,this.vertices[R++]=f/y,this.vertices[R++]=d,this.vertices[R++]=_,l=-S*g,a=S*c,this.vertices[R++]=s,this.vertices[R++]=p,this.vertices[R++]=l*P-a*E,this.vertices[R++]=l*E+a*P,this.vertices[R++]=m/h,this.vertices[R++]=f/y,this.vertices[R++]=d,this.vertices[R++]=_,this.indices[T++]=n,this.indices[T++]=n+1,this.indices[T++]=n+2,this.indices[T++]=n,this.indices[T++]=n+2,this.indices[T++]=n+3;return R},ol.render.webgl.TextureReplay.prototype.createTextures=function(e,o,t,r){var i,n,l,a,s=o.length;for(a=0;a<s;++a)n=o[a],l=ol.getUid(n).toString(),l in t?i=t[l]:(i=ol.webgl.Context.createTexture(r,n,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE),t[l]=i),e[a]=i},ol.render.webgl.TextureReplay.prototype.setUpProgram=function(e,o,t,r){var i,n=ol.render.webgl.texturereplay.defaultshader.fragment,l=ol.render.webgl.texturereplay.defaultshader.vertex,a=o.getProgram(n,l);return this.defaultLocations?i=this.defaultLocations:(i=new ol.render.webgl.texturereplay.defaultshader.Locations(e,a),this.defaultLocations=i),o.useProgram(a),e.enableVertexAttribArray(i.a_position),e.vertexAttribPointer(i.a_position,2,ol.webgl.FLOAT,!1,32,0),e.enableVertexAttribArray(i.a_offsets),e.vertexAttribPointer(i.a_offsets,2,ol.webgl.FLOAT,!1,32,8),e.enableVertexAttribArray(i.a_texCoord),e.vertexAttribPointer(i.a_texCoord,2,ol.webgl.FLOAT,!1,32,16),e.enableVertexAttribArray(i.a_opacity),e.vertexAttribPointer(i.a_opacity,1,ol.webgl.FLOAT,!1,32,24),e.enableVertexAttribArray(i.a_rotateWithView),e.vertexAttribPointer(i.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28),i},ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(e,o){e.disableVertexAttribArray(o.a_position),e.disableVertexAttribArray(o.a_offsets),e.disableVertexAttribArray(o.a_texCoord),e.disableVertexAttribArray(o.a_opacity),e.disableVertexAttribArray(o.a_rotateWithView)},ol.render.webgl.TextureReplay.prototype.drawReplay=function(e,o,t,r){var i=r?this.getHitDetectionTextures():this.getTextures(),n=r?this.hitDetectionGroupIndices:this.groupIndices;if(ol.obj.isEmpty(t)){var l,a,s;for(l=0,a=i.length,s=0;l<a;++l){e.bindTexture(ol.webgl.TEXTURE_2D,i[l]);var p=n[l];this.drawElements(e,o,s,p),s=p}}else this.drawReplaySkipping(e,o,t,i,n)},ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(e,o,t,r,i){var n,l,a=0;for(n=0,l=r.length;n<l;++n){e.bindTexture(ol.webgl.TEXTURE_2D,r[n]);for(var s=n>0?i[n-1]:0,p=i[n],g=s,c=s;a<this.startIndices.length&&this.startIndices[a]<=p;){var u=this.startIndicesFeature[a];void 0!==t[ol.getUid(u).toString()]?(g!==c&&this.drawElements(e,o,g,c),g=a===this.startIndices.length-1?p:this.startIndices[a+1],c=g):c=a===this.startIndices.length-1?p:this.startIndices[a+1],a++}g!==c&&this.drawElements(e,o,g,c)}},ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(e,o,t,r,i){var n,l,a,s,p,g,c=this.startIndices.length-1,u=this.getHitDetectionTextures();for(n=u.length-1;n>=0;--n)for(e.bindTexture(ol.webgl.TEXTURE_2D,u[n]),l=n>0?this.hitDetectionGroupIndices[n-1]:0,s=this.hitDetectionGroupIndices[n];c>=0&&this.startIndices[c]>=l;){if(a=this.startIndices[c],p=this.startIndicesFeature[c],
g=ol.getUid(p).toString(),void 0===t[g]&&p.getGeometry()&&(void 0===i||ol.extent.intersects(i,p.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,o,a,s);var y=r(p);if(y)return y}s=a,c--}},ol.render.webgl.TextureReplay.prototype.finish=function(e){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},ol.render.webgl.TextureReplay.prototype.getTextures=function(e){},ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){},goog.provide("ol.render.webgl.ImageReplay"),goog.require("ol"),goog.require("ol.render.webgl.TextureReplay"),goog.require("ol.webgl.Buffer"),ol.render.webgl.ImageReplay=function(e,o){ol.render.webgl.TextureReplay.call(this,e,o),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]},ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay),ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(e,o){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o);var t=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates(t,0,t.length,r)},ol.render.webgl.ImageReplay.prototype.drawPoint=function(e,o){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o);var t=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates(t,0,t.length,r)},ol.render.webgl.ImageReplay.prototype.finish=function(e){var o=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var t=this.indices;this.indicesBuffer=new ol.webgl.Buffer(t);var r={};this.createTextures(this.textures_,this.images_,r,o),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,o),this.images_=null,this.hitDetectionImages_=null,ol.render.webgl.TextureReplay.prototype.finish.call(this,e)},ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var o,t=e.getAnchor(),r=e.getImage(1),i=e.getImageSize(),n=e.getHitDetectionImage(1),l=e.getOpacity(),a=e.getOrigin(),s=e.getRotateWithView(),p=e.getRotation(),g=e.getSize(),c=e.getScale();0===this.images_.length?this.images_.push(r):(o=this.images_[this.images_.length-1],ol.getUid(o)!=ol.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(n):(o=this.hitDetectionImages_[this.hitDetectionImages_.length-1],ol.getUid(o)!=ol.getUid(n)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(n))),this.anchorX=t[0],this.anchorY=t[1],this.height=g[1],this.imageHeight=i[1],this.imageWidth=i[0],this.opacity=l,this.originX=a[0],this.originY=a[1],this.rotation=p,this.rotateWithView=s,this.scale=c,this.width=g[0]},ol.render.webgl.ImageReplay.prototype.getTextures=function(e){return e?this.textures_.concat(this.hitDetectionTextures_):this.textures_},ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},goog.provide("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"),goog.provide("ol.render.webgl.linestringreplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.linestringreplay.defaultshader.Locations=function(e,o){this.u_projectionMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_color":"n"),this.u_size=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_direction":"g")},goog.provide("ol.render.webgl.LineStringReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.geom.flat.topology"),goog.require("ol.obj"),goog.require("ol.render.webgl"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol.render.webgl.linestringreplay.defaultshader.Locations"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.LineStringReplay=function(e,o){ol.render.webgl.Replay.call(this,e,o),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}},ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay),ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(e,o,t,r){var i,n,l,a,s,p,g,c,u=this.vertices.length,y=this.indices.length,h="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,d="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,m=ol.geom.flat.topology.lineStringIsClosed(e,o,t,r),f=y,_=1;for(i=o,n=t;i<n;i+=r){if(s=u/7,p=g,g=c||[e[i],e[i+1]],i===o){if(c=[e[i+r],e[i+r+1]],t-o==2*r&&ol.array.equals(g,c))break;if(!m){d&&(u=this.addVertices_([0,0],g,c,_*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*d,u),u=this.addVertices_([0,0],g,c,-_*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*d,u),this.indices[y++]=s+2,this.indices[y++]=s,this.indices[y++]=s+1,this.indices[y++]=s+1,this.indices[y++]=s+3,this.indices[y++]=s+2),u=this.addVertices_([0,0],g,c,_*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(d||1),u),u=this.addVertices_([0,0],g,c,-_*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(d||1),u),f=u/7-1;continue}p=[e[t-2*r],e[t-2*r+1]],l=c}else{if(i===t-r){if(m){c=l;break}p=p||[0,0],u=this.addVertices_(p,g,[0,0],_*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(d||1),u),u=this.addVertices_(p,g,[0,0],-_*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(d||1),u),this.indices[y++]=s,this.indices[y++]=f-1,this.indices[y++]=f,this.indices[y++]=f,this.indices[y++]=s+1,this.indices[y++]=s,d&&(u=this.addVertices_(p,g,[0,0],_*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*d,u),u=this.addVertices_(p,g,[0,0],-_*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*d,u),this.indices[y++]=s+2,this.indices[y++]=s,this.indices[y++]=s+1,this.indices[y++]=s+1,this.indices[y++]=s+3,this.indices[y++]=s+2);break}c=[e[i+r],e[i+r+1]]}a=ol.render.webgl.triangleIsCounterClockwise(p[0],p[1],g[0],g[1],c[0],c[1])?-1:1,u=this.addVertices_(p,g,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),u),u=this.addVertices_(p,g,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(h||1),u),u=this.addVertices_(p,g,c,-a*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),u),i>o&&(this.indices[y++]=s,this.indices[y++]=f-1,this.indices[y++]=f,this.indices[y++]=s+2,this.indices[y++]=s,this.indices[y++]=_*a>0?f:f-1),this.indices[y++]=s,this.indices[y++]=s+2,this.indices[y++]=s+1,f=s+2,_=a,h&&(u=this.addVertices_(p,g,c,a*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*h,u),this.indices[y++]=s+1,this.indices[y++]=s+3,this.indices[y++]=s)}m&&(s=s||u/7,a=ol.geom.flat.orient.linearRingIsClockwise([p[0],p[1],g[0],g[1],c[0],c[1]],0,6,2)?1:-1,u=this.addVertices_(p,g,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),u),u=this.addVertices_(p,g,c,-a*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),u),this.indices[y++]=s,this.indices[y++]=f-1,this.indices[y++]=f,this.indices[y++]=s+1,this.indices[y++]=s,this.indices[y++]=_*a>0?f:f-1)},ol.render.webgl.LineStringReplay.prototype.addVertices_=function(e,o,t,r,i){return this.vertices[i++]=e[0],this.vertices[i++]=e[1],this.vertices[i++]=o[0],this.vertices[i++]=o[1],this.vertices[i++]=t[0],this.vertices[i++]=t[1],this.vertices[i++]=r,i},ol.render.webgl.LineStringReplay.prototype.isValid_=function(e,o,t,r){var i=t-o;if(i<2*r)return!1;if(i===2*r){var n=[e[o],e[o+1]],l=[e[o+r],e[o+r+1]];return!ol.array.equals(n,l)}return!0},ol.render.webgl.LineStringReplay.prototype.drawLineString=function(e,o){var t=e.getFlatCoordinates(),r=e.getStride();this.isValid_(t,0,t.length,r)&&(t=ol.geom.flat.transform.translate(t,0,t.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o),this.drawCoordinates_(t,0,t.length,r))},ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(e,o){var t=this.indices.length,r=e.getEnds();r.unshift(0);var i,n,l=e.getFlatCoordinates(),a=e.getStride();if(r.length>1)for(i=1,n=r.length;i<n;++i)if(this.isValid_(l,r[i-1],r[i],a)){var s=ol.geom.flat.transform.translate(l,r[i-1],r[i],a,-this.origin[0],-this.origin[1]);this.drawCoordinates_(s,0,s.length,a)}this.indices.length>t&&(this.startIndices.push(t),this.startIndicesFeature.push(o),this.state_.changed&&(this.styleIndices_.push(t),this.state_.changed=!1))},ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(e,o,t){if(ol.geom.flat.topology.lineStringIsClosed(e,0,e.length,t)||(e.push(e[0]),e.push(e[1])),this.drawCoordinates_(e,0,e.length,t),o.length){var r,i;for(r=0,i=o.length;r<i;++r)ol.geom.flat.topology.lineStringIsClosed(o[r],0,o[r].length,t)||(o[r].push(o[r][0]),o[r].push(o[r][1])),this.drawCoordinates_(o[r],0,o[r].length,t)}},ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(e,o){var t=void 0===o?this.indices.length:o;this.startIndices.push(t),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(t),this.state_.changed=!1)},ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length},ol.render.webgl.LineStringReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(e){var o=this.verticesBuffer,t=this.indicesBuffer;return function(){e.deleteBuffer(o),e.deleteBuffer(t)}},ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(e,o,t,r){var i,n;i=ol.render.webgl.linestringreplay.defaultshader.fragment,n=ol.render.webgl.linestringreplay.defaultshader.vertex;var l,a=o.getProgram(i,n);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.linestringreplay.defaultshader.Locations(e,a),this.defaultLocations_=l),o.useProgram(a),e.enableVertexAttribArray(l.a_lastPos),e.vertexAttribPointer(l.a_lastPos,2,ol.webgl.FLOAT,!1,28,0),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,28,8),e.enableVertexAttribArray(l.a_nextPos),e.vertexAttribPointer(l.a_nextPos,2,ol.webgl.FLOAT,!1,28,16),e.enableVertexAttribArray(l.a_direction),e.vertexAttribPointer(l.a_direction,1,ol.webgl.FLOAT,!1,28,24),e.uniform2fv(l.u_size,t),e.uniform1f(l.u_pixelRatio,r),l},ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(e,o){e.disableVertexAttribArray(o.a_lastPos),e.disableVertexAttribArray(o.a_position),e.disableVertexAttribArray(o.a_nextPos),e.disableVertexAttribArray(o.a_direction)},ol.render.webgl.LineStringReplay.prototype.drawReplay=function(e,o,t,r){var i=e.getParameter(e.DEPTH_FUNC),n=e.getParameter(e.DEPTH_WRITEMASK);if(r||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),ol.obj.isEmpty(t)){var l,a,s,p;for(s=this.startIndices[this.startIndices.length-1],l=this.styleIndices_.length-1;l>=0;--l)a=this.styleIndices_[l],p=this.styles_[l],this.setStrokeStyle_(e,p[0],p[1],p[2]),this.drawElements(e,o,a,s),e.clear(e.DEPTH_BUFFER_BIT),s=a}else this.drawReplaySkipping_(e,o,t);r||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(n),e.depthFunc(i))},ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(e,o,t){var r,i,n,l,a,s,p,g,c;for(g=this.startIndices.length-2,n=i=this.startIndices[g+1],r=this.styleIndices_.length-1;r>=0;--r){for(l=this.styles_[r],this.setStrokeStyle_(e,l[0],l[1],l[2]),a=this.styleIndices_[r];g>=0&&this.startIndices[g]>=a;)c=this.startIndices[g],s=this.startIndicesFeature[g],p=ol.getUid(s).toString(),t[p]&&(i!==n&&(this.drawElements(e,o,i,n),e.clear(e.DEPTH_BUFFER_BIT)),n=c),g--,i=c;i!==n&&(this.drawElements(e,o,i,n),e.clear(e.DEPTH_BUFFER_BIT)),i=n=a}},ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(e,o,t,r,i){var n,l,a,s,p,g,c,u;for(u=this.startIndices.length-2,a=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n)for(s=this.styles_[n],this.setStrokeStyle_(e,s[0],s[1],s[2]),p=this.styleIndices_[n];u>=0&&this.startIndices[u]>=p;){if(l=this.startIndices[u],g=this.startIndicesFeature[u],c=ol.getUid(g).toString(),void 0===t[c]&&g.getGeometry()&&(void 0===i||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,o,l,a);var y=r(g);if(y)return y}u--,a=l}},ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(e,o,t,r){e.uniform4fv(this.defaultLocations_.u_color,o),e.uniform1f(this.defaultLocations_.u_lineWidth,t),e.uniform1f(this.defaultLocations_.u_miterLimit,r)},ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(e,o){var t=o.getLineCap();this.state_.lineCap=void 0!==t?t:ol.render.webgl.defaultLineCap;var r=o.getLineDash();this.state_.lineDash=r||ol.render.webgl.defaultLineDash;var i=o.getLineDashOffset();this.state_.lineDashOffset=i||ol.render.webgl.defaultLineDashOffset;var n=o.getLineJoin();this.state_.lineJoin=void 0!==n?n:ol.render.webgl.defaultLineJoin;var l=o.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(l).map(function(e,o){return 3!=o?e/255:e})||ol.render.webgl.defaultStrokeStyle;var a=o.getWidth();a=void 0!==a?a:ol.render.webgl.defaultLineWidth;var s=o.getMiterLimit();s=void 0!==s?s:ol.render.webgl.defaultMiterLimit,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,l)&&this.state_.lineWidth===a&&this.state_.miterLimit===s||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=a,this.state_.miterLimit=s,this.styles_.push([l,a,s]))},ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},goog.provide("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"),goog.provide("ol.render.webgl.polygonreplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.polygonreplay.defaultshader.Locations=function(e,o){this.u_projectionMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"a")},goog.provide("ol.structs.LinkedList"),ol.structs.LinkedList=function(e){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===e||e,this.length_=0},ol.structs.LinkedList.prototype.insertItem=function(e){var o={prev:void 0,next:void 0,data:e},t=this.head_;if(t){var r=t.next;o.prev=t,o.next=r,t.next=o,r&&(r.prev=o),t===this.last_&&(this.last_=o)}else this.first_=o,this.last_=o,this.circular_&&(o.next=o,o.prev=o);this.head_=o,this.length_++},ol.structs.LinkedList.prototype.removeItem=function(){var e=this.head_;if(e){var o=e.next,t=e.prev;o&&(o.prev=t),t&&(t.next=o),this.head_=o||t,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===e?this.first_=this.head_:this.last_===e&&(this.last_=t?this.head_.prev:this.head_),this.length_--}},ol.structs.LinkedList.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},ol.structs.LinkedList.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},ol.structs.LinkedList.prototype.concat=function(e){if(e.head_){if(this.head_){var o=this.head_.next;this.head_.next=e.first_,e.first_.prev=this.head_,o.prev=e.last_,e.last_.next=o,this.length_+=e.length_}else this.head_=e.head_,this.first_=e.first_,this.last_=e.last_,this.length_=e.length_;e.head_=void 0,e.first_=void 0,e.last_=void 0,e.length_=0}},ol.structs.LinkedList.prototype.getLength=function(){return this.length_},goog.provide("ol.render.webgl.PolygonReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol.render.webgl.polygonreplay.defaultshader.Locations"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.style.Stroke"),goog.require("ol.structs.LinkedList"),goog.require("ol.structs.RBush"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.PolygonReplay=function(e,o){ol.render.webgl.Replay.call(this,e,o),this.lineStringReplay=new ol.render.webgl.LineStringReplay(e,o),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}},ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay),ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(e,o,t){var r=new ol.structs.LinkedList,i=new ol.structs.RBush;this.processFlatCoordinates_(e,t,r,i,!0);var n=this.getMaxCoords_(r);if(o.length){var l,a,s=[];for(l=0,a=o.length;l<a;++l){var p={list:new ol.structs.LinkedList,maxCoords:void 0,rtree:new ol.structs.RBush};s.push(p),this.processFlatCoordinates_(o[l],t,p.list,p.rtree,!1),this.classifyPoints_(p.list,p.rtree,!0),p.maxCoords=this.getMaxCoords_(p.list)}for(s.sort(function(e,o){return o.maxCoords[0]===e.maxCoords[0]?e.maxCoords[1]-o.maxCoords[1]:o.maxCoords[0]-e.maxCoords[0]}),l=0;l<s.length;++l){var g,c=s[l].list,u=c.firstItem(),y=u;do{if(this.getIntersections_(y,i).length){g=!0;break}y=c.nextItem()}while(u!==y);g||this.bridgeHole_(c,s[l].maxCoords[0],r,n[0],i)&&(i.concat(s[l].rtree),this.classifyPoints_(r,i,!1))}}else this.classifyPoints_(r,i,!1);this.triangulate_(r,i)},ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(e,o,t,r,i){
var n,l,a,s,p,g=ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,o),c=this.vertices.length/2,u=[],y=[];if(i===g){for(a=this.createPoint_(e[0],e[1],c++),s=a,n=o,l=e.length;n<l;n+=o)p=this.createPoint_(e[n],e[n+1],c++),y.push(this.insertItem_(s,p,t)),u.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)]),s=p;y.push(this.insertItem_(p,a,t)),u.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)])}else{var h=e.length-o;for(a=this.createPoint_(e[h],e[h+1],c++),s=a,n=h-o,l=0;n>=l;n-=o)p=this.createPoint_(e[n],e[n+1],c++),y.push(this.insertItem_(s,p,t)),u.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)]),s=p;y.push(this.insertItem_(p,a,t)),u.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)])}r.load(u,y)},ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(e){var o=e.firstItem(),t=o,r=[t.p0.x,t.p0.y];do{t=e.nextItem(),t.p0.x>r[0]&&(r=[t.p0.x,t.p0.y])}while(t!==o);return r},ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(e,o,t){var r=e.firstItem(),i=r,n=e.nextItem(),l=!1;do{var a=t?ol.render.webgl.triangleIsCounterClockwise(n.p1.x,n.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):ol.render.webgl.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,n.p1.x,n.p1.y);void 0===a?(this.removeItem_(i,n,e,o),l=!0,n===r&&(r=e.getNextItem()),n=i,e.prevItem()):i.p1.reflex!==a&&(i.p1.reflex=a,l=!0),i=n,n=e.nextItem()}while(i!==r);return l},ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,o,t,r,i){for(var n=e.firstItem();n.p1.x!==o;)n=e.nextItem();var l,a,s,p,g=n.p1,c={x:r,y:g.y,i:-1},u=1/0,y=this.getIntersections_({p0:g,p1:c},i,!0);for(l=0,a=y.length;l<a;++l){var h=y[l],d=this.calculateIntersection_(g,c,h.p0,h.p1,!0),m=Math.abs(g.x-d[0]);m<u&&void 0!==ol.render.webgl.triangleIsCounterClockwise(g.x,g.y,h.p0.x,h.p0.y,h.p1.x,h.p1.y)&&(u=m,p={x:d[0],y:d[1],i:-1},n=h)}if(u===1/0)return!1;if(s=n.p1,u>0){var f=this.getPointsInTriangle_(g,p,n.p1,i);if(f.length){var _=1/0;for(l=0,a=f.length;l<a;++l){var v=f[l],S=Math.atan2(g.y-v.y,c.x-v.x);(S<_||S===_&&v.x<s.x)&&(_=S,s=v)}}}for(n=t.firstItem();n.p1.x!==s.x||n.p1.y!==s.y;)n=t.nextItem();var x={x:g.x,y:g.y,i:g.i,reflex:void 0},P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:void 0};return e.getNextItem().p0=x,this.insertItem_(g,n.p1,e,i),this.insertItem_(P,x,e,i),n.p1=P,e.setFirstItem(),t.concat(e),!0},ol.render.webgl.PolygonReplay.prototype.triangulate_=function(e,o){for(var t=!1,r=this.isSimple_(e,o);e.getLength()>3;)if(r){if(!this.clipEars_(e,o,r,t)&&!this.classifyPoints_(e,o,t)&&!this.resolveSelfIntersections_(e,o,!0))break}else if(!this.clipEars_(e,o,r,t)&&!this.classifyPoints_(e,o,t)&&!this.resolveSelfIntersections_(e,o)){if(!(r=this.isSimple_(e,o))){this.splitPolygon_(e,o);break}t=!this.isClockwise_(e),this.classifyPoints_(e,o,t)}if(3===e.getLength()){var i=this.indices.length;this.indices[i++]=e.getPrevItem().p0.i,this.indices[i++]=e.getCurrItem().p0.i,this.indices[i++]=e.getNextItem().p0.i}},ol.render.webgl.PolygonReplay.prototype.clipEars_=function(e,o,t,r){var i,n,l,a=this.indices.length,s=e.firstItem(),p=e.getPrevItem(),g=s,c=e.nextItem(),u=e.getNextItem(),y=!1;do{if(i=g.p0,n=g.p1,l=c.p1,!1===n.reflex){var h;h=t?0===this.getPointsInTriangle_(i,n,l,o,!0).length:r?this.diagonalIsInside_(u.p1,l,n,i,p.p0):this.diagonalIsInside_(p.p0,i,n,l,u.p1),(t||0===this.getIntersections_({p0:i,p1:l},o).length)&&h&&(t||!1===i.reflex||!1===l.reflex||ol.geom.flat.orient.linearRingIsClockwise([p.p0.x,p.p0.y,i.x,i.y,n.x,n.y,l.x,l.y,u.p1.x,u.p1.y],0,10,2)===!r)&&(this.indices[a++]=i.i,this.indices[a++]=n.i,this.indices[a++]=l.i,this.removeItem_(g,c,e,o),c===s&&(s=u),y=!0)}p=e.getPrevItem(),g=e.getCurrItem(),c=e.nextItem(),u=e.getNextItem()}while(g!==s&&e.getLength()>3);return y},ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(e,o,t){var r=e.firstItem();e.nextItem();var i=r,n=e.nextItem(),l=!1;do{var a=this.calculateIntersection_(i.p0,i.p1,n.p0,n.p1,t);if(a){var s=!1,p=this.vertices.length,g=this.indices.length,c=p/2,u=e.prevItem();e.removeItem(),o.remove(u),s=u===r;var y;if(t?(a[0]===i.p0.x&&a[1]===i.p0.y?(e.prevItem(),y=i.p0,n.p0=y,o.remove(i),s=s||i===r):(y=n.p1,i.p1=y,o.remove(n),s=s||n===r),e.removeItem()):(y=this.createPoint_(a[0],a[1],c),i.p1=y,n.p0=y,o.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i),o.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)),this.indices[g++]=u.p0.i,this.indices[g++]=u.p1.i,this.indices[g++]=y.i,l=!0,s)break}i=e.getPrevItem(),n=e.nextItem()}while(i!==r);return l},ol.render.webgl.PolygonReplay.prototype.isSimple_=function(e,o){var t=e.firstItem(),r=t;do{if(this.getIntersections_(r,o).length)return!1;r=e.nextItem()}while(r!==t);return!0},ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(e){var o=2*e.getLength(),t=new Array(o),r=e.firstItem(),i=r,n=0;do{t[n++]=i.p0.x,t[n++]=i.p0.y,i=e.nextItem()}while(i!==r);return ol.geom.flat.orient.linearRingIsClockwise(t,0,o,2)},ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(e,o){var t=e.firstItem(),r=t;do{var i=this.getIntersections_(r,o);if(i.length){var n=i[0],l=this.vertices.length/2,a=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1),s=this.createPoint_(a[0],a[1],l),p=new ol.structs.LinkedList,g=new ol.structs.RBush;this.insertItem_(s,r.p1,p,g),r.p1=s,o.update([Math.min(r.p0.x,s.x),Math.min(r.p0.y,s.y),Math.max(r.p0.x,s.x),Math.max(r.p0.y,s.y)],r);for(var c=e.nextItem();c!==n;)this.insertItem_(c.p0,c.p1,p,g),o.remove(c),e.removeItem(),c=e.getCurrItem();this.insertItem_(n.p0,s,p,g),n.p0=s,o.update([Math.min(n.p1.x,s.x),Math.min(n.p1.y,s.y),Math.max(n.p1.x,s.x),Math.max(n.p1.y,s.y)],n),this.classifyPoints_(e,o,!1),this.triangulate_(e,o),this.classifyPoints_(p,g,!1),this.triangulate_(p,g);break}r=e.nextItem()}while(r!==t)},ol.render.webgl.PolygonReplay.prototype.createPoint_=function(e,o,t){var r=this.vertices.length;return this.vertices[r++]=e,this.vertices[r++]=o,{x:e,y:o,i:t,reflex:void 0}},ol.render.webgl.PolygonReplay.prototype.insertItem_=function(e,o,t,r){var i={p0:e,p1:o};return t.insertItem(i),r&&r.insert([Math.min(e.x,o.x),Math.min(e.y,o.y),Math.max(e.x,o.x),Math.max(e.y,o.y)],i),i},ol.render.webgl.PolygonReplay.prototype.removeItem_=function(e,o,t,r){t.getCurrItem()===o&&(t.removeItem(),e.p1=o.p1,r.remove(o),r.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e))},ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(e,o,t,r,i){var n,l,a,s,p=[],g=r.getInExtent([Math.min(e.x,o.x,t.x),Math.min(e.y,o.y,t.y),Math.max(e.x,o.x,t.x),Math.max(e.y,o.y,t.y)]);for(n=0,l=g.length;n<l;++n)for(a in g[n])"object"!=typeof(s=g[n][a])||i&&!s.reflex||s.x===e.x&&s.y===e.y||s.x===o.x&&s.y===o.y||s.x===t.x&&s.y===t.y||-1!==p.indexOf(s)||!ol.geom.flat.contains.linearRingContainsXY([e.x,e.y,o.x,o.y,t.x,t.y],0,6,2,s.x,s.y)||p.push(s);return p},ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,o,t){var r,i,n=e.p0,l=e.p1,a=o.getInExtent([Math.min(n.x,l.x),Math.min(n.y,l.y),Math.max(n.x,l.x),Math.max(n.y,l.y)]),s=[];for(r=0,i=a.length;r<i;++r){var p=a[r];e!==p&&(t||p.p0!==l||p.p1!==n)&&this.calculateIntersection_(n,l,p.p0,p.p1,t)&&s.push(p)}return s},ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(e,o,t,r,i){var n=(r.y-t.y)*(o.x-e.x)-(r.x-t.x)*(o.y-e.y);if(0!==n){var l=((r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x))/n,a=((o.x-e.x)*(e.y-t.y)-(o.y-e.y)*(e.x-t.x))/n;if(!i&&l>ol.render.webgl.EPSILON&&l<1-ol.render.webgl.EPSILON&&a>ol.render.webgl.EPSILON&&a<1-ol.render.webgl.EPSILON||i&&l>=0&&l<=1&&a>=0&&a<=1)return[e.x+l*(o.x-e.x),e.y+l*(o.y-e.y)]}},ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(e,o,t,r,i){if(void 0===o.reflex||void 0===r.reflex)return!1;var n=(t.x-r.x)*(o.y-r.y)>(t.y-r.y)*(o.x-r.x),l=(i.x-r.x)*(o.y-r.y)<(i.y-r.y)*(o.x-r.x),a=(e.x-o.x)*(r.y-o.y)>(e.y-o.y)*(r.x-o.x),s=(t.x-o.x)*(r.y-o.y)<(t.y-o.y)*(r.x-o.x),p=r.reflex?l||n:l&&n,g=o.reflex?s||a:s&&a;return p&&g},ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,o){var t,r,i,n,l=e.getEndss(),a=e.getStride(),s=this.indices.length,p=this.lineStringReplay.getCurrentIndex(),g=e.getFlatCoordinates(),c=0;for(t=0,r=l.length;t<r;++t){var u=l[t];if(u.length>0){var y=ol.geom.flat.transform.translate(g,c,u[0],a,-this.origin[0],-this.origin[1]);if(y.length){var h,d=[];for(i=1,n=u.length;i<n;++i)u[i]!==u[i-1]&&(h=ol.geom.flat.transform.translate(g,u[i-1],u[i],a,-this.origin[0],-this.origin[1]),d.push(h));this.lineStringReplay.drawPolygonCoordinates(y,d,a),this.drawCoordinates_(y,d,a)}}c=u[u.length-1]}this.indices.length>s&&(this.startIndices.push(s),this.startIndicesFeature.push(o),this.state_.changed&&(this.styleIndices_.push(s),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>p&&this.lineStringReplay.setPolygonStyle(o,p)},ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(e,o){var t=e.getEnds(),r=e.getStride();if(t.length>0){var i=e.getFlatCoordinates().map(Number),n=ol.geom.flat.transform.translate(i,0,t[0],r,-this.origin[0],-this.origin[1]);if(n.length){var l,a,s,p=[];for(l=1,a=t.length;l<a;++l)t[l]!==t[l-1]&&(s=ol.geom.flat.transform.translate(i,t[l-1],t[l],r,-this.origin[0],-this.origin[1]),p.push(s));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(o),this.lineStringReplay.drawPolygonCoordinates(n,p,r),this.drawCoordinates_(n,p,r)}}},ol.render.webgl.PolygonReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(e),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(e){var o=this.verticesBuffer,t=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(o),e.deleteBuffer(t),r()}},ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(e,o,t,r){var i,n;i=ol.render.webgl.polygonreplay.defaultshader.fragment,n=ol.render.webgl.polygonreplay.defaultshader.vertex;var l,a=o.getProgram(i,n);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.polygonreplay.defaultshader.Locations(e,a),this.defaultLocations_=l),o.useProgram(a),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,8,0),l},ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(e,o){e.disableVertexAttribArray(o.a_position)},ol.render.webgl.PolygonReplay.prototype.drawReplay=function(e,o,t,r){var i=e.getParameter(e.DEPTH_FUNC),n=e.getParameter(e.DEPTH_WRITEMASK);if(r||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),ol.obj.isEmpty(t)){var l,a,s,p;for(s=this.startIndices[this.startIndices.length-1],l=this.styleIndices_.length-1;l>=0;--l)a=this.styleIndices_[l],p=this.styles_[l],this.setFillStyle_(e,p),this.drawElements(e,o,a,s),s=a}else this.drawReplaySkipping_(e,o,t);r||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(n),e.depthFunc(i))},ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(e,o,t,r,i){var n,l,a,s,p,g,c,u;for(u=this.startIndices.length-2,a=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n)for(s=this.styles_[n],this.setFillStyle_(e,s),p=this.styleIndices_[n];u>=0&&this.startIndices[u]>=p;){if(l=this.startIndices[u],g=this.startIndicesFeature[u],c=ol.getUid(g).toString(),void 0===t[c]&&g.getGeometry()&&(void 0===i||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,o,l,a);var y=r(g);if(y)return y}u--,a=l}},ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(e,o,t){var r,i,n,l,a,s,p,g,c;for(g=this.startIndices.length-2,n=i=this.startIndices[g+1],r=this.styleIndices_.length-1;r>=0;--r){for(l=this.styles_[r],this.setFillStyle_(e,l),a=this.styleIndices_[r];g>=0&&this.startIndices[g]>=a;)c=this.startIndices[g],s=this.startIndicesFeature[g],p=ol.getUid(s).toString(),t[p]&&(i!==n&&(this.drawElements(e,o,i,n),e.clear(e.DEPTH_BUFFER_BIT)),n=c),g--,i=c;i!==n&&(this.drawElements(e,o,i,n),e.clear(e.DEPTH_BUFFER_BIT)),i=n=a}},ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(e,o){e.uniform4fv(this.defaultLocations_.u_color,o)},ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(e,o){var t=e?e.getColor():[0,0,0,0];if(t=t instanceof CanvasGradient||t instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(t).map(function(e,o){return 3!=o?e/255:e})||ol.render.webgl.defaultFillStyle,this.state_.fillColor&&ol.array.equals(t,this.state_.fillColor)||(this.state_.fillColor=t,this.state_.changed=!0,this.styles_.push(t)),o)this.lineStringReplay.setFillStrokeStyle(null,o);else{var r=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}},goog.provide("ol.style.Atlas"),goog.require("ol.dom"),ol.style.Atlas=function(e,o){this.space_=o,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=ol.dom.createCanvasContext2D(e,e),this.canvas_=this.context_.canvas},ol.style.Atlas.prototype.get=function(e){return this.entries_[e]||null},ol.style.Atlas.prototype.add=function(e,o,t,r,i){var n,l,a;for(l=0,a=this.emptyBlocks_.length;l<a;++l)if(n=this.emptyBlocks_[l],n.width>=o+this.space_&&n.height>=t+this.space_){var s={offsetX:n.x+this.space_,offsetY:n.y+this.space_,image:this.canvas_};return this.entries_[e]=s,r.call(i,this.context_,n.x+this.space_,n.y+this.space_),this.split_(l,n,o+this.space_,t+this.space_),s}return null},ol.style.Atlas.prototype.split_=function(e,o,t,r){var i,n,l=o.width-t,a=o.height-r;l>a?(i={x:o.x+t,y:o.y,width:o.width-t,height:o.height},n={x:o.x,y:o.y+r,width:t,height:o.height-r},this.updateBlocks_(e,i,n)):(i={x:o.x+t,y:o.y,width:o.width-t,height:r},n={x:o.x,y:o.y+r,width:o.width,height:o.height-r},this.updateBlocks_(e,i,n))},ol.style.Atlas.prototype.updateBlocks_=function(e,o,t){var r=[e,1];o.width>0&&o.height>0&&r.push(o),t.width>0&&t.height>0&&r.push(t),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)},goog.provide("ol.style.AtlasManager"),goog.require("ol"),goog.require("ol.style.Atlas"),ol.style.AtlasManager=function(e){var o=e||{};this.currentSize_=void 0!==o.initialSize?o.initialSize:ol.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==o.maxSize?o.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:void 0!==ol.WEBGL_MAX_TEXTURE_SIZE?ol.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==o.space?o.space:1,this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]},ol.style.AtlasManager.prototype.getInfo=function(e){var o=this.getInfo_(this.atlases_,e);if(!o)return null;var t=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(o,t)},ol.style.AtlasManager.prototype.getInfo_=function(e,o){var t,r,i,n;for(i=0,n=e.length;i<n;++i)if(t=e[i],r=t.get(o))return r;return null},ol.style.AtlasManager.prototype.mergeInfos_=function(e,o){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:o.image}},ol.style.AtlasManager.prototype.add=function(e,o,t,r,i,n){if(o+this.space_>this.maxSize_||t+this.space_>this.maxSize_)return null;var l=this.add_(!1,e,o,t,r,n);if(!l)return null;var a=void 0!==i?i:ol.nullFunction,s=this.add_(!0,e,o,t,a,n);return this.mergeInfos_(l,s)},ol.style.AtlasManager.prototype.add_=function(e,o,t,r,i,n){var l,a,s,p,g=e?this.hitAtlases_:this.atlases_;for(s=0,p=g.length;s<p;++s){if(l=g[s],a=l.add(o,t,r,i,n))return a;if(!a&&s===p-1){var c;e?(c=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=c):(c=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=c),l=new ol.style.Atlas(c,this.space_),g.push(l),++p}}return null},goog.provide("ol.render.webgl.TextReplay"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.geom.GeometryType"),goog.require("ol.has"),goog.require("ol.render.replay"),goog.require("ol.render.webgl"),goog.require("ol.render.webgl.TextureReplay"),goog.require("ol.style.AtlasManager"),goog.require("ol.webgl.Buffer"),ol.render.webgl.TextReplay=function(e,o){ol.render.webgl.TextureReplay.call(this,e,o),this.images_=[],this.textures_=[],this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1},ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay),ol.render.webgl.TextReplay.prototype.drawText=function(e,o){if(this.text_){var t=null,r=2,i=2;switch(e.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:t=e.getFlatCoordinates(),r=t.length,i=e.getStride();break;case ol.geom.GeometryType.CIRCLE:t=e.getCenter();break;case ol.geom.GeometryType.LINE_STRING:t=e.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:t=e.getFlatMidpoints(),r=t.length;break;case ol.geom.GeometryType.POLYGON:t=e.getFlatInteriorPoint();break;case ol.geom.GeometryType.MULTI_POLYGON:t=e.getFlatInteriorPoints(),r=t.length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(o);var n,l,a,s,p,g,c,u,y=this.currAtlas_,h=this.text_.split("\n"),d=this.getTextSize_(h),m=Math.round(d[0]*this.textAlign_-this.offsetX_),f=Math.round(d[1]*this.textBaseline_-this.offsetY_),_=this.state_.lineWidth/2*this.state_.scale;for(n=0,l=h.length;n<l;++n)for(p=0,g=y.height*n,c=h[n].split(""),a=0,s=c.length;a<s;++a){if(u=y.atlas.getInfo(c[a])){var v=u.image;this.anchorX=m-p,this.anchorY=f-g,this.originX=0===a?u.offsetX-_:u.offsetX,this.originY=u.offsetY,this.height=y.height,this.width=0===a||a===c.length-1?y.width[c[a]]+_:y.width[c[a]],this.imageHeight=v.height,this.imageWidth=v.width;var S;0===this.images_.length?this.images_.push(v):(S=this.images_[this.images_.length-1],ol.getUid(S)!=ol.getUid(v)&&(this.groupIndices.push(this.indices.length),this.images_.push(v))),this.drawText_(t,0,r,i)}p+=this.width}}},ol.render.webgl.TextReplay.prototype.getTextSize_=function(e){var o=this,t=this.currAtlas_,r=e.length*t.height;return[e.map(function(e){var r,i,n=0;for(r=0,i=e.length;r<i;++r){var l=e[r];t.width[l]||o.addCharToAtlas_(l),n+=t.width[l]?t.width[l]:0}return n}).reduce(function(e,o){return Math.max(e,o)}),r]},ol.render.webgl.TextReplay.prototype.drawText_=function(e,o,t,r){var i,n;for(i=o,n=t;i<n;i+=r)this.drawCoordinates(e,o,t,r)},ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(e){if(1===e.length){var o=this.currAtlas_,t=this.state_,r=this.measureCanvas_.getContext("2d");r.font=t.font;var i=Math.ceil(r.measureText(e).width*t.scale);o.atlas.add(e,i,o.height,function(o,r,i){o.font=t.font,o.fillStyle=t.fillColor,o.strokeStyle=t.strokeColor,o.lineWidth=t.lineWidth,o.lineCap=t.lineCap,o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit,o.textAlign="left",o.textBaseline="top",ol.has.CANVAS_LINE_DASH&&t.lineDash&&(o.setLineDash(t.lineDash),o.lineDashOffset=t.lineDashOffset),1!==t.scale&&o.setTransform(t.scale,0,0,t.scale,0,0),t.strokeColor&&o.strokeText(e,r,i),t.fillColor&&o.fillText(e,r,i)})&&(o.width[e]=i)}},ol.render.webgl.TextReplay.prototype.finish=function(e){var o=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices);var t={};this.createTextures(this.textures_,this.images_,t,o),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,ol.render.webgl.TextureReplay.prototype.finish.call(this,e)},ol.render.webgl.TextReplay.prototype.setTextStyle=function(e){var o=this.state_,t=e.getFill(),r=e.getStroke();if(e&&e.getText()&&(t||r)){if(t){var i=t.getColor();o.fillColor=ol.colorlike.asColorLike(i||ol.render.webgl.defaultFillStyle)}else o.fillColor=null;if(r){var n=r.getColor();o.strokeColor=ol.colorlike.asColorLike(n||ol.render.webgl.defaultStrokeStyle),o.lineWidth=r.getWidth()||ol.render.webgl.defaultLineWidth,o.lineCap=r.getLineCap()||ol.render.webgl.defaultLineCap,o.lineDashOffset=r.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset,o.lineJoin=r.getLineJoin()||ol.render.webgl.defaultLineJoin,o.miterLimit=r.getMiterLimit()||ol.render.webgl.defaultMiterLimit;var l=r.getLineDash();o.lineDash=l?l.slice():ol.render.webgl.defaultLineDash}else o.strokeColor=null,o.lineWidth=0;o.font=e.getFont()||ol.render.webgl.defaultFont,o.scale=e.getScale()||1,this.text_=e.getText();var a=ol.render.replay.TEXT_ALIGN[e.getTextAlign()],s=ol.render.replay.TEXT_ALIGN[e.getTextBaseline()];this.textAlign_=void 0===a?ol.render.webgl.defaultTextAlign:a,this.textBaseline_=void 0===s?ol.render.webgl.defaultTextBaseline:s,this.offsetX_=e.getOffsetX()||0,this.offsetY_=e.getOffsetY()||0,this.rotateWithView=!!e.getRotateWithView(),this.rotation=e.getRotation()||0,this.currAtlas_=this.getAtlas_(o)}else this.text_=""},ol.render.webgl.TextReplay.prototype.getAtlas_=function(e){var o,t=[];for(o in e)(e[o]||0===e[o])&&(Array.isArray(e[o])?t=t.concat(e[o]):t.push(e[o]));var r=this.calculateHash_(t);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=e.font;var n=Math.ceil((1.5*i.measureText("M").width+e.lineWidth/2)*e.scale);this.atlases_[r]={atlas:new ol.style.AtlasManager({space:e.lineWidth+1}),width:{},height:n}}return this.atlases_[r]},ol.render.webgl.TextReplay.prototype.calculateHash_=function(e){var o,t,r="";for(o=0,t=e.length;o<t;++o)r+=e[o];return r},ol.render.webgl.TextReplay.prototype.getTextures=function(e){return this.textures_},ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_},goog.provide("ol.render.webgl.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.replay"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.webgl.CircleReplay");goog.require("ol.render.webgl.ImageReplay"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.PolygonReplay"),goog.require("ol.render.webgl.TextReplay"),ol.render.webgl.ReplayGroup=function(e,o,t){ol.render.ReplayGroup.call(this),this.maxExtent_=o,this.tolerance_=e,this.renderBuffer_=t,this.replaysByZIndex_={}},ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup),ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var o,t=[];for(o in this.replaysByZIndex_){var r,i=this.replaysByZIndex_[o];for(r in i)t.push(i[r].getDeleteResourcesFunction(e))}return function(){for(var e,o=t.length,r=0;r<o;r++)e=t[r].apply(this,arguments);return e}},ol.render.webgl.ReplayGroup.prototype.finish=function(e){var o;for(o in this.replaysByZIndex_){var t,r=this.replaysByZIndex_[o];for(t in r)r[t].finish(e)}},ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,o){var t=void 0!==e?e.toString():"0",r=this.replaysByZIndex_[t];void 0===r&&(r={},this.replaysByZIndex_[t]=r);var i=r[o];if(void 0===i){i=new(0,ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[o])(this.tolerance_,this.maxExtent_),r[o]=i}return i},ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.webgl.ReplayGroup.prototype.replay=function(e,o,t,r,i,n,l,a){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(ol.array.numberSafeCompareFunction);var p,g,c,u,y,h;for(p=0,g=s.length;p<g;++p)for(y=this.replaysByZIndex_[s[p].toString()],c=0,u=ol.render.replay.ORDER.length;c<u;++c)void 0!==(h=y[ol.render.replay.ORDER[c]])&&h.replay(e,o,t,r,i,n,l,a,void 0,!1)},ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,o,t,r,i,n,l,a,s,p,g){var c=Object.keys(this.replaysByZIndex_).map(Number);c.sort(function(e,o){return o-e});var u,y,h,d,m,f;for(u=0,y=c.length;u<y;++u)for(d=this.replaysByZIndex_[c[u].toString()],h=ol.render.replay.ORDER.length-1;h>=0;--h)if(void 0!==(m=d[ol.render.replay.ORDER[h]])&&(f=m.replay(e,o,t,r,i,n,l,a,s,p,g)))return f},ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i,n,l,a,s,p){var g=o.getGL();g.bindFramebuffer(g.FRAMEBUFFER,o.getHitDetectionFramebuffer());var c;return void 0!==this.renderBuffer_&&(c=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),r*this.renderBuffer_)),this.replayHitDetection_(o,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var o=new Uint8Array(4);if(g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,o),o[3]>0){var t=p(e);if(t)return t}},!0,c)},ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,o,t,r,i,n,l,a,s){var p=o.getGL();return p.bindFramebuffer(p.FRAMEBUFFER,o.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(o,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var o=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,o),o[3]>0},!1)},ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1],ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay},goog.provide("ol.render.webgl.Immediate"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.render.ReplayType"),goog.require("ol.render.VectorContext"),goog.require("ol.render.webgl.ReplayGroup"),ol.render.webgl.Immediate=function(e,o,t,r,i,n,l){ol.render.VectorContext.call(this),this.context_=e,this.center_=o,this.extent_=n,this.pixelRatio_=l,this.size_=i,this.rotation_=r,this.resolution_=t,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null},ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext),ol.render.webgl.Immediate.prototype.drawText_=function(e,o){var t=this.context_,r=e.getReplay(0,ol.render.ReplayType.TEXT);r.setTextStyle(this.textStyle_),r.drawText(o,null),r.finish(t);var i={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,i,void 0,!1),r.getDeleteResourcesFunction(t)()},ol.render.webgl.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},ol.render.webgl.Immediate.prototype.drawGeometry=function(e){switch(e.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(e,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e,null)}},ol.render.webgl.Immediate.prototype.drawFeature=function(e,o){var t=o.getGeometryFunction()(e);t&&ol.extent.intersects(this.extent_,t.getExtent())&&(this.setStyle(o),this.drawGeometry(t))},ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(e,o){var t,r,i=e.getGeometriesArray();for(t=0,r=i.length;t<r;++t)this.drawGeometry(i[t])},ol.render.webgl.Immediate.prototype.drawPoint=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_),i.drawPoint(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiPoint=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_),i.drawMultiPoint(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawLineString=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawLineString(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiLineString=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawMultiLineString(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawPolygon=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawPolygon(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawMultiPolygon(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawCircle=function(e,o){var t=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),i=r.getReplay(0,ol.render.ReplayType.CIRCLE);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawCircle(e,o),i.finish(t);var n={};i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,n,void 0,!1),i.getDeleteResourcesFunction(t)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e},ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,o){this.fillStyle_=e,this.strokeStyle_=o},ol.render.webgl.Immediate.prototype.setTextStyle=function(e){this.textStyle_=e},goog.provide("ol.renderer.webgl.defaultmapshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),
ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"),goog.provide("ol.renderer.webgl.defaultmapshader.Locations"),goog.require("ol"),ol.renderer.webgl.defaultmapshader.Locations=function(e,o){this.u_texCoordMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_texture":"g"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.Layer"),goog.require("ol"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.renderer.webgl.defaultmapshader"),goog.require("ol.renderer.webgl.defaultmapshader.Locations"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.renderer.webgl.Layer=function(e,o){ol.renderer.Layer.call(this,o),this.mapRenderer=e,this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=ol.transform.create(),this.projectionMatrix=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.defaultLocations_=null},ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer),ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,o){var t=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=o){var r=function(e,o,t){e.isContextLost()||(e.deleteFramebuffer(o),e.deleteTexture(t))}.bind(null,t,this.framebuffer,this.texture);e.postRenderFunctions.push(r);var i=ol.webgl.Context.createEmptyTexture(t,o,o),n=t.createFramebuffer();t.bindFramebuffer(ol.webgl.FRAMEBUFFER,n),t.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,i,0),this.texture=i,this.framebuffer=n,this.framebufferDimension=o}else t.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)},ol.renderer.webgl.Layer.prototype.composeFrame=function(e,o,t){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,t,e),t.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var r,i=t.getGL(),n=ol.renderer.webgl.defaultmapshader.fragment,l=ol.renderer.webgl.defaultmapshader.vertex,a=t.getProgram(n,l);this.defaultLocations_?r=this.defaultLocations_:(r=new ol.renderer.webgl.defaultmapshader.Locations(i,a),this.defaultLocations_=r),t.useProgram(a)&&(i.enableVertexAttribArray(r.a_position),i.vertexAttribPointer(r.a_position,2,ol.webgl.FLOAT,!1,16,0),i.enableVertexAttribArray(r.a_texCoord),i.vertexAttribPointer(r.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),i.uniform1i(r.u_texture,0)),i.uniformMatrix4fv(r.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),i.uniformMatrix4fv(r.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),i.uniform1f(r.u_opacity,o.opacity),i.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture()),i.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,t,e)},ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,o,t){var r=this.getLayer();if(r.hasListener(e)){var i=t.viewState,n=i.resolution,l=t.pixelRatio,a=t.extent,s=i.center,p=i.rotation,g=t.size,c=new ol.render.webgl.Immediate(o,s,n,p,g,a,l),u=new ol.render.Event(e,c,t,null,o);r.dispatchEvent(u)}},ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture},ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix},ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},ol.renderer.webgl.Layer.prototype.prepareFrame=function(e,o,t){},ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(e,o,t,r){},goog.provide("ol.reproj"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.calculateSourceResolution=function(e,o,t,r){var i=ol.proj.transform(t,o,e),n=ol.proj.getPointResolution(o,r,t),l=o.getMetersPerUnit();void 0!==l&&(n*=l);var a=e.getMetersPerUnit();void 0!==a&&(n/=a);var s=e.getExtent();if(!s||ol.extent.containsCoordinate(s,i)){var p=ol.proj.getPointResolution(e,n,i)/n;isFinite(p)&&p>0&&(n/=p)}return n},ol.reproj.enlargeClipPoint_=function(e,o,t,r){var i=t-e,n=r-o,l=Math.sqrt(i*i+n*n);return[Math.round(t+i/l),Math.round(r+n/l)]},ol.reproj.render=function(e,o,t,r,i,n,l,a,s,p,g){var c=ol.dom.createCanvasContext2D(Math.round(t*e),Math.round(t*o));if(0===s.length)return c.canvas;c.scale(t,t);var u=ol.extent.createEmpty();s.forEach(function(e,o,t){ol.extent.extend(u,e.extent)});var y=ol.extent.getWidth(u),h=ol.extent.getHeight(u),d=ol.dom.createCanvasContext2D(Math.round(t*y/r),Math.round(t*h/r)),m=t/r;s.forEach(function(e,o,t){var r=e.extent[0]-u[0],i=-(e.extent[3]-u[3]),n=ol.extent.getWidth(e.extent),l=ol.extent.getHeight(e.extent);d.drawImage(e.image,p,p,e.image.width-2*p,e.image.height-2*p,r*m,i*m,n*m,l*m)});var f=ol.extent.getTopLeft(l);return a.getTriangles().forEach(function(e,o,i){var l=e.source,a=e.target,s=l[0][0],p=l[0][1],g=l[1][0],y=l[1][1],h=l[2][0],m=l[2][1],_=(a[0][0]-f[0])/n,v=-(a[0][1]-f[1])/n,S=(a[1][0]-f[0])/n,x=-(a[1][1]-f[1])/n,P=(a[2][0]-f[0])/n,E=-(a[2][1]-f[1])/n,T=s,R=p;s=0,p=0,g-=T,y-=R,h-=T,m-=R;var L=[[g,y,0,0,S-_],[h,m,0,0,P-_],[0,0,g,y,x-v],[0,0,h,m,E-v]],M=ol.math.solveLinearSystem(L);if(M){c.save(),c.beginPath();var C=(_+S+P)/3,I=(v+x+E)/3,A=ol.reproj.enlargeClipPoint_(C,I,_,v),O=ol.reproj.enlargeClipPoint_(C,I,S,x),b=ol.reproj.enlargeClipPoint_(C,I,P,E);c.moveTo(O[0],O[1]),c.lineTo(A[0],A[1]),c.lineTo(b[0],b[1]),c.clip(),c.transform(M[0],M[2],M[1],M[3],_,v),c.translate(u[0]-T,u[3]-R),c.scale(r/t,-r/t),c.drawImage(d.canvas,0,0),c.restore()}}),g&&(c.save(),c.strokeStyle="black",c.lineWidth=1,a.getTriangles().forEach(function(e,o,t){var r=e.target,i=(r[0][0]-f[0])/n,l=-(r[0][1]-f[1])/n,a=(r[1][0]-f[0])/n,s=-(r[1][1]-f[1])/n,p=(r[2][0]-f[0])/n,g=-(r[2][1]-f[1])/n;c.beginPath(),c.moveTo(a,s),c.lineTo(i,l),c.lineTo(p,g),c.closePath(),c.stroke()}),c.restore()),c.canvas},goog.provide("ol.reproj.Triangulation"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.Triangulation=function(e,o,t,r,i){this.sourceProj_=e,this.targetProj_=o;var n={},l=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var o=e[0]+"/"+e[1];return n[o]||(n[o]=l(e)),n[o]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(r)==ol.extent.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var a=ol.extent.getTopLeft(t),s=ol.extent.getTopRight(t),p=ol.extent.getBottomRight(t),g=ol.extent.getBottomLeft(t),c=this.transformInv_(a),u=this.transformInv_(s),y=this.transformInv_(p),h=this.transformInv_(g);if(this.addQuad_(a,s,p,g,c,u,y,h,ol.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var d=1/0;this.triangles_.forEach(function(e,o,t){d=Math.min(d,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-d>this.sourceWorldWidth_/2){var o=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];o[0][0]-d>this.sourceWorldWidth_/2&&(o[0][0]-=this.sourceWorldWidth_),o[1][0]-d>this.sourceWorldWidth_/2&&(o[1][0]-=this.sourceWorldWidth_),o[2][0]-d>this.sourceWorldWidth_/2&&(o[2][0]-=this.sourceWorldWidth_);var t=Math.min(o[0][0],o[1][0],o[2][0]);Math.max(o[0][0],o[1][0],o[2][0])-t<this.sourceWorldWidth_/2&&(e.source=o)}},this)}n={}},ol.reproj.Triangulation.prototype.addTriangle_=function(e,o,t,r,i,n){this.triangles_.push({source:[r,i,n],target:[e,o,t]})},ol.reproj.Triangulation.prototype.addQuad_=function(e,o,t,r,i,n,l,a,s){var p=ol.extent.boundingExtent([i,n,l,a]),g=this.sourceWorldWidth_?ol.extent.getWidth(p)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,u=this.sourceProj_.canWrapX()&&g>.5&&g<1,y=!1;if(s>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var h=ol.extent.boundingExtent([e,o,t,r]);y|=ol.extent.getWidth(h)/this.targetWorldWidth_>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!u&&this.sourceProj_.isGlobal()&&g&&(y|=g>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(y||!this.maxSourceExtent_||ol.extent.intersects(p,this.maxSourceExtent_)){if(!(y||isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(s>0))return;y=!0}if(s>0){if(!y){var d,m=[(e[0]+t[0])/2,(e[1]+t[1])/2],f=this.transformInv_(m);if(u){d=(ol.math.modulo(i[0],c)+ol.math.modulo(l[0],c))/2-ol.math.modulo(f[0],c)}else d=(i[0]+l[0])/2-f[0];var _=(i[1]+l[1])/2-f[1];y=d*d+_*_>this.errorThresholdSquared_}if(y){if(Math.abs(e[0]-t[0])<=Math.abs(e[1]-t[1])){var v=[(o[0]+t[0])/2,(o[1]+t[1])/2],S=this.transformInv_(v),x=[(r[0]+e[0])/2,(r[1]+e[1])/2],P=this.transformInv_(x);this.addQuad_(e,o,v,x,i,n,S,P,s-1),this.addQuad_(x,v,t,r,P,S,l,a,s-1)}else{var E=[(e[0]+o[0])/2,(e[1]+o[1])/2],T=this.transformInv_(E),R=[(t[0]+r[0])/2,(t[1]+r[1])/2],L=this.transformInv_(R);this.addQuad_(e,E,R,r,i,T,L,a,s-1),this.addQuad_(E,o,t,R,T,n,l,L,s-1)}return}}if(u){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,t,r,i,l,a),this.addTriangle_(e,o,t,i,n,l)}},ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var e=ol.extent.createEmpty();return this.triangles_.forEach(function(o,t,r){var i=o.source;ol.extent.extendCoordinate(e,i[0]),ol.extent.extendCoordinate(e,i[1]),ol.extent.extendCoordinate(e,i[2])}),e},ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_},goog.provide("ol.reproj.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Image=function(e,o,t,r,i,n){this.targetProj_=o,this.maxSourceExtent_=e.getExtent();var l=o.getExtent(),a=l?ol.extent.getIntersection(t,l):t,s=ol.extent.getCenter(a),p=ol.reproj.calculateSourceResolution(e,o,s,r),g=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,o,a,this.maxSourceExtent_,p*g),this.targetResolution_=r,this.targetExtent_=t;var c=this.triangulation_.calculateSourceExtent();this.sourceImage_=n(c,p,i),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var u=ol.ImageState.LOADED,y=[];this.sourceImage_&&(u=ol.ImageState.IDLE,y=this.sourceImage_.getAttributions()),ol.ImageBase.call(this,t,r,this.sourcePixelRatio_,u,y)},ol.inherits(ol.reproj.Image,ol.ImageBase),ol.reproj.Image.prototype.disposeInternal=function(){this.state==ol.ImageState.LOADING&&this.unlistenSource_(),ol.ImageBase.prototype.disposeInternal.call(this)},ol.reproj.Image.prototype.getImage=function(){return this.canvas_},ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_},ol.reproj.Image.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED){var o=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_,t=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(o,t,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e,this.changed()},ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING,this.changed();var e=this.sourceImage_.getState();e==ol.ImageState.LOADED||e==ol.ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(e){var o=this.sourceImage_.getState();o!=ol.ImageState.LOADED&&o!=ol.ImageState.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},goog.provide("ol.source.Image"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.array"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.reproj.Image"),goog.require("ol.source.Source"),ol.source.Image=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0},ol.inherits(ol.source.Image,ol.source.Source),ol.source.Image.prototype.getResolutions=function(){return this.resolutions_},ol.source.Image.prototype.findNearestResolution=function(e){if(this.resolutions_){var o=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[o]}return e},ol.source.Image.prototype.getImage=function(e,o,t,r){var i=this.getProjection();if(ol.ENABLE_RASTER_REPROJECTION&&i&&r&&!ol.proj.equivalent(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==o&&ol.extent.equals(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ol.reproj.Image(i,r,e,o,t,function(e,o,t){return this.getImageInternal(e,o,t,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(e,o,t,r)},ol.source.Image.prototype.getImageInternal=function(e,o,t,r){},ol.source.Image.prototype.handleImageChange=function(e){var o=e.target;switch(o.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,o));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,o));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,o))}},ol.source.Image.defaultImageLoadFunction=function(e,o){e.getImage().src=o},ol.source.Image.Event=function(e,o){ol.events.Event.call(this,e),this.image=o},ol.inherits(ol.source.Image.Event,ol.events.Event),ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},goog.provide("ol.source.ImageCanvas"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.extent"),goog.require("ol.source.Image"),ol.source.ImageCanvas=function(e){ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5},ol.inherits(ol.source.ImageCanvas,ol.source.Image),ol.source.ImageCanvas.prototype.getImageInternal=function(e,o,t,r){o=this.findNearestResolution(o);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==o&&i.getPixelRatio()==t&&ol.extent.containsExtent(i.getExtent(),e))return i;e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_);var n=ol.extent.getWidth(e)/o,l=ol.extent.getHeight(e)/o,a=[n*t,l*t],s=this.canvasFunction_(e,o,t,a,r);return s&&(i=new ol.ImageCanvas(e,o,t,this.getAttributions(),s)),this.canvas_=i,this.renderedRevision_=this.getRevision(),i},goog.provide("ol.source.ImageVector"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.source.ImageCanvas"),goog.require("ol.style.Style"),goog.require("ol.transform"),ol.source.ImageVector=function(e){this.source_=e.source,this.transform_=ol.transform.create(),this.canvasContext_=ol.dom.createCanvasContext2D(),this.canvasSize_=[0,0],this.renderBuffer_=void 0==e.renderBuffer?100:e.renderBuffer,this.replayGroup_=null,ol.source.ImageCanvas.call(this,{attributions:e.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()}),this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)},ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas),ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,o,t,r,i){var n=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(o,t),e,o,t,this.source_.getOverlaps(),this.renderBuffer_);this.source_.loadFeatures(e,o,i);var l=!1;if(this.source_.forEachFeatureInExtent(e,function(e){l=l||this.renderFeature_(e,o,t,n)},this),n.finish(),l)return null;this.canvasSize_[0]!=r[0]||this.canvasSize_[1]!=r[1]?(this.canvasContext_.canvas.width=r[0],this.canvasContext_.canvas.height=r[1],this.canvasSize_[0]=r[0],this.canvasSize_[1]=r[1]):this.canvasContext_.clearRect(0,0,r[0],r[1]);var a=this.getTransform_(ol.extent.getCenter(e),o,t,r);return n.replay(this.canvasContext_,a,0,{}),this.replayGroup_=n,this.canvasContext_.canvas},ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i,n){if(this.replayGroup_){var l={};return this.replayGroup_.forEachFeatureAtCoordinate(e,o,0,r,i,function(e){var o=ol.getUid(e).toString();if(!(o in l))return l[o]=!0,n(e)})}},ol.source.ImageVector.prototype.getSource=function(){return this.source_},ol.source.ImageVector.prototype.getStyle=function(){return this.style_},ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.source.ImageVector.prototype.getTransform_=function(e,o,t,r){var i=r[0]/2,n=r[1]/2,l=t/o,a=-l,s=-e[0],p=-e[1];return ol.transform.compose(this.transform_,i,n,l,a,0,s,p)},ol.source.ImageVector.prototype.handleImageChange_=function(e){this.changed()},ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())},ol.source.ImageVector.prototype.renderFeature_=function(e,o,t,r){var i,n=e.getStyleFunction();if(n?i=n.call(e,o):this.styleFunction_&&(i=this.styleFunction_(e,o)),!i)return!1;var l,a,s=!1;for(Array.isArray(i)||(i=[i]),l=0,a=i.length;l<a;++l)s=ol.renderer.vector.renderFeature(r,e,i[l],ol.renderer.vector.getSquaredTolerance(o,t),this.handleImageChange_,this)||s;return s},ol.source.ImageVector.prototype.setStyle=function(e){this.style_=void 0!==e?e:ol.style.Style.defaultFunction,this.styleFunction_=e?ol.style.Style.createFunction(this.style_):void 0,this.changed()},goog.provide("ol.renderer.webgl.ImageLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.source.ImageVector"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),ol.renderer.webgl.ImageLayer=function(e,o){ol.renderer.webgl.Layer.call(this,e,o),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null},ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.ImageLayer.handles=function(e,o){return e===ol.renderer.Type.WEBGL&&o.getType()===ol.LayerType.IMAGE},ol.renderer.webgl.ImageLayer.create=function(e,o){return new ol.renderer.webgl.ImageLayer(e,o)},ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var o=e.getImage(),t=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(t,o,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)},ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i){var n=this.getLayer(),l=n.getSource(),a=o.viewState.resolution,s=o.viewState.rotation,p=o.skippedFeatureUids;return l.forEachFeatureAtCoordinate(e,a,s,t,p,function(e){return r.call(i,e,n)})},ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,o,t){var r=this.mapRenderer.getGL(),i=e.pixelRatio,n=e.viewState,l=n.center,a=n.resolution,s=n.rotation,p=this.image_,g=this.texture,c=this.getLayer(),u=c.getSource(),y=e.viewHints,h=e.extent;if(void 0!==o.extent&&(h=ol.extent.getIntersection(h,o.extent)),!y[ol.ViewHint.ANIMATING]&&!y[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(h)){var d=n.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var m=u.getProjection();m&&(d=m)}var f=u.getImage(h,a,i,d);if(f){if(this.loadImage(f)&&(p=f,g=this.createTexture_(f),this.texture)){var _=function(e,o){e.isContextLost()||e.deleteTexture(o)}.bind(null,r,this.texture);e.postRenderFunctions.push(_)}}}if(p){var v=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(v.width,v.height,i,l,a,s,p.getExtent()),this.hitTransformationMatrix_=null;var S=this.texCoordMatrix;ol.transform.reset(S),ol.transform.scale(S,1,-1),ol.transform.translate(S,0,-1),this.image_=p,this.texture=g,this.updateAttributions(e.attributions,p.getAttributions()),this.updateLogos(e,u)}return!!p},ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,o,t,r,i,n,l){var a=e*i,s=o*i,p=this.projectionMatrix;ol.transform.reset(p),ol.transform.scale(p,2*t/a,2*t/s),ol.transform.rotate(p,-n),ol.transform.translate(p,l[0]-r[0],l[1]-r[1]),ol.transform.scale(p,(l[2]-l[0])/2,(l[3]-l[1])/2),ol.transform.translate(p,1,1)},ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,o){return void 0!==this.forEachFeatureAtCoordinate(e,o,0,ol.functions.TRUE,this)},ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource()instanceof ol.source.ImageVector){var i=ol.transform.apply(o.pixelToCoordinateTransform,e.slice());return this.forEachFeatureAtCoordinate(i,o,0,ol.functions.TRUE,this)?t.call(r,this.getLayer(),null):void 0}var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(o.size,n));var l=ol.transform.apply(this.hitTransformationMatrix_,e.slice());if(!(l[0]<0||l[0]>n[0]||l[1]<0||l[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),l[0],l[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?t.call(r,this.getLayer(),a):void 0}}},ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,o){var t=ol.transform.create();ol.transform.translate(t,-1,-1),ol.transform.scale(t,2/e[0],2/e[1]),ol.transform.translate(t,0,e[1]),ol.transform.scale(t,1,-1);var r=ol.transform.invert(this.projectionMatrix.slice()),i=ol.transform.create();return ol.transform.translate(i,0,o[1]),ol.transform.scale(i,1,-1),ol.transform.scale(i,o[0]/2,o[1]/2),ol.transform.translate(i,1,1),ol.transform.multiply(i,r),ol.transform.multiply(i,t),i},goog.provide("ol.renderer.webgl.Map"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.has"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),goog.require("ol.structs.LRUCache"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.webgl");goog.require("ol.webgl.Context"),goog.require("ol.webgl.ContextEventType"),ol.renderer.webgl.Map=function(e,o){ol.renderer.Map.call(this,e,o),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,e.insertBefore(this.canvas_,e.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=ol.dom.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new ol.webgl.Context(this.canvas_,this.gl_),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new ol.structs.LRUCache,this.focus_=null,this.tileTextureQueue_=new ol.structs.PriorityQueue(function(e){var o=e[1],t=e[2],r=o[0]-this.focus_[0],i=o[1]-this.focus_[1];return 65536*Math.log(t)+Math.sqrt(r*r+i*i)/t}.bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=function(e,o){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var t=this.tileTextureQueue_.dequeue(),r=t[0],i=t[3],n=t[4];this.bindTileTexture(r,i,n,ol.webgl.LINEAR,ol.webgl.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()},ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map),ol.renderer.webgl.Map.handles=function(e){return ol.has.WEBGL&&e===ol.renderer.Type.WEBGL},ol.renderer.webgl.Map.create=function(e,o){return new ol.renderer.webgl.Map(e,o)},ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,o,t,r,i){var n=this.getGL(),l=e.getKey();if(this.textureCache_.containsKey(l)){var a=this.textureCache_.get(l);n.bindTexture(ol.webgl.TEXTURE_2D,a.texture),a.magFilter!=r&&(n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r),a.magFilter=r),a.minFilter!=i&&(n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i),a.minFilter=i)}else{var s=n.createTexture();if(n.bindTexture(ol.webgl.TEXTURE_2D,s),t>0){var p=this.clipTileContext_.canvas,g=this.clipTileContext_;this.clipTileCanvasWidth_!==o[0]||this.clipTileCanvasHeight_!==o[1]?(p.width=o[0],p.height=o[1],this.clipTileCanvasWidth_=o[0],this.clipTileCanvasHeight_=o[1]):g.clearRect(0,0,o[0],o[1]),g.drawImage(e.getImage(),t,t,o[0],o[1],0,0,o[0],o[1]),n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,p)}else n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,e.getImage());n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r),n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i),n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE),n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE),this.textureCache_.set(l,{texture:s,magFilter:r,minFilter:i})}},ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,o){var t=this.getMap();if(t.hasListener(e)){var r=this.context_,i=o.extent,n=o.size,l=o.viewState,a=o.pixelRatio,s=l.resolution,p=l.center,g=l.rotation,c=new ol.render.webgl.Immediate(r,p,s,g,n,i,a),u=new ol.render.Event(e,c,o,null,r);t.dispatchEvent(u)}},ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(o){o&&e.deleteTexture(o.texture)}),this.context_.dispose(),ol.renderer.Map.prototype.disposeInternal.call(this)},ol.renderer.webgl.Map.prototype.expireCache_=function(e,o){for(var t,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(t=this.textureCache_.peekLast())r.deleteTexture(t.texture);else{if(+this.textureCache_.peekLastKey()==o.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_},ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_},ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL},ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var o=this.getLayerRenderers();for(var t in o){o[t].handleWebGLContextLost()}},ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(ol.webgl.TEXTURE0),e.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA),e.disable(ol.webgl.CULL_FACE),e.disable(ol.webgl.DEPTH_TEST),e.disable(ol.webgl.SCISSOR_TEST),e.disable(ol.webgl.STENCIL_TEST)},ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},ol.renderer.webgl.Map.prototype.renderFrame=function(e){var o=this.getContext(),t=this.getGL();if(t.isContextLost())return!1;if(!e)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=e.focus,this.textureCache_.set((-e.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var r=[],i=e.layerStatesArray;ol.array.stableSort(i,ol.renderer.Map.sortByZIndex);var n,l,a,s,p=e.viewState.resolution;for(n=0,l=i.length;n<l;++n)s=i[n],ol.layer.Layer.visibleAtResolution(s,p)&&s.sourceState==ol.source.State.READY&&(a=this.getLayerRenderer(s.layer),a.prepareFrame(e,s,o)&&r.push(s));var g=e.size[0]*e.pixelRatio,c=e.size[1]*e.pixelRatio;for(this.canvas_.width==g&&this.canvas_.height==c||(this.canvas_.width=g,this.canvas_.height=c),t.bindFramebuffer(ol.webgl.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(ol.webgl.COLOR_BUFFER_BIT),t.enable(ol.webgl.BLEND),t.viewport(0,0,this.canvas_.width,this.canvas_.height),n=0,l=r.length;n<l;++n)s=r[n],a=this.getLayerRenderer(s.layer),a.composeFrame(e,s,o);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(e),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&e.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(e.postRenderFunctions.push(this.loadNextTileTexture_),e.animate=!0),
this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i,n,l){var a;if(this.getGL().isContextLost())return!1;var s,p=o.viewState,g=o.layerStatesArray,c=g.length;for(s=c-1;s>=0;--s){var u=g[s],y=u.layer;if(ol.layer.Layer.visibleAtResolution(u,p.resolution)&&n.call(l,y)){if(a=this.getLayerRenderer(y).forEachFeatureAtCoordinate(e,o,t,r,i))return a}}},ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,o,t,r,i){var n=!1;if(this.getGL().isContextLost())return!1;var l,a=o.viewState,s=o.layerStatesArray,p=s.length;for(l=p-1;l>=0;--l){var g=s[l],c=g.layer;if(ol.layer.Layer.visibleAtResolution(g,a.resolution)&&r.call(i,c)){if(n=this.getLayerRenderer(c).hasFeatureAtCoordinate(e,o))return!0}}return n},ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,o,t,r,i,n){if(this.getGL().isContextLost())return!1;var l,a,s=o.viewState,p=o.layerStatesArray,g=p.length;for(a=g-1;a>=0;--a){var c=p[a],u=c.layer;if(ol.layer.Layer.visibleAtResolution(c,s.resolution)&&i.call(r,u)){if(l=this.getLayerRenderer(u).forEachLayerAtPixel(e,o,t,r))return l}}},goog.provide("ol.renderer.webgl.tilelayershader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"),goog.provide("ol.renderer.webgl.tilelayershader.Locations"),goog.require("ol"),ol.renderer.webgl.tilelayershader.Locations=function(e,o){this.u_tileOffset=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(o,ol.DEBUG_WEBGL?"u_texture":"e"),this.a_position=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,ol.DEBUG_WEBGL?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.TileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.renderer.webgl.tilelayershader"),goog.require("ol.renderer.webgl.tilelayershader.Locations"),goog.require("ol.size"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.renderer.webgl.TileLayer=function(e,o){ol.renderer.webgl.Layer.call(this,e,o),this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment,this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex,this.locations_=null,this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]},ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.TileLayer.handles=function(e,o){return e===ol.renderer.Type.WEBGL&&o.getType()===ol.LayerType.TILE},ol.renderer.webgl.TileLayer.create=function(e,o){return new ol.renderer.webgl.TileLayer(e,o)},ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,o,t){var r=this.mapRenderer;return function(i,n){function l(e){var o=r.isTileTextureLoaded(e);return o&&(t[i]||(t[i]={}),t[i][e.tileCoord.toString()]=e),o}return e.forEachLoadedTile(o,i,n,l)}},ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this),this.locations_=null},ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,o,t){var r,i=this.mapRenderer,n=t.getGL(),l=e.viewState,a=l.projection,s=this.getLayer(),p=s.getSource(),g=p.getTileGridForProjection(a),c=g.getZForResolution(l.resolution),u=g.getResolution(c),y=p.getTilePixelSize(c,e.pixelRatio,a),h=y[0]/ol.size.toSize(g.getTileSize(c),this.tmpSize_)[0],d=u/h,m=p.getTilePixelRatio(h)*p.getGutter(a),f=l.center,_=e.extent,v=g.getTileRangeForExtentAndZ(_,c);if(this.renderedTileRange_&&this.renderedTileRange_.equals(v)&&this.renderedRevision_==p.getRevision())r=this.renderedFramebufferExtent_;else{var S=v.getSize(),x=Math.max(S[0]*y[0],S[1]*y[1]),P=ol.math.roundUpToPowerOfTwo(x),E=d*P,T=g.getOrigin(c),R=T[0]+v.minX*y[0]*d,L=T[1]+v.minY*y[1]*d;r=[R,L,R+E,L+E],this.bindFramebuffer(e,P),n.viewport(0,0,P,P),n.clearColor(0,0,0,0),n.clear(ol.webgl.COLOR_BUFFER_BIT),n.disable(ol.webgl.BLEND);var M=t.getProgram(this.fragmentShader_,this.vertexShader_);t.useProgram(M),this.locations_||(this.locations_=new ol.renderer.webgl.tilelayershader.Locations(n,M)),t.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_),n.enableVertexAttribArray(this.locations_.a_position),n.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0),n.enableVertexAttribArray(this.locations_.a_texCoord),n.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),n.uniform1i(this.locations_.u_texture,0);var C={};C[c]={};var I,A,O,b,w,N,F,G,D=this.createLoadedTileFinder(p,a,C),q=s.getUseInterimTilesOnError(),U=!0,k=ol.extent.createEmpty(),j=new ol.TileRange(0,0,0,0);for(N=v.minX;N<=v.maxX;++N)for(F=v.minY;F<=v.maxY;++F)if(b=p.getTile(c,N,F,h,a),void 0===o.extent||(G=g.getTileCoordExtent(b.tileCoord,k),ol.extent.intersects(G,o.extent))){if(w=b.getState(),A=w==ol.TileState.LOADED||w==ol.TileState.EMPTY||w==ol.TileState.ERROR&&!q,A||(b=b.getInterimTile()),(w=b.getState())==ol.TileState.LOADED){if(i.isTileTextureLoaded(b)){C[c][b.tileCoord.toString()]=b;continue}}else if(w==ol.TileState.EMPTY||w==ol.TileState.ERROR&&!q)continue;U=!1,O=g.forEachTileCoordParentTileRange(b.tileCoord,D,null,j,k),O||(I=g.getTileCoordChildTileRange(b.tileCoord,j,k))&&D(c+1,I)}var W=Object.keys(C).map(Number);W.sort(ol.array.numberSafeCompareFunction);var V,B,K,X,Y=new Float32Array(4);for(V=0,B=W.length;V<B;++V){X=C[W[V]];for(K in X)b=X[K],G=g.getTileCoordExtent(b.tileCoord,k),Y[0]=2*(G[2]-G[0])/E,Y[1]=2*(G[3]-G[1])/E,Y[2]=2*(G[0]-r[0])/E-1,Y[3]=2*(G[1]-r[1])/E-1,n.uniform4fv(this.locations_.u_tileOffset,Y),i.bindTileTexture(b,y,m*h,ol.webgl.LINEAR,ol.webgl.LINEAR),n.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}U?(this.renderedTileRange_=v,this.renderedFramebufferExtent_=r,this.renderedRevision_=p.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,p,c,v);var Z=i.getTileTextureQueue();this.manageTilePyramid(e,p,g,h,a,_,c,s.getPreload(),function(e){e.getState()!=ol.TileState.LOADED||i.isTileTextureLoaded(e)||Z.isKeyQueued(e.getKey())||Z.enqueue([e,g.getTileCoordCenter(e.tileCoord),g.getResolution(e.tileCoord[0]),y,m*h])},this),this.scheduleExpireCache(e,p),this.updateLogos(e,p);var H=this.texCoordMatrix;return ol.transform.reset(H),ol.transform.translate(H,(Math.round(f[0]/u)*u-r[0])/(r[2]-r[0]),(Math.round(f[1]/u)*u-r[1])/(r[3]-r[1])),0!==l.rotation&&ol.transform.rotate(H,l.rotation),ol.transform.scale(H,e.size[0]*l.resolution/(r[2]-r[0]),e.size[1]*l.resolution/(r[3]-r[1])),ol.transform.translate(H,-.5,-.5),!0},ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){if(this.framebuffer){var i=[e[0]/o.size[0],(o.size[1]-e[1])/o.size[1]],n=ol.transform.apply(this.texCoordMatrix,i.slice()),l=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],a=this.mapRenderer.getContext().getGL();a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);var s=new Uint8Array(4);return a.readPixels(l[0],l[1],1,1,a.RGBA,a.UNSIGNED_BYTE,s),s[3]>0?t.call(r,this.getLayer(),s):void 0}},goog.provide("ol.renderer.webgl.VectorLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.render.webgl.ReplayGroup"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.vector"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.transform"),ol.renderer.webgl.VectorLayer=function(e,o){ol.renderer.webgl.Layer.call(this,e,o),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null},ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.VectorLayer.handles=function(e,o){return e===ol.renderer.Type.WEBGL&&o.getType()===ol.LayerType.VECTOR},ol.renderer.webgl.VectorLayer.create=function(e,o){return new ol.renderer.webgl.VectorLayer(e,o)},ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,o,t){this.layerState_=o;var r=e.viewState,i=this.replayGroup_,n=e.size,l=e.pixelRatio,a=this.mapRenderer.getGL();i&&!i.isEmpty()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,n[0]*l,n[1]*l),i.replay(t,r.center,r.resolution,r.rotation,n,l,o.opacity,o.managed?e.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var o=this.mapRenderer.getContext();e.getDeleteResourcesFunction(o)(),this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,o,t,r,i){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),l=o.viewState,a=this.getLayer(),s=this.layerState_,p={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,l.center,l.resolution,l.rotation,o.size,o.pixelRatio,s.opacity,{},function(e){var o=ol.getUid(e).toString();if(!(o in p))return p[o]=!0,r.call(i,e,a)})}},ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,o){if(this.replayGroup_&&this.layerState_){var t=this.mapRenderer.getContext(),r=o.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,t,r.center,r.resolution,r.rotation,o.size,o.pixelRatio,i.opacity,o.skippedFeatureUids)}return!1},ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,o,t,r){var i=ol.transform.apply(o.pixelToCoordinateTransform,e.slice());return this.hasFeatureAtCoordinate(i,o)?t.call(r,this.getLayer(),null):void 0},ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,o,t){var r=this.getLayer(),i=r.getSource();this.updateAttributions(e.attributions,i.getAttributions()),this.updateLogos(e,i);var n=e.viewHints[ol.ViewHint.ANIMATING],l=e.viewHints[ol.ViewHint.INTERACTING],a=r.getUpdateWhileAnimating(),s=r.getUpdateWhileInteracting();if(!this.dirty_&&!a&&n||!s&&l)return!0;var p=e.extent,g=e.viewState,c=g.projection,u=g.resolution,y=e.pixelRatio,h=r.getRevision(),d=r.getRenderBuffer(),m=r.getRenderOrder();void 0===m&&(m=ol.renderer.vector.defaultOrder);var f=ol.extent.buffer(p,d*u);if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==h&&this.renderedRenderOrder_==m&&ol.extent.containsExtent(this.renderedExtent_,f))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(t)),this.dirty_=!1;var _=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(u,y),f,r.getRenderBuffer());i.loadFeatures(f,u,c);var v=function(e){var o,t=e.getStyleFunction();if(t?o=t.call(e,u):(t=r.getStyleFunction())&&(o=t(e,u)),o){var i=this.renderFeature(e,u,y,o,_);this.dirty_=this.dirty_||i}};if(m){var S=[];i.forEachFeatureInExtent(f,function(e){S.push(e)},this),S.sort(m),S.forEach(v,this)}else i.forEachFeatureInExtent(f,v,this);return _.finish(t),this.renderedResolution_=u,this.renderedRevision_=h,this.renderedRenderOrder_=m,this.renderedExtent_=f,this.replayGroup_=_,!0},ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,o,t,r,i){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var l=r.length-1;l>=0;--l)n=ol.renderer.vector.renderFeature(i,e,r[l],ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||n;else n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(o,t),this.handleStyleImageChange_,this)||n;return n},goog.provide("ol.Map"),goog.require("ol"),goog.require("ol.PluggableMap"),goog.require("ol.PluginType"),goog.require("ol.control"),goog.require("ol.interaction"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),goog.require("ol.renderer.webgl.ImageLayer"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.renderer.webgl.TileLayer"),goog.require("ol.renderer.webgl.VectorLayer"),ol.ENABLE_CANVAS&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer])),ol.ENABLE_WEBGL&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer])),ol.Map=function(e){e=ol.obj.assign({},e),e.controls||(e.controls=ol.control.defaults()),e.interactions||(e.interactions=ol.interaction.defaults()),ol.PluggableMap.call(this,e)},ol.inherits(ol.Map,ol.PluggableMap),goog.provide("ol.net"),goog.require("ol"),ol.net.jsonp=function(e,o,t,r){function i(){delete window[l],n.parentNode.removeChild(n)}var n=document.createElement("script"),l="olc_"+ol.getUid(o);n.async=!0,n.src=e+(-1==e.indexOf("?")?"?":"&")+(r||"callback")+"="+l;var a=setTimeout(function(){i(),t&&t()},1e4);window[l]=function(e){clearTimeout(a),i(),o(e)},document.getElementsByTagName("head")[0].appendChild(n)},goog.provide("ol.proj.common"),goog.require("ol.proj"),ol.proj.common.add=ol.proj.addCommon,goog.provide("ol.render"),goog.require("ol.has"),goog.require("ol.transform"),goog.require("ol.render.canvas.Immediate"),ol.render.toContext=function(e,o){var t=e.canvas,r=o||{},i=r.pixelRatio||ol.has.DEVICE_PIXEL_RATIO,n=r.size;n&&(t.width=n[0]*i,t.height=n[1]*i,t.style.width=n[0]+"px",t.style.height=n[1]+"px");var l=[0,0,t.width,t.height],a=ol.transform.scale(ol.transform.create(),i,i);return new ol.render.canvas.Immediate(e,i,l,a,0)},goog.provide("ol.reproj.Tile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Tile=function(e,o,t,r,i,n,l,a,s,p,g){ol.Tile.call(this,i,ol.TileState.IDLE),this.renderEdges_=void 0!==g&&g,this.pixelRatio_=l,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=o,this.targetTileGrid_=r,this.wrappedTileCoord_=n||i,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var c=r.getTileCoordExtent(this.wrappedTileCoord_),u=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),h=u?ol.extent.getIntersection(c,u):c;if(0===ol.extent.getArea(h))return void(this.state=ol.TileState.EMPTY);var d=e.getExtent();d&&(y=y?ol.extent.getIntersection(y,d):d);var m=r.getResolution(this.wrappedTileCoord_[0]),f=ol.extent.getCenter(h),_=ol.reproj.calculateSourceResolution(e,t,f,m);if(!isFinite(_)||_<=0)return void(this.state=ol.TileState.EMPTY);var v=void 0!==p?p:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;if(this.triangulation_=new ol.reproj.Triangulation(e,t,h,y,_*v),0===this.triangulation_.getTriangles().length)return void(this.state=ol.TileState.EMPTY);this.sourceZ_=o.getZForResolution(_);var S=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(S[1]=ol.math.clamp(S[1],y[1],y[3]),S[3]=ol.math.clamp(S[3],y[1],y[3])):S=ol.extent.getIntersection(S,y)),ol.extent.getArea(S)){for(var x=o.getTileRangeForExtentAndZ(S,this.sourceZ_),P=x.minX;P<=x.maxX;P++)for(var E=x.minY;E<=x.maxY;E++){var T=s(this.sourceZ_,P,E,l);T&&this.sourceTiles_.push(T)}0===this.sourceTiles_.length&&(this.state=ol.TileState.EMPTY)}else this.state=ol.TileState.EMPTY},ol.inherits(ol.reproj.Tile,ol.Tile),ol.reproj.Tile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenSources_(),ol.Tile.prototype.disposeInternal.call(this)},ol.reproj.Tile.prototype.getImage=function(){return this.canvas_},ol.reproj.Tile.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(o,t,r){o&&o.getState()==ol.TileState.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(o.tileCoord),image:o.getImage()})},this),this.sourceTiles_.length=0,0===e.length)this.state=ol.TileState.ERROR;else{var o=this.wrappedTileCoord_[0],t=this.targetTileGrid_.getTileSize(o),r="number"==typeof t?t:t[0],i="number"==typeof t?t:t[1],n=this.targetTileGrid_.getResolution(o),l=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(r,i,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),n,a,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=ol.TileState.LOADED}this.changed()},ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(o,t,r){var i=o.getState();if(i==ol.TileState.IDLE||i==ol.TileState.LOADING){e++;var n;n=ol.events.listen(o,ol.events.EventType.CHANGE,function(t){var r=o.getState();r!=ol.TileState.LOADED&&r!=ol.TileState.ERROR&&r!=ol.TileState.EMPTY||(ol.events.unlistenByKey(n),0===--e&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(n)}},this),this.sourceTiles_.forEach(function(e,o,t){e.getState()==ol.TileState.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey),this.sourcesListenerKeys_=null},goog.provide("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.math"),goog.require("ol.tilecoord"),ol.TileUrlFunction.createFromTemplate=function(e,o){var t=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,n=/\{-y\}/g;return function(l,a,s){return l?e.replace(t,l[0].toString()).replace(r,l[1].toString()).replace(i,function(){return(-l[2]-1).toString()}).replace(n,function(){var e=l[0],t=o.getFullTileRange(e);return ol.asserts.assert(t,55),(t.getHeight()+l[2]).toString()}):void 0}},ol.TileUrlFunction.createFromTemplates=function(e,o){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=ol.TileUrlFunction.createFromTemplate(e[i],o);return ol.TileUrlFunction.createFromTileUrlFunctions(r)},ol.TileUrlFunction.createFromTileUrlFunctions=function(e){return 1===e.length?e[0]:function(o,t,r){if(o){var i=ol.tilecoord.hash(o),n=ol.math.modulo(i,e.length);return e[n](o,t,r)}}},ol.TileUrlFunction.nullTileUrlFunction=function(e,o,t){},ol.TileUrlFunction.expandUrl=function(e){var o=[],t=/\{([a-z])-([a-z])\}/.exec(e);if(t){var r,i=t[1].charCodeAt(0),n=t[2].charCodeAt(0);for(r=i;r<=n;++r)o.push(e.replace(t[0],String.fromCharCode(r)));return o}if(t=t=/\{(\d+)-(\d+)\}/.exec(e)){for(var l=parseInt(t[2],10),a=parseInt(t[1],10);a<=l;a++)o.push(e.replace(t[0],a.toString()));return o}return o.push(e),o},goog.provide("ol.TileCache"),goog.require("ol"),goog.require("ol.structs.LRUCache"),goog.require("ol.tilecoord"),ol.TileCache=function(e){ol.structs.LRUCache.call(this,e)},ol.inherits(ol.TileCache,ol.structs.LRUCache),ol.TileCache.prototype.expireCache=function(e){for(var o,t;this.canExpireCache()&&(o=this.peekLast(),!((t=o.tileCoord[0].toString())in e&&e[t].contains(o.tileCoord)));)this.pop().dispose()},ol.TileCache.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),o=ol.tilecoord.fromKey(e),t=o[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(ol.tilecoord.getKey(e.tileCoord)),e.dispose())},this)}},goog.provide("ol.source.Tile"),goog.require("ol"),goog.require("ol.TileCache"),goog.require("ol.TileState"),goog.require("ol.events.Event"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.Source"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.Tile=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new ol.TileCache(e.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:e.transition}},ol.inherits(ol.source.Tile,ol.source.Source),ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},ol.source.Tile.prototype.expireCache=function(e,o){var t=this.getTileCacheForProjection(e);t&&t.expireCache(o)},ol.source.Tile.prototype.forEachLoadedTile=function(e,o,t,r){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var n,l,a,s=!0,p=t.minX;p<=t.maxX;++p)for(var g=t.minY;g<=t.maxY;++g)l=ol.tilecoord.getKeyZXY(o,p,g),a=!1,i.containsKey(l)&&(n=i.get(l),(a=n.getState()===ol.TileState.LOADED)&&(a=!1!==r(n))),a||(s=!1);return s},ol.source.Tile.prototype.getGutter=function(e){return 0},ol.source.Tile.prototype.getKey=function(){return this.key_},ol.source.Tile.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},ol.source.Tile.prototype.getOpaque=function(e){return this.opaque_},ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},ol.source.Tile.prototype.getTile=function(e,o,t,r,i){},ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid},ol.source.Tile.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:ol.tilegrid.getForProjection(e)},ol.source.Tile.prototype.getTileCacheForProjection=function(e){var o=this.getProjection();return o&&!ol.proj.equivalent(o,e)?null:this.tileCache},ol.source.Tile.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},ol.source.Tile.prototype.getTilePixelSize=function(e,o,t){var r=this.getTileGridForProjection(t),i=this.getTilePixelRatio(o),n=ol.size.toSize(r.getTileSize(e),this.tmpSize);return 1==i?n:ol.size.scale(n,i,this.tmpSize)},ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,o){var t=void 0!==o?o:this.getProjection(),r=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=ol.tilegrid.wrapX(r,e,t)),ol.tilecoord.withinExtentAndZ(e,r)?e:null},ol.source.Tile.prototype.refresh=function(){this.tileCache.clear(),this.changed()},ol.source.Tile.prototype.useTile=ol.nullFunction,ol.source.Tile.Event=function(e,o){ol.events.Event.call(this,e),this.tile=o},ol.inherits(ol.source.Tile.Event,ol.events.Event),goog.provide("ol.source.TileEventType"),ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},goog.provide("ol.source.UrlTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.source.Tile"),goog.require("ol.source.TileEventType"),goog.require("ol.tilecoord"),ol.source.UrlTile=function(e){ol.source.Tile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition}),this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction),this.tileLoadingKeys_={}},ol.inherits(ol.source.UrlTile,ol.source.Tile),ol.source.UrlTile.prototype.fixedTileUrlFunction,ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},ol.source.UrlTile.prototype.getUrls=function(){return this.urls},ol.source.UrlTile.prototype.handleTileChange=function(e){var o,t=e.target,r=ol.getUid(t),i=t.getState();i==ol.TileState.LOADING?(this.tileLoadingKeys_[r]=!0,o=ol.source.TileEventType.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=i==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:i==ol.TileState.LOADED||i==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:void 0),void 0!=o&&this.dispatchEvent(new ol.source.Tile.Event(o,t))},ol.source.UrlTile.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},ol.source.UrlTile.prototype.setTileUrlFunction=function(e,o){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==o?this.setKey(o):this.changed()},ol.source.UrlTile.prototype.setUrl=function(e){var o=this.urls=ol.TileUrlFunction.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(o,this.tileGrid),e)},ol.source.UrlTile.prototype.setUrls=function(e){this.urls=e;var o=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(e,this.tileGrid),o)},ol.source.UrlTile.prototype.useTile=function(e,o,t){var r=ol.tilecoord.getKeyZXY(e,o,t);this.tileCache.containsKey(r)&&this.tileCache.get(r)},goog.provide("ol.source.TileImage"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileCache");goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.proj"),goog.require("ol.reproj.Tile"),goog.require("ol.source.UrlTile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.TileImage=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:ol.ImageTile,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1},ol.inherits(ol.source.TileImage,ol.source.UrlTile),ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},ol.source.TileImage.prototype.expireCache=function(e,o){if(!ol.ENABLE_RASTER_REPROJECTION)return void ol.source.UrlTile.prototype.expireCache.call(this,e,o);var t=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==t?o:{});for(var r in this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==t?o:{})}},ol.source.TileImage.prototype.getGutter=function(e){return ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)?0:this.getGutterInternal()},ol.source.TileImage.prototype.getGutterInternal=function(){return 0},ol.source.TileImage.prototype.getOpaque=function(e){return!(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e))&&ol.source.UrlTile.prototype.getOpaque.call(this,e)},ol.source.TileImage.prototype.getTileGridForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,e);var o=this.getProjection();if(!this.tileGrid||o&&!ol.proj.equivalent(o,e)){var t=ol.getUid(e).toString();return t in this.tileGridForProjection||(this.tileGridForProjection[t]=ol.tilegrid.getForProjection(e)),this.tileGridForProjection[t]}return this.tileGrid},ol.source.TileImage.prototype.getTileCacheForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,e);var o=this.getProjection();if(!o||ol.proj.equivalent(o,e))return this.tileCache;var t=ol.getUid(e).toString();return t in this.tileCacheForProjection||(this.tileCacheForProjection[t]=new ol.TileCache(this.tileCache.highWaterMark)),this.tileCacheForProjection[t]},ol.source.TileImage.prototype.createTile_=function(e,o,t,r,i,n){var l=[e,o,t],a=this.getTileCoordForTileUrlFunction(l,i),s=a?this.tileUrlFunction(a,r,i):void 0,p=new this.tileClass(l,void 0!==s?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==s?s:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=n,ol.events.listen(p,ol.events.EventType.CHANGE,this.handleTileChange,this),p},ol.source.TileImage.prototype.getTile=function(e,o,t,r,i){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&i&&!ol.proj.equivalent(this.getProjection(),i)){var n,l=this.getTileCacheForProjection(i),a=[e,o,t],s=ol.tilecoord.getKey(a);l.containsKey(s)&&(n=l.get(s));var p=this.getKey();if(n&&n.key==p)return n;var g=this.getProjection(),c=this.getTileGridForProjection(g),u=this.getTileGridForProjection(i),y=this.getTileCoordForTileUrlFunction(a,i),h=new ol.reproj.Tile(g,c,i,u,a,y,this.getTilePixelRatio(r),this.getGutterInternal(),function(e,o,t,r){return this.getTileInternal(e,o,t,r,g)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return h.key=p,n?(h.interimTile=n,h.refreshInterimChain(),l.replace(s,h)):l.set(s,h),h}return this.getTileInternal(e,o,t,r,i)},ol.source.TileImage.prototype.getTileInternal=function(e,o,t,r,i){var n=null,l=ol.tilecoord.getKeyZXY(e,o,t),a=this.getKey();if(this.tileCache.containsKey(l)){if(n=this.tileCache.get(l),n.key!=a){var s=n;n=this.createTile_(e,o,t,r,i,a),s.getState()==ol.TileState.IDLE?n.interimTile=s.interimTile:n.interimTile=s,n.refreshInterimChain(),this.tileCache.replace(l,n)}}else n=this.createTile_(e,o,t,r,i,a),this.tileCache.set(l,n);return n},ol.source.TileImage.prototype.setRenderReprojectionEdges=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(var o in this.tileCacheForProjection)this.tileCacheForProjection[o].clear();this.changed()}},ol.source.TileImage.prototype.setTileGridForProjection=function(e,o){if(ol.ENABLE_RASTER_REPROJECTION){var t=ol.proj.get(e);if(t){var r=ol.getUid(t).toString();r in this.tileGridForProjection||(this.tileGridForProjection[r]=o)}}},ol.source.TileImage.defaultTileLoadFunction=function(e,o){e.getImage().src=o},goog.provide("ol.source.BingMaps"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),
ol.source.BingMaps=function(e){this.hidpi_=void 0!==e.hidpi&&e.hidpi,ol.source.TileImage.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;var o="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_;ol.net.jsonp(o,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")},ol.inherits(ol.source.BingMaps,ol.source.TileImage),ol.source.BingMaps.TOS_ATTRIBUTION=new ol.Attribution({html:'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'}),ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_},ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_},ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length)return void this.setState(ol.source.State.ERROR);var o=e.brandLogoUri;-1==o.indexOf("https")&&(o=o.replace("http","https"));var t=e.resourceSets[0].resources[0],r=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,i=this.getProjection(),n=ol.tilegrid.extentFromProjection(i),l=t.imageWidth==t.imageHeight?t.imageWidth:[t.imageWidth,t.imageHeight],a=ol.tilegrid.createXYZ({extent:n,minZoom:t.zoomMin,maxZoom:r,tileSize:l/(this.hidpi_?2:1)});this.tileGrid=a;var s=this.culture_,p=this.hidpi_;if(this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(t.imageUrlSubdomains.map(function(e){var o=[0,0,0],r=t.imageUrl.replace("{subdomain}",e).replace("{culture}",s);return function(e,t,i){if(e){ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,o);var n=r;return p&&(n+="&dpi=d1&device=mobile"),n.replace("{quadkey}",ol.tilecoord.quadKey(o))}}})),t.imageryProviders){var g=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection()),c=t.imageryProviders.map(function(e){var o=e.attribution,t={};return e.coverageAreas.forEach(function(e){var o,i,n,l=e.zoomMin,s=Math.min(e.zoomMax,r),p=e.bbox,c=[p[1],p[0],p[3],p[2]],u=ol.extent.applyTransform(c,g);for(i=l;i<=s;++i)n=i.toString(),o=a.getTileRangeForExtentAndZ(u,i),n in t?t[n].push(o):t[n]=[o]}),new ol.Attribution({html:o,tileRanges:t})});c.push(ol.source.BingMaps.TOS_ATTRIBUTION),this.setAttributions(c)}this.setLogo(o),this.setState(ol.source.State.READY)},goog.provide("ol.source.XYZ"),goog.require("ol"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.XYZ=function(e){var o=e||{},t=void 0!==o.projection?o.projection:"EPSG:3857",r=void 0!==o.tileGrid?o.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(t),maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});ol.source.TileImage.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,logo:o.logo,opaque:o.opaque,projection:t,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:void 0===o.wrapX||o.wrapX,transition:o.transition})},ol.inherits(ol.source.XYZ,ol.source.TileImage),goog.provide("ol.source.CartoDB"),goog.require("ol"),goog.require("ol.obj"),goog.require("ol.source.State"),goog.require("ol.source.XYZ"),ol.source.CartoDB=function(e){this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},ol.source.XYZ.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:ol.source.State.LOADING,wrapX:e.wrapX}),this.initializeMap_()},ol.inherits(ol.source.CartoDB,ol.source.XYZ),ol.source.CartoDB.prototype.getConfig=function(){return this.config_},ol.source.CartoDB.prototype.updateConfig=function(e){ol.obj.assign(this.config_,e),this.initializeMap_()},ol.source.CartoDB.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},ol.source.CartoDB.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e])return void this.applyTemplate_(this.templateCache_[e]);var o="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(o+="/named/"+this.mapId_);var t=new XMLHttpRequest;t.addEventListener("load",this.handleInitResponse_.bind(this,e)),t.addEventListener("error",this.handleInitError_.bind(this)),t.open("POST",o),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(this.config_))},ol.source.CartoDB.prototype.handleInitResponse_=function(e,o){var t=o.target;if(!t.status||t.status>=200&&t.status<300){var r;try{r=JSON.parse(t.responseText)}catch(e){return void this.setState(ol.source.State.ERROR)}this.applyTemplate_(r),this.templateCache_[e]=r,this.setState(ol.source.State.READY)}else this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.handleInitError_=function(e){this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.applyTemplate_=function(e){var o="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(o)},goog.provide("ol.source.Cluster"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Point"),goog.require("ol.source.Vector"),ol.source.Cluster=function(e){ol.source.Vector.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(e){var o=e.getGeometry();return ol.asserts.assert(o instanceof ol.geom.Point,10),o},this.source=e.source,this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)},ol.inherits(ol.source.Cluster,ol.source.Vector),ol.source.Cluster.prototype.getDistance=function(){return this.distance},ol.source.Cluster.prototype.getSource=function(){return this.source},ol.source.Cluster.prototype.loadFeatures=function(e,o,t){this.source.loadFeatures(e,o,t),o!==this.resolution&&(this.clear(),this.resolution=o,this.cluster(),this.addFeatures(this.features))},ol.source.Cluster.prototype.setDistance=function(e){this.distance=e,this.refresh()},ol.source.Cluster.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),ol.source.Vector.prototype.refresh.call(this)},ol.source.Cluster.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var e=ol.extent.createEmpty(),o=this.distance*this.resolution,t=this.source.getFeatures(),r={},i=0,n=t.length;i<n;i++){var l=t[i];if(!(ol.getUid(l).toString()in r)){var a=this.geometryFunction(l);if(a){var s=a.getCoordinates();ol.extent.createOrUpdateFromCoordinate(s,e),ol.extent.buffer(e,o,e);var p=this.source.getFeaturesInExtent(e);p=p.filter(function(e){var o=ol.getUid(e).toString();return!(o in r)&&(r[o]=!0,!0)}),this.features.push(this.createCluster(p))}}}}},ol.source.Cluster.prototype.createCluster=function(e){for(var o=[0,0],t=e.length-1;t>=0;--t){var r=this.geometryFunction(e[t]);r?ol.coordinate.add(o,r.getCoordinates()):e.splice(t,1)}ol.coordinate.scale(o,1/e.length);var i=new ol.Feature(new ol.geom.Point(o));return i.set("features",e),i},goog.provide("ol.uri"),ol.uri.appendParams=function(e,o){var t=[];Object.keys(o).forEach(function(e){null!==o[e]&&void 0!==o[e]&&t.push(e+"="+encodeURIComponent(o[e]))});var r=t.join("&");return e=e.replace(/[?&]$/,""),(e=-1===e.indexOf("?")?e+"?":e+"&")+r},goog.provide("ol.source.ImageArcGISRest"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageArcGISRest=function(e){var o=e||{};ol.source.Image.call(this,{attributions:o.attributions,logo:o.logo,projection:o.projection,resolutions:o.resolutions}),this.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null,this.hidpi_=void 0===o.hidpi||o.hidpi,this.url_=o.url,this.imageLoadFunction_=void 0!==o.imageLoadFunction?o.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=o.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==o.ratio?o.ratio:1.5},ol.inherits(ol.source.ImageArcGISRest,ol.source.Image),ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_},ol.source.ImageArcGISRest.prototype.getImageInternal=function(e,o,t,r){if(void 0===this.url_)return null;o=this.findNearestResolution(o),t=this.hidpi_?t:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==o&&i.getPixelRatio()==t&&ol.extent.containsExtent(i.getExtent(),e))return i;var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ol.obj.assign(n,this.params_),e=e.slice();var l=(e[0]+e[2])/2,a=(e[1]+e[3])/2;if(1!=this.ratio_){var s=this.ratio_*ol.extent.getWidth(e)/2,p=this.ratio_*ol.extent.getHeight(e)/2;e[0]=l-s,e[1]=a-p,e[2]=l+s,e[3]=a+p}var g=o/t,c=Math.ceil(ol.extent.getWidth(e)/g),u=Math.ceil(ol.extent.getHeight(e)/g);e[0]=l-g*c/2,e[2]=l+g*c/2,e[1]=a-g*u/2,e[3]=a+g*u/2,this.imageSize_[0]=c,this.imageSize_[1]=u;var y=this.getRequestUrl_(e,this.imageSize_,t,r,n);return this.image_=new ol.Image(e,o,t,this.getAttributions(),y,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(e,o,t,r,i){var n=r.getCode().split(":").pop();i.SIZE=o[0]+","+o[1],i.BBOX=e.join(","),i.BBOXSR=n,i.IMAGESR=n,i.DPI=Math.round(90*t);var l=this.url_,a=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return a==l&&ol.asserts.assert(!1,50),ol.uri.appendParams(a,i)},ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_},ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},ol.source.ImageArcGISRest.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},ol.source.ImageArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.image_=null,this.changed()},goog.provide("ol.source.ImageMapGuide"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageMapGuide=function(e){ol.source.Image.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0},ol.inherits(ol.source.ImageMapGuide,ol.source.Image),ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_},ol.source.ImageMapGuide.prototype.getImageInternal=function(e,o,t,r){o=this.findNearestResolution(o),t=this.hidpi_?t:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==o&&i.getPixelRatio()==t&&ol.extent.containsExtent(i.getExtent(),e))return i;1!=this.ratio_&&(e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_));var n=ol.extent.getWidth(e)/o,l=ol.extent.getHeight(e)/o,a=[n*t,l*t];if(void 0!==this.url_){var s=this.getUrl(this.url_,this.params_,e,a,r);i=new ol.Image(e,o,t,this.getAttributions(),s,this.crossOrigin_,this.imageLoadFunction_),ol.events.listen(i,ol.events.EventType.CHANGE,this.handleImageChange,this)}else i=null;return this.image_=i,this.renderedRevision_=this.getRevision(),i},ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageMapGuide.getScale=function(e,o,t,r){var i=ol.extent.getWidth(e),n=ol.extent.getHeight(e),l=o[0],a=o[1],s=.0254/r;return a*i>l*n?i*t/(l*s):n*t/(a*s)},ol.source.ImageMapGuide.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.changed()},ol.source.ImageMapGuide.prototype.getUrl=function(e,o,t,r,i){var n=ol.source.ImageMapGuide.getScale(t,r,this.metersPerUnit_,this.displayDpi_),l=ol.extent.getCenter(t),a={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:n,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};return ol.obj.assign(a,o),ol.uri.appendParams(e,a)},ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},goog.provide("ol.source.ImageStatic"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.ImageState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.Image"),ol.source.ImageStatic=function(e){var o=e.imageExtent,t=void 0!==e.crossOrigin?e.crossOrigin:null,r=void 0!==e.imageLoadFunction?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:ol.proj.get(e.projection)}),this.image_=new ol.Image(o,void 0,1,this.getAttributions(),e.url,t,r),this.imageSize_=e.imageSize?e.imageSize:null,ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)},ol.inherits(ol.source.ImageStatic,ol.source.Image),ol.source.ImageStatic.prototype.getImageInternal=function(e,o,t,r){return ol.extent.intersects(e,this.image_.getExtent())?this.image_:null},ol.source.ImageStatic.prototype.handleImageChange=function(e){if(this.image_.getState()==ol.ImageState.LOADED){var o,t,r=this.image_.getExtent(),i=this.image_.getImage();this.imageSize_?(o=this.imageSize_[0],t=this.imageSize_[1]):(o=i.width,t=i.height);var n=ol.extent.getHeight(r)/t,l=Math.ceil(ol.extent.getWidth(r)/n);if(l!=o){var a=ol.dom.createCanvasContext2D(l,t),s=a.canvas;a.drawImage(i,0,0,o,t,0,0,s.width,s.height),this.image_.setImage(s)}}ol.source.Image.prototype.handleImageChange.call(this,e)},goog.provide("ol.source.WMSServerType"),ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},goog.provide("ol.source.ImageWMS"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.source.Image"),goog.require("ol.source.WMSServerType"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.ImageWMS=function(e){var o=e||{};ol.source.Image.call(this,{attributions:o.attributions,logo:o.logo,projection:o.projection,resolutions:o.resolutions}),this.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null,this.url_=o.url,this.imageLoadFunction_=void 0!==o.imageLoadFunction?o.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=o.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=o.serverType,this.hidpi_=void 0===o.hidpi||o.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==o.ratio?o.ratio:1.5},ol.inherits(ol.source.ImageWMS,ol.source.Image),ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101],ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,o,t,r){if(void 0!==this.url_){var i=ol.extent.getForViewAndSize(e,o,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_),n={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(n,this.params_,r);var l=Math.floor((e[0]-i[0])/o),a=Math.floor((i[3]-e[1])/o);return n[this.v13_?"I":"X"]=l,n[this.v13_?"J":"Y"]=a,this.getRequestUrl_(i,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,ol.proj.get(t),n)}},ol.source.ImageWMS.prototype.getParams=function(){return this.params_},ol.source.ImageWMS.prototype.getImageInternal=function(e,o,t,r){if(void 0===this.url_)return null;o=this.findNearestResolution(o),1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var i=o/t,n=ol.extent.getCenter(e),l=Math.ceil(ol.extent.getWidth(e)/i),a=Math.ceil(ol.extent.getHeight(e)/i),s=ol.extent.getForViewAndSize(n,i,0,[l,a]),p=Math.ceil(this.ratio_*ol.extent.getWidth(e)/i),g=Math.ceil(this.ratio_*ol.extent.getHeight(e)/i),c=ol.extent.getForViewAndSize(n,i,0,[p,g]),u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==o&&u.getPixelRatio()==t&&ol.extent.containsExtent(u.getExtent(),s))return u;var y={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(y,this.params_),this.imageSize_[0]=Math.round(ol.extent.getWidth(c)/i),this.imageSize_[1]=Math.round(ol.extent.getHeight(c)/i);var h=this.getRequestUrl_(c,this.imageSize_,t,r,y);return this.image_=new ol.Image(c,o,t,this.getAttributions(),h,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageWMS.prototype.getRequestUrl_=function(e,o,t,r,i){if(ol.asserts.assert(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=t)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var n=90*t+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+n:i.FORMAT_OPTIONS="dpi:"+n;break;case ol.source.WMSServerType.MAPSERVER:i.MAP_RESOLUTION=90*t;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:i.DPI=90*t;break;default:ol.asserts.assert(!1,8)}i.WIDTH=o[0],i.HEIGHT=o[1];var l,a=r.getAxisOrientation();return l=this.v13_&&"ne"==a.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,i.BBOX=l.join(","),ol.uri.appendParams(this.url_,i)},ol.source.ImageWMS.prototype.getUrl=function(){return this.url_},ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},ol.source.ImageWMS.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},ol.source.ImageWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},ol.source.ImageWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0},goog.provide("ol.source.OSM"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.source.XYZ"),ol.source.OSM=function(e){var o,t=e||{};o=void 0!==t.attributions?t.attributions:[ol.source.OSM.ATTRIBUTION];var r=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",i=void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:r,opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:i,wrapX:t.wrapX})},ol.inherits(ol.source.OSM,ol.source.XYZ),ol.source.OSM.ATTRIBUTION=new ol.Attribution({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'}),goog.provide("ol.ext.pixelworks.Processor"),ol.ext.pixelworks.Processor=function(){},function(){!function(e){"use strict";function o(e,o,t){if(l)return new ImageData(e,o,t);var r=a.createImageData(o,t);return r.data.set(e),r}function t(e){function o(e,o,r){return t?new ImageData(e,o,r):{data:e,width:o,height:r}}var t=!0;try{new ImageData(10,10)}catch(e){t=!1}return function(t){var r,i,n=t.buffers,l=t.meta,a=t.imageOps,s=t.width,p=t.height,g=n.length,c=n[0].byteLength;if(a){var u=new Array(g);for(i=0;i<g;++i)u[i]=o(new Uint8ClampedArray(n[i]),s,p);r=e(u,l).data}else{r=new Uint8ClampedArray(c);var y=new Array(g),h=new Array(g);for(i=0;i<g;++i)y[i]=new Uint8ClampedArray(n[i]),h[i]=[0,0,0,0];for(var d=0;d<c;d+=4){for(var m=0;m<g;++m){var f=y[m];h[m][0]=f[d],h[m][1]=f[d+1],h[m][2]=f[d+2],h[m][3]=f[d+3]}var _=e(h,l);r[d]=_[0],r[d+1]=_[1],r[d+2]=_[2],r[d+3]=_[3]}}return r.buffer}}function r(e,o){var r=Object.keys(e.lib||{}).map(function(o){return"var "+o+" = "+e.lib[o].toString()+";"}),i=r.concat(["var __minion__ = ("+t.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(i,{type:"text/javascript"}),l=URL.createObjectURL(n),a=new Worker(l);return a.addEventListener("message",o),a}function i(e,o){var r=t(e.operation);return{postMessage:function(e){setTimeout(function(){o({data:{buffer:r(e),meta:e.meta}})},0)}}}function n(e){this._imageOps=!!e.imageOps;var o;o=0===e.threads?0:this._imageOps?1:e.threads||1;var t=[];if(o)for(var n=0;n<o;++n)t[n]=r(e,this._onWorkerMessage.bind(this,n));else t[0]=i(e,this._onWorkerMessage.bind(this,0));this._workers=t,this._queue=[],this._maxQueueLength=e.queue||1/0,this._running=0,this._dataLookup={},this._job=null}var l=!0;try{new ImageData(10,10)}catch(e){l=!1}var a=document.createElement("canvas").getContext("2d"),s=o,p={newImageData:s},g=p.newImageData;n.prototype.process=function(e,o,t){this._enqueue({inputs:e,meta:o,callback:t}),this._dispatch()},n.prototype.destroy=function(){for(var e in this)this[e]=null;this._destroyed=!0},n.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},n.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._job=this._queue.shift(),o=e.inputs[0].width,t=e.inputs[0].height,r=e.inputs.map(function(e){return e.data.buffer}),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:r,meta:e.meta,imageOps:this._imageOps,width:o,height:t},r);else for(var n=e.inputs[0].data.length,l=4*Math.ceil(n/4/i),a=0;a<i;++a){for(var s=a*l,p=[],g=0,c=r.length;g<c;++g)p.push(r[a].slice(s,s+l));this._workers[a].postMessage({buffers:p,meta:e.meta,imageOps:this._imageOps,width:o,height:t},p)}}},n.prototype._onWorkerMessage=function(e,o){this._destroyed||(this._dataLookup[e]=o.data,0===--this._running&&this._resolveJob())},n.prototype._resolveJob=function(){var e,o,t=this._job,r=this._workers.length;if(1===r)e=new Uint8ClampedArray(this._dataLookup[0].buffer),o=this._dataLookup[0].meta;else{var i=t.inputs[0].data.length;e=new Uint8ClampedArray(i),o=new Array(i);for(var n=4*Math.ceil(i/4/r),l=0;l<r;++l){var a=this._dataLookup[l].buffer,s=l*n;e.set(new Uint8ClampedArray(a),s),o[l]=this._dataLookup[l].meta}}this._job=null,this._dataLookup={},t.callback(null,g(e,t.inputs[0].width,t.inputs[0].height),o),this._dispatch()};var c=n,u=c,y={Processor:u};e.default=y,e.Processor=u}(this.pixelworks=this.pixelworks||{})}.call(ol.ext),goog.provide("ol.source.RasterOperationType"),ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"},goog.provide("ol.source.Raster"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.TileQueue"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.ext.pixelworks.Processor"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.layer.Tile"),goog.require("ol.obj"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.source.Image"),goog.require("ol.source.RasterOperationType"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.transform"),ol.source.Raster=function(e){this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:ol.source.RasterOperationType.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=ol.source.Raster.createRenderers_(e.sources);for(var o=0,t=this.renderers_.length;o<t;++o)ol.events.listen(this.renderers_[o],ol.events.EventType.CHANGE,this.changed,this);this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));for(var r=ol.source.Raster.getLayerStatesArray_(this.renderers_),i={},n=0,l=r.length;n<l;++n)i[ol.getUid(r[n].layer)]=r[n];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,attributions:{},coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:i,layerStatesArray:r,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},ol.source.Image.call(this,{}),void 0!==e.operation&&this.setOperation(e.operation,e.lib)},ol.inherits(ol.source.Raster,ol.source.Image),ol.source.Raster.prototype.setOperation=function(e,o){this.worker_=new ol.ext.pixelworks.Processor({operation:e,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:o,threads:this.threads_}),this.changed()},ol.source.Raster.prototype.updateFrameState_=function(e,o,t){var r=ol.obj.assign({},this.frameState_);r.viewState=ol.obj.assign({},r.viewState);var i=ol.extent.getCenter(e);r.extent=e.slice(),r.focus=i,r.size[0]=Math.round(ol.extent.getWidth(e)/o),r.size[1]=Math.round(ol.extent.getHeight(e)/o),r.time=Date.now(),r.animate=!1;var n=r.viewState;return n.center=i,n.projection=t,n.resolution=o,r},ol.source.Raster.prototype.allSourcesReady_=function(){for(var e,o=!0,t=0,r=this.renderers_.length;t<r;++t)if(e=this.renderers_[t].getLayer().getSource(),e.getState()!==ol.source.State.READY){o=!1;break}return o},ol.source.Raster.prototype.getImage=function(e,o,t,r){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(e,o,r);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var n=this.renderedImageCanvas_.getResolution(),l=this.renderedImageCanvas_.getExtent();o===n&&ol.extent.equals(e,l)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},ol.source.Raster.prototype.processSources_=function(){for(var e=this.requestedFrameState_,o=this.renderers_.length,t=new Array(o),r=0;r<o;++r){var i=ol.source.Raster.getImageData_(this.renderers_[r],e,e.layerStatesArray[r]);if(!i)return;t[r]=i}var n={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,e,n)),this.worker_.process(t,n,this.onWorkerComplete_.bind(this,e))},ol.source.Raster.prototype.onWorkerComplete_=function(e,o,t,r){if(!o&&t){var i=e.extent,n=e.viewState.resolution;if(n===this.requestedFrameState_.viewState.resolution&&ol.extent.equals(i,this.requestedFrameState_.extent)){var l;if(this.renderedImageCanvas_)l=this.renderedImageCanvas_.getImage().getContext("2d");else{var a=Math.round(ol.extent.getWidth(i)/n),s=Math.round(ol.extent.getHeight(i)/n);l=ol.dom.createCanvasContext2D(a,s),this.renderedImageCanvas_=new ol.ImageCanvas(i,n,1,this.getAttributions(),l.canvas)}l.putImageData(t,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,e,r))}}};ol.source.Raster.getImageData_=function(e,o,t){if(!e.prepareFrame(o,t))return null;var r=o.size[0],i=o.size[1];if(ol.source.Raster.context_){var n=ol.source.Raster.context_.canvas;n.width!==r||n.height!==i?ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i):ol.source.Raster.context_.clearRect(0,0,r,i)}else ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i);return e.composeFrame(o,t,ol.source.Raster.context_),ol.source.Raster.context_.getImageData(0,0,r,i)},ol.source.Raster.context_=null,ol.source.Raster.getLayerStatesArray_=function(e){return e.map(function(e){return e.getLayer().getLayerState()})},ol.source.Raster.createRenderers_=function(e){for(var o=e.length,t=new Array(o),r=0;r<o;++r)t[r]=ol.source.Raster.createRenderer_(e[r]);return t},ol.source.Raster.createRenderer_=function(e){var o=null;return e instanceof ol.source.Tile?o=ol.source.Raster.createTileRenderer_(e):e instanceof ol.source.Image&&(o=ol.source.Raster.createImageRenderer_(e)),o},ol.source.Raster.createImageRenderer_=function(e){var o=new ol.layer.Image({source:e});return new ol.renderer.canvas.ImageLayer(o)},ol.source.Raster.createTileRenderer_=function(e){var o=new ol.layer.Tile({source:e});return new ol.renderer.canvas.TileLayer(o)},ol.source.Raster.Event=function(e,o,t){ol.events.Event.call(this,e),this.extent=o.extent,this.resolution=o.viewState.resolution/o.pixelRatio,this.data=t},ol.inherits(ol.source.Raster.Event,ol.events.Event),ol.source.Raster.prototype.getImageInternal=function(){return null},ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},goog.provide("ol.source.Stamen"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.source.OSM"),goog.require("ol.source.XYZ"),ol.source.Stamen=function(e){var o=e.layer.indexOf("-"),t=-1==o?e.layer:e.layer.slice(0,o),r=ol.source.Stamen.ProviderConfig[t],i=ol.source.Stamen.LayerConfig[e.layer],n=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+i.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:r.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:r.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:n,wrapX:e.wrapX})},ol.inherits(ol.source.Stamen,ol.source.XYZ),ol.source.Stamen.ATTRIBUTIONS=[new ol.Attribution({html:'Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),ol.source.OSM.ATTRIBUTION],ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},goog.provide("ol.source.TileArcGISRest"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.uri"),
ol.source.TileArcGISRest=function(e){var o=e||{};ol.source.TileImage.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,logo:o.logo,projection:o.projection,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,url:o.url,urls:o.urls,wrapX:void 0===o.wrapX||o.wrapX,transition:o.transition}),this.params_=o.params||{},this.tmpExtent_=ol.extent.createEmpty(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage),ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var e=0,o=[];for(var t in this.params_)o[e++]=t+"-"+this.params_[t];return o.join("/")},ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_},ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,o,t,r,i,n){var l=this.urls;if(l){var a=i.getCode().split(":").pop();n.SIZE=o[0]+","+o[1],n.BBOX=t.join(","),n.BBOXSR=a,n.IMAGESR=a,n.DPI=Math.round(n.DPI?n.DPI*r:90*r);var s;if(1==l.length)s=l[0];else{s=l[ol.math.modulo(ol.tilecoord.hash(e),l.length)]}var p=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(p,n)}},ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(e){return e},ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(e,o,t){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(t)),!(r.getResolutions().length<=e[0])){var i=r.getTileCoordExtent(e,this.tmpExtent_),n=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);1!=o&&(n=ol.size.scale(n,o,this.tmpSize));var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return ol.obj.assign(l,this.params_),this.getRequestUrl_(e,n,i,o,t,l)}},ol.source.TileArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.setKey(this.getKeyForParams_())},goog.provide("ol.source.TileDebug"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.size"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),ol.source.TileDebug=function(e){ol.source.Tile.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})},ol.inherits(ol.source.TileDebug,ol.source.Tile),ol.source.TileDebug.prototype.getTile=function(e,o,t){var r=ol.tilecoord.getKeyZXY(e,o,t);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var i=ol.size.toSize(this.tileGrid.getTileSize(e)),n=[e,o,t],l=this.getTileCoordForTileUrlFunction(n),a=l?this.getTileCoordForTileUrlFunction(l).toString():"",s=new ol.source.TileDebug.Tile_(n,i,a);return this.tileCache.set(r,s),s},ol.source.TileDebug.Tile_=function(e,o,t){ol.Tile.call(this,e,ol.TileState.LOADED),this.tileSize_=o,this.text_=t,this.canvas_=null},ol.inherits(ol.source.TileDebug.Tile_,ol.Tile),ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var e=this.tileSize_,o=ol.dom.createCanvasContext2D(e[0],e[1]);return o.strokeStyle="black",o.strokeRect(.5,.5,e[0]+.5,e[1]+.5),o.fillStyle="black",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.fillText(this.text_,e[0]/2,e[1]/2),this.canvas_=o.canvas,o.canvas},ol.source.TileDebug.Tile_.prototype.load=function(){},goog.provide("ol.source.TileJSON"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.TileJSON=function(e){if(this.tileJSON_=null,ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),e.url)if(e.jsonp)ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var o=new XMLHttpRequest;o.addEventListener("load",this.onXHRLoad_.bind(this)),o.addEventListener("error",this.onXHRError_.bind(this)),o.open("GET",e.url),o.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):ol.asserts.assert(!1,51)},ol.inherits(ol.source.TileJSON,ol.source.TileImage),ol.source.TileJSON.prototype.onXHRLoad_=function(e){var o=e.target;if(!o.status||o.status>=200&&o.status<300){var t;try{t=JSON.parse(o.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(t)}else this.handleTileJSONError()},ol.source.TileJSON.prototype.onXHRError_=function(e){this.handleTileJSONError()},ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_},ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var o,t=ol.proj.get("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){var i=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0,l=e.maxzoom||22,a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:l,minZoom:n});if(this.tileGrid=a,this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles,a),void 0!==e.attribution&&!this.getAttributions()){var s,p,g=void 0!==o?o:t.getExtent(),c={};for(s=n;s<=l;++s)p=s.toString(),c[p]=[a.getTileRangeForExtentAndZ(g,s)];this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:c})])}this.tileJSON_=e,this.setState(ol.source.State.READY)},ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},goog.provide("ol.source.TileUTFGrid"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.TileUTFGrid=function(e){if(ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var o=new XMLHttpRequest;o.addEventListener("load",this.onXHRLoad_.bind(this)),o.addEventListener("error",this.onXHRError_.bind(this)),o.open("GET",e.url),o.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):ol.asserts.assert(!1,51)},ol.inherits(ol.source.TileUTFGrid,ol.source.Tile),ol.source.TileUTFGrid.prototype.onXHRLoad_=function(e){var o=e.target;if(!o.status||o.status>=200&&o.status<300){var t;try{t=JSON.parse(o.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(t)}else this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.onXHRError_=function(e){this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_},ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,o,t,r,i){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(e,o);this.getTile(n[0],n[1],n[2],1,this.getProjection()).forDataAtCoordinate(e,t,r,i)}else!0===i?setTimeout(function(){t.call(r,null)},0):t.call(r,null)},ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var o,t=ol.proj.get("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){var i=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0,l=e.maxzoom||22,a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:l,minZoom:n});this.tileGrid=a,this.template_=e.template;var s=e.grids;if(!s)return void this.setState(ol.source.State.ERROR);if(this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(s,a),void 0!==e.attribution){var p,g,c=void 0!==o?o:t.getExtent(),u={};for(p=n;p<=l;++p)g=p.toString(),u[g]=[a.getTileRangeForExtentAndZ(c,p)];this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:u})])}this.setState(ol.source.State.READY)},ol.source.TileUTFGrid.prototype.getTile=function(e,o,t,r,i){var n=ol.tilecoord.getKeyZXY(e,o,t);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var l=[e,o,t],a=this.getTileCoordForTileUrlFunction(l,i),s=this.tileUrlFunction_(a,r,i),p=new ol.source.TileUTFGrid.Tile_(l,void 0!==s?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==s?s:"",this.tileGrid.getTileCoordExtent(l),this.preemptive_,this.jsonp_);return this.tileCache.set(n,p),p},ol.source.TileUTFGrid.prototype.useTile=function(e,o,t){var r=ol.tilecoord.getKeyZXY(e,o,t);this.tileCache.containsKey(r)&&this.tileCache.get(r)},ol.source.TileUTFGrid.Tile_=function(e,o,t,r,i,n){ol.Tile.call(this,e,o),this.src_=t,this.extent_=r,this.preemptive_=i,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=n},ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile),ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null},ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;var o=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),t=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-t)*this.grid_.length)];if("string"!=typeof r)return null;var i=r.charCodeAt(Math.floor(o*r.length));i>=93&&i--,i>=35&&i--,i-=32;var n=null;if(i in this.keys_){var l=this.keys_[i];n=this.data_&&l in this.data_?this.data_[l]:l}return n},ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(e,o,t,r){this.state==ol.TileState.IDLE&&!0===r?(ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(r){o.call(t,this.getData(e))},this),this.loadInternal_()):!0===r?setTimeout(function(){o.call(t,this.getData(e))}.bind(this),0):o.call(t,this.getData(e))},ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_},ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=ol.TileState.EMPTY,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE)if(this.state=ol.TileState.LOADING,this.jsonp_)ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(e){var o=e.target;if(!o.status||o.status>=200&&o.status<300){var t;try{t=JSON.parse(o.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(t)}else this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(e){this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.load=function(){this.preemptive_&&this.loadInternal_()},goog.provide("ol.source.TileWMS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMSServerType"),goog.require("ol.tilecoord"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.TileWMS=function(e){var o=e||{},t=o.params||{},r=!("TRANSPARENT"in t)||t.TRANSPARENT;ol.source.TileImage.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,logo:o.logo,opaque:!r,projection:o.projection,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileClass:o.tileClass,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,url:o.url,urls:o.urls,wrapX:void 0===o.wrapX||o.wrapX,transition:o.transition}),this.gutter_=void 0!==o.gutter?o.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=o.serverType,this.hidpi_=void 0===o.hidpi||o.hidpi,this.tmpExtent_=ol.extent.createEmpty(),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileWMS,ol.source.TileImage),ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,o,t,r){var i=ol.proj.get(t),n=this.getTileGrid();n||(n=this.getTileGridForProjection(i));var l=n.getTileCoordForCoordAndResolution(e,o);if(!(n.getResolutions().length<=l[0])){var a=n.getResolution(l[0]),s=n.getTileCoordExtent(l,this.tmpExtent_),p=ol.size.toSize(n.getTileSize(l[0]),this.tmpSize),g=this.gutter_;0!==g&&(p=ol.size.buffer(p,g,this.tmpSize),s=ol.extent.buffer(s,a*g,s));var c={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(c,this.params_,r);var u=Math.floor((e[0]-s[0])/a),y=Math.floor((s[3]-e[1])/a);return c[this.v13_?"I":"X"]=u,c[this.v13_?"J":"Y"]=y,this.getRequestUrl_(l,p,s,1,i,c)}},ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_},ol.source.TileWMS.prototype.getParams=function(){return this.params_},ol.source.TileWMS.prototype.getRequestUrl_=function(e,o,t,r,i,n){var l=this.urls;if(l){if(n.WIDTH=o[0],n.HEIGHT=o[1],n[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=r)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var a=90*r+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+a:n.FORMAT_OPTIONS="dpi:"+a;break;case ol.source.WMSServerType.MAPSERVER:n.MAP_RESOLUTION=90*r;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:n.DPI=90*r;break;default:ol.asserts.assert(!1,52)}var s=i.getAxisOrientation(),p=t;if(this.v13_&&"ne"==s.substr(0,2)){var g;g=t[0],p[0]=t[1],p[1]=g,g=t[2],p[2]=t[3],p[3]=g}n.BBOX=p.join(",");var c;if(1==l.length)c=l[0];else{c=l[ol.math.modulo(ol.tilecoord.hash(e),l.length)]}return ol.uri.appendParams(c,n)}},ol.source.TileWMS.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},ol.source.TileWMS.prototype.getKeyForParams_=function(){var e=0,o=[];for(var t in this.params_)o[e++]=t+"-"+this.params_[t];return o.join("/")},ol.source.TileWMS.prototype.fixedTileUrlFunction=function(e,o,t){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(t)),!(r.getResolutions().length<=e[0])){1==o||this.hidpi_&&void 0!==this.serverType_||(o=1);var i=r.getResolution(e[0]),n=r.getTileCoordExtent(e,this.tmpExtent_),l=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize),a=this.gutter_;0!==a&&(l=ol.size.buffer(l,a,this.tmpSize),n=ol.extent.buffer(n,i*a,n)),1!=o&&(l=ol.size.scale(l,o,this.tmpSize));var s={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return ol.obj.assign(s,this.params_),this.getRequestUrl_(e,l,n,o,t,s)}},ol.source.TileWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.source.TileWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0},goog.provide("ol.VectorImageTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.extent"),goog.require("ol.events.EventType"),goog.require("ol.featureloader"),ol.VectorImageTile=function(e,o,t,r,i,n,l,a,s,p,g,c,u,y,h){if(ol.Tile.call(this,e,o,h),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=p,this.tileKeys=[],this.src_=t,this.wrappedTileCoord=n,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],n){var d=s.getTileCoordExtent(n),m=s.getResolution(e[0]),f=a.getZForResolution(m);a.forEachTileCoord(d,f,function(e){var o=ol.extent.getIntersection(d,a.getTileCoordExtent(e)),t=a.getExtent();if(t&&(o=ol.extent.getIntersection(o,t)),ol.extent.getWidth(o)/m>=.5&&ol.extent.getHeight(o)/m>=.5){var n=e.toString(),s=p[n];if(!s){var h=l(e,g,c);s=p[n]=new u(e,void 0==h?ol.TileState.EMPTY:ol.TileState.IDLE,void 0==h?"":h,r,i),this.sourceTileListenerKeys_.push(ol.events.listen(s,ol.events.EventType.CHANGE,y))}s.consumers++,this.tileKeys.push(n)}}.bind(this))}},ol.inherits(ol.VectorImageTile,ol.Tile),ol.VectorImageTile.prototype.disposeInternal=function(){for(var e=0,o=this.tileKeys.length;e<o;++e){var t=this.tileKeys[e],r=this.getTile(t);r.consumers--,0==r.consumers&&(delete this.sourceTiles_[t],r.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(ol.events.unlistenByKey),this.loadListenerKeys_.length=0,this.interimTile&&this.interimTile.dispose(),this.state=ol.TileState.ABORT,this.changed(),this.sourceTileListenerKeys_.forEach(ol.events.unlistenByKey),this.sourceTileListenerKeys_.length=0,ol.Tile.prototype.disposeInternal.call(this)},ol.VectorImageTile.prototype.getContext=function(e){var o=ol.getUid(e).toString();return o in this.context_||(this.context_[o]=ol.dom.createCanvasContext2D()),this.context_[o]},ol.VectorImageTile.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},ol.VectorImageTile.prototype.getReplayState=function(e){var o=ol.getUid(e).toString();return o in this.replayState_||(this.replayState_[o]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[o]},ol.VectorImageTile.prototype.getKey=function(){return this.tileKeys.join("/")+"/"+this.src_},ol.VectorImageTile.prototype.getTile=function(e){return this.sourceTiles_[e]},ol.VectorImageTile.prototype.load=function(){var e=0,o={};this.state==ol.TileState.IDLE&&this.setState(ol.TileState.LOADING),this.state==ol.TileState.LOADING&&this.tileKeys.forEach(function(t){var r=this.getTile(t);if(r.state==ol.TileState.IDLE&&(r.setLoader(this.loader_),r.load()),r.state==ol.TileState.LOADING){var i=ol.events.listen(r,ol.events.EventType.CHANGE,function(t){var i=r.getState();if(i==ol.TileState.LOADED||i==ol.TileState.ERROR){var n=ol.getUid(r);i==ol.TileState.ERROR?o[n]=!0:(--e,delete o[n]),e-Object.keys(o).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(i),++e}}.bind(this)),e-Object.keys(o).length==0&&setTimeout(this.finishLoading_.bind(this),0)},ol.VectorImageTile.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,o=0,t=e-1;t>=0;--t){var r=this.getTile(this.tileKeys[t]).getState();r!=ol.TileState.LOADED&&--e,r==ol.TileState.EMPTY&&++o}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(ol.events.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(ol.TileState.LOADED)):this.setState(o==this.tileKeys.length?ol.TileState.EMPTY:ol.TileState.ERROR)},ol.VectorImageTile.defaultLoadFunction=function(e,o){var t=ol.featureloader.loadFeaturesXhr(o,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(t)},goog.provide("ol.VectorTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),ol.VectorTile=function(e,o,t,r,i,n){ol.Tile.call(this,e,o,n),this.consumers=0,this.extent_=null,this.format_=r,this.features_=null,this.loader_,this.projection_,this.replayGroups_={},this.tileLoadFunction_=i,this.url_=t},ol.inherits(ol.VectorTile,ol.Tile),ol.VectorTile.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=ol.TileState.ABORT,this.changed(),ol.Tile.prototype.disposeInternal.call(this)},ol.VectorTile.prototype.getExtent=function(){return this.extent_||ol.VectorTile.DEFAULT_EXTENT},ol.VectorTile.prototype.getFormat=function(){return this.format_},ol.VectorTile.prototype.getFeatures=function(){return this.features_},ol.VectorTile.prototype.getKey=function(){return this.url_},ol.VectorTile.prototype.getProjection=function(){return this.projection_},ol.VectorTile.prototype.getReplayGroup=function(e,o){return this.replayGroups_[ol.getUid(e)+","+o]},ol.VectorTile.prototype.load=function(){this.state==ol.TileState.IDLE&&(this.setState(ol.TileState.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},ol.VectorTile.prototype.onLoad=function(e,o,t){this.setProjection(o),this.setFeatures(e),this.setExtent(t)},ol.VectorTile.prototype.onError=function(){this.setState(ol.TileState.ERROR)},ol.VectorTile.prototype.setExtent=function(e){this.extent_=e},ol.VectorTile.prototype.setFeatures=function(e){this.features_=e,this.setState(ol.TileState.LOADED)},ol.VectorTile.prototype.setProjection=function(e){this.projection_=e},ol.VectorTile.prototype.setReplayGroup=function(e,o,t){this.replayGroups_[ol.getUid(e)+","+o]=t},ol.VectorTile.prototype.setLoader=function(e){this.loader_=e},ol.VectorTile.DEFAULT_EXTENT=[0,0,4096,4096],goog.provide("ol.source.VectorTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.VectorImageTile"),goog.require("ol.VectorTile"),goog.require("ol.size"),goog.require("ol.source.UrlTile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.VectorTile=function(e){var o=e.projection||"EPSG:3857",t=e.extent||ol.tilegrid.extentFromProjection(o),r=e.tileGrid||ol.tilegrid.createXYZ({extent:t,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,extent:t,logo:e.logo,opaque:!1,projection:o,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.VectorImageTile.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:ol.VectorTile,this.tileGrids_={}},ol.inherits(ol.source.VectorTile,ol.source.UrlTile),ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_},ol.source.VectorTile.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},ol.source.VectorTile.prototype.getTile=function(e,o,t,r,i){var n=ol.tilecoord.getKeyZXY(e,o,t);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var l=[e,o,t],a=this.getTileCoordForTileUrlFunction(l,i),s=a?this.tileUrlFunction(a,r,i):void 0,p=new ol.VectorImageTile(l,void 0!==s?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==s?s:"",this.format_,this.tileLoadFunction,a,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(i),this.sourceTiles_,r,i,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);return this.tileCache.set(n,p),p},ol.source.VectorTile.prototype.getTileGridForProjection=function(e){var o=e.getCode(),t=this.tileGrids_[o];if(!t){var r=this.tileGrid;t=this.tileGrids_[o]=ol.tilegrid.createForProjection(e,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return t},ol.source.VectorTile.prototype.getTilePixelRatio=function(e){return e},ol.source.VectorTile.prototype.getTilePixelSize=function(e,o,t){var r=ol.size.toSize(this.getTileGridForProjection(t).getTileSize(e));return[Math.round(r[0]*o),Math.round(r[1]*o)]},goog.provide("ol.source.WMTSRequestEncoding"),ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"},goog.provide("ol.tilegrid.WMTS"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.proj"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.WMTS=function(e){this.matrixIds_=e.matrixIds,ol.tilegrid.TileGrid.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid),ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return this.matrixIds_[e]},ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_},ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,o,t){var r,i=[],n=[],l=[],a=[],s=[],p=void 0!==t?t:[];r=ol.proj.get(e.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var g=r.getMetersPerUnit(),c="ne"==r.getAxisOrientation().substr(0,2);return e.TileMatrix.sort(function(e,o){return o.ScaleDenominator-e.ScaleDenominator}),e.TileMatrix.forEach(function(e,o,t){if(!(p.length>0)||ol.array.find(p,function(o,t,r){return e.Identifier==o.TileMatrix})){n.push(e.Identifier);var r=28e-5*e.ScaleDenominator/g,u=e.TileWidth,y=e.TileHeight;c?l.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):l.push(e.TopLeftCorner),i.push(r),a.push(u==y?u:[u,y]),s.push([e.MatrixWidth,-e.MatrixHeight])}}),new ol.tilegrid.WMTS({extent:o,origins:l,resolutions:i,matrixIds:n,tileSizes:a,sizes:s})},goog.provide("ol.source.WMTS"),goog.require("ol"),goog.require("ol.TileUrlFunction"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMTSRequestEncoding"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.uri"),ol.source.WMTS=function(e){function o(e){return e=r==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(e,n):e.replace(/\{(\w+?)\}/g,function(e,o){return o.toLowerCase()in n?n[o.toLowerCase()]:e}),function(o,t,n){if(o){var a={TileMatrix:i.getMatrixId(o[0]),TileCol:o[1],TileRow:-o[2]-1};ol.obj.assign(a,l);var s=e;return s=r==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(s,a):s.replace(/\{(\w+?)\}/g,function(e,o){return a[o]})}}}this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style;var t=e.urls;void 0===t&&void 0!==e.url&&(t=ol.TileUrlFunction.expandUrl(e.url)),this.requestEncoding_=void 0!==e.requestEncoding?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var r=this.requestEncoding_,i=e.tileGrid,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};r==ol.source.WMTSRequestEncoding.KVP&&ol.obj.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var l=this.dimensions_,a=t&&t.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(t.map(o)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:a,urls:t,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.setKey(this.getKeyForDimensions_())},ol.inherits(ol.source.WMTS,ol.source.TileImage),ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_},ol.source.WMTS.prototype.getFormat=function(){return this.format_},ol.source.WMTS.prototype.getLayer=function(){return this.layer_},ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_},ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_},ol.source.WMTS.prototype.getStyle=function(){return this.style_},ol.source.WMTS.prototype.getVersion=function(){return this.version_},ol.source.WMTS.prototype.getKeyForDimensions_=function(){var e=0,o=[];for(var t in this.dimensions_)o[e++]=t+"-"+this.dimensions_[t];return o.join("/")},ol.source.WMTS.prototype.updateDimensions=function(e){ol.obj.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},ol.source.WMTS.optionsFromCapabilities=function(e,o){var t=e.Contents.Layer,r=ol.array.find(t,function(e,t,r){return e.Identifier==o.layer});if(null===r)return null;var i,n,l,a=e.Contents.TileMatrixSet;i=r.TileMatrixSetLink.length>1?"projection"in o?ol.array.findIndex(r.TileMatrixSetLink,function(e,t,r){var i=ol.array.find(a,function(o){return o.Identifier==e.TileMatrixSet}),n=i.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),l=ol.proj.get(n),s=ol.proj.get(o.projection);return l&&s?ol.proj.equivalent(l,s):n==o.projection}):ol.array.findIndex(r.TileMatrixSetLink,function(e,t,r){return e.TileMatrixSet==o.matrixSet}):0,i<0&&(i=0),n=r.TileMatrixSetLink[i].TileMatrixSet,l=r.TileMatrixSetLink[i].TileMatrixSetLimits;var s=r.Format[0];"format"in o&&(s=o.format),(i=ol.array.findIndex(r.Style,function(e,t,r){return"style"in o?e.Title==o.style:e.isDefault}))<0&&(i=0);var p=r.Style[i].Identifier,g={};"Dimension"in r&&r.Dimension.forEach(function(e,o,t){var r=e.Identifier,i=e.Default;void 0===i&&(i=e.Value[0]),g[r]=i});var c,u=e.Contents.TileMatrixSet,y=ol.array.find(u,function(e,o,t){return e.Identifier==n});c="projection"in o?ol.proj.get(o.projection):ol.proj.get(y.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var h,d,m=r.WGS84BoundingBox;if(void 0!==m){var f=ol.proj.get("EPSG:4326").getExtent();d=m[0]==f[0]&&m[2]==f[2],h=ol.proj.transformExtent(m,"EPSG:4326",c);var _=c.getExtent();_&&(ol.extent.containsExtent(_,h)||(h=void 0))}var v=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(y,h,l),S=[],x=o.requestEncoding;if(x=void 0!==x?x:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(var P=e.OperationsMetadata.GetTile.DCP.HTTP.Get,E=0,T=P.length;E<T;++E){var R=ol.array.find(P[E].Constraint,function(e){return"GetEncoding"==e.name}),L=R.AllowedValues.Value;if(""===x&&(x=L[0]),x!==ol.source.WMTSRequestEncoding.KVP)break;ol.array.includes(L,ol.source.WMTSRequestEncoding.KVP)&&S.push(P[E].href)}return 0===S.length&&(x=ol.source.WMTSRequestEncoding.REST,r.ResourceURL.forEach(function(e){"tile"===e.resourceType&&(s=e.format,S.push(e.template))})),{urls:S,layer:o.layer,matrixSet:n,format:s,projection:c,requestEncoding:x,tileGrid:v,style:p,dimensions:g,wrapX:d,crossOrigin:o.crossOrigin}},goog.provide("ol.source.Zoomify"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid.TileGrid"),ol.source.Zoomify=function(e){function o(e){return function(o,t,r){if(o){var i=o[0],n=o[1],l=-o[2]-1,s=n+l*a[i][0],p=(s+h[i])/ol.DEFAULT_TILE_SIZE|0,g={z:i,x:n,y:l,tileIndex:s,TileGroup:"TileGroup"+p};return e.replace(/\{(\w+?)\}/g,function(e,o){return g[o]})}}}var t=e||{},r=t.size,i=void 0!==t.tierSizeCalculation?t.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT,n=r[0],l=r[1],a=[],s=ol.DEFAULT_TILE_SIZE;switch(i){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:for(;n>s||l>s;)a.push([Math.ceil(n/s),Math.ceil(l/s)]),s+=s;break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:for(var p=n,g=l;p>s||g>s;)a.push([Math.ceil(p/s),Math.ceil(g/s)]),p>>=1,g>>=1;break;default:ol.asserts.assert(!1,53)}a.push([1,1]),a.reverse();var c,u,y=[1],h=[0];for(c=1,u=a.length;c<u;c++)y.push(1<<c),h.push(a[c-1][0]*a[c-1][1]+h[c-1]);y.reverse();var d=[0,-r[1],r[0],0],m=new ol.tilegrid.TileGrid({extent:d,origin:ol.extent.getTopLeft(d),resolutions:y}),f=t.url;f&&-1==f.indexOf("{TileGroup}")&&-1==f.indexOf("{tileIndex}")&&(f+="{TileGroup}/{z}-{x}-{y}.jpg");var _=ol.TileUrlFunction.expandUrl(f),v=ol.TileUrlFunction.createFromTileUrlFunctions(_.map(o));ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:ol.source.Zoomify.Tile_,tileGrid:m,tileUrlFunction:v,transition:t.transition})},ol.inherits(ol.source.Zoomify,ol.source.TileImage),ol.source.Zoomify.Tile_=function(e,o,t,r,i,n){ol.ImageTile.call(this,e,o,t,r,i,n),this.zoomifyImage_=null},ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile),ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=ol.DEFAULT_TILE_SIZE,o=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){if(o.width==e&&o.height==e)return this.zoomifyImage_=o,o;var t=ol.dom.createCanvasContext2D(e,e)
;return t.drawImage(o,0,0),this.zoomifyImage_=t.canvas,t.canvas}return o},ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"},goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]),goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]),goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]),goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.Attribution"),goog.require("ol.CanvasMap"),goog.require("ol.Collection"),goog.require("ol.DeviceOrientation"),goog.require("ol.Feature"),goog.require("ol.Geolocation"),goog.require("ol.Graticule"),goog.require("ol.Image"),goog.require("ol.ImageTile"),goog.require("ol.Kinetic"),goog.require("ol.Map"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapEvent"),goog.require("ol.Object"),goog.require("ol.Observable"),goog.require("ol.Overlay"),goog.require("ol.PluggableMap"),goog.require("ol.Sphere"),goog.require("ol.Tile"),goog.require("ol.VectorTile"),goog.require("ol.View"),goog.require("ol.color"),goog.require("ol.colorlike"),goog.require("ol.control"),goog.require("ol.control.Attribution"),goog.require("ol.control.Control"),goog.require("ol.control.FullScreen"),goog.require("ol.control.MousePosition"),goog.require("ol.control.OverviewMap"),goog.require("ol.control.Rotate"),goog.require("ol.control.ScaleLine"),goog.require("ol.control.Zoom"),goog.require("ol.control.ZoomSlider"),goog.require("ol.control.ZoomToExtent"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.format.EsriJSON"),goog.require("ol.format.Feature"),goog.require("ol.format.GML"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.GPX"),goog.require("ol.format.GeoJSON"),goog.require("ol.format.IGC"),goog.require("ol.format.KML"),goog.require("ol.format.MVT"),goog.require("ol.format.OSMXML"),goog.require("ol.format.Polyline"),goog.require("ol.format.TopoJSON"),goog.require("ol.format.WFS"),goog.require("ol.format.WKT"),goog.require("ol.format.WMSCapabilities"),goog.require("ol.format.WMSGetFeatureInfo"),goog.require("ol.format.WMTSCapabilities"),goog.require("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.Comparison"),goog.require("ol.format.filter.ComparisonBinary"),goog.require("ol.format.filter.During"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.Filter"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Spatial"),goog.require("ol.format.filter.Within"),goog.require("ol.geom.Circle"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragAndDrop"),goog.require("ol.interaction.DragBox"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragRotateAndZoom"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.Draw"),goog.require("ol.interaction.Extent"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.Modify"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Select"),goog.require("ol.interaction.Snap"),goog.require("ol.interaction.Translate"),goog.require("ol.layer.Base"),goog.require("ol.layer.Group"),goog.require("ol.layer.Heatmap"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTile"),goog.require("ol.loadingstrategy"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.common"),goog.require("ol.render"),goog.require("ol.render.Event"),goog.require("ol.render.Feature"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),goog.require("ol.renderer.webgl.ImageLayer"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.renderer.webgl.TileLayer"),goog.require("ol.renderer.webgl.VectorLayer"),goog.require("ol.size"),goog.require("ol.source.BingMaps"),goog.require("ol.source.CartoDB"),goog.require("ol.source.Cluster"),goog.require("ol.source.Image"),goog.require("ol.source.ImageArcGISRest"),goog.require("ol.source.ImageCanvas"),goog.require("ol.source.ImageMapGuide"),goog.require("ol.source.ImageStatic"),goog.require("ol.source.ImageVector");goog.require("ol.source.ImageWMS"),goog.require("ol.source.OSM"),goog.require("ol.source.Raster"),goog.require("ol.source.Source"),goog.require("ol.source.Stamen"),goog.require("ol.source.Tile"),goog.require("ol.source.TileArcGISRest"),goog.require("ol.source.TileDebug"),goog.require("ol.source.TileImage"),goog.require("ol.source.TileJSON"),goog.require("ol.source.TileUTFGrid"),goog.require("ol.source.TileWMS"),goog.require("ol.source.UrlTile"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorTile"),goog.require("ol.source.WMTS"),goog.require("ol.source.XYZ"),goog.require("ol.source.Zoomify"),goog.require("ol.style.AtlasManager"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.Image"),goog.require("ol.style.RegularShape"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.tilegrid"),goog.require("ol.tilegrid.TileGrid"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.webgl.Context"),goog.require("ol.xml"),goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code),goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS),goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML),goog.exportSymbol("ol.CanvasMap",ol.CanvasMap,OPENLAYERS),goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS),goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear),goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend),goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach),goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray),goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item),goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength),goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt),goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop),goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push),goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove),goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt),goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt),goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element),goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS),goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS),goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS),goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS),goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed),goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS),goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap),goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap),goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget),goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS),goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection),goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection),goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS),goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap),goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS),goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS),goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits),goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits),goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS),goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS),goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS),goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS),goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS),goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS),goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS),goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS),goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha),goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta),goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma),goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading),goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking),goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking),goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS),goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS),goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS),goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS),goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS),goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS),goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS),goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS),goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS),goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS),goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS),goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS),goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type),goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target),goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault),goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation),goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS),goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS),goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS),goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS),goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS),goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS),goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS),goog.exportSymbol("ol.extent.getArea",ol.extent.getArea,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS),goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS),goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS),goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS),goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS),goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS),goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS),goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS),goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS),goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS),goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone),goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry),goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId),goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName),goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle),goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction),goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry),goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle),goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId),goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName),goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS),goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject),goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS),goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS),goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS),goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS),goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS),goog.exportSymbol("ol.format.filter.During",ol.format.filter.During,OPENLAYERS),goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS),goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS),goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS),goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS),goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS),goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS),goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS),goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS),goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS),goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS),goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS),goog.exportSymbol("ol.format.filter.during",ol.format.filter.during,OPENLAYERS),goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject),goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS),goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures),goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS),goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS),goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode),goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures),goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode),goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures),goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS),goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature),goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures),goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection),goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures),goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS),goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature),goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures),goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection),goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS),goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature),goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures),goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName),goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks),goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion),goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode),goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection),goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures),goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS),goog.exportProperty(ol.format.MVT.prototype,"getLastExtent",ol.format.MVT.prototype.getLastExtent),goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures),goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection),goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers),goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS),goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures),goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection),goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS),goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature),goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures),goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry),goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection),goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry),goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS),goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures),goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection),goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures),goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse),goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata),goog.exportSymbol("ol.format.WFS.writeFilter",ol.format.WFS.writeFilter,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature),goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction),goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection),goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS),goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature),goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures),goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry),goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature),goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures),goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry),goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read),goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS),goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures),goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read),goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS),goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry),goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude),goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading),goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition),goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection),goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed),goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking),goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions),goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection),goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking),
goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions),goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS),goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone),goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter),goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius),goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType),goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent),goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter),goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius),goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius),goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform),goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS),goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent),goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate),goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale),goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify),goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform),goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS),goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate),goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS),goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone),goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea),goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates),goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType),goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates),goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS),goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone),goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt),goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength),goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType),goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS),goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings),goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS),goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone),goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints),goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS),goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS),goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone),goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates),goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType),goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent),goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS),goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone),goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea),goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates),goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings),goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS),goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate),goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS),goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap),goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians),goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels),goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap),goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS),goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS),goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS),goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS),goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS),goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS),goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage),goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load),goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage),goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS),goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection),goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS),goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint),goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing),goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend),goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature),goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS),goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent),goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent),goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent",ol.interaction.Extent.Event.prototype.extent),goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS),goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive),goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap),goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive),goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint),goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features),goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor),goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures),goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer),goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap),goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected),goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected),goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS),goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature),goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature),goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS),goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features),goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate),goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS),goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS),goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS),goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent),goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution),goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity),goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible),goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex),goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent),goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution),goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity),goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible),goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex),goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS),goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers),goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers),goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS),goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius),goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius),goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS),goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource),goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS),goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource),goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap),goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource),goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS),goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload),goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource),goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload),goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError),goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS),goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource),goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle),goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction),goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle),goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS),goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError),goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource),goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS),goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS),goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging),goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map),goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState),goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get),goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys),goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties),goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set),goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties),goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset),goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key),goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue),goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS),goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS),goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed),goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent),goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision),goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on),goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once),goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un),goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS),goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement),goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId),goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap),goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset),goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition),goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning),goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement),goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap),goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset),goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition),goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning),goog.exportSymbol("ol.PluggableMap",ol.PluggableMap,OPENLAYERS),goog.exportProperty(ol.PluggableMap.prototype,"addControl",ol.PluggableMap.prototype.addControl),goog.exportProperty(ol.PluggableMap.prototype,"addInteraction",ol.PluggableMap.prototype.addInteraction),goog.exportProperty(ol.PluggableMap.prototype,"addLayer",ol.PluggableMap.prototype.addLayer),goog.exportProperty(ol.PluggableMap.prototype,"addOverlay",ol.PluggableMap.prototype.addOverlay),goog.exportProperty(ol.PluggableMap.prototype,"forEachFeatureAtPixel",ol.PluggableMap.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"getFeaturesAtPixel",ol.PluggableMap.prototype.getFeaturesAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"forEachLayerAtPixel",ol.PluggableMap.prototype.forEachLayerAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"hasFeatureAtPixel",ol.PluggableMap.prototype.hasFeatureAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"getEventCoordinate",ol.PluggableMap.prototype.getEventCoordinate),goog.exportProperty(ol.PluggableMap.prototype,"getEventPixel",ol.PluggableMap.prototype.getEventPixel),goog.exportProperty(ol.PluggableMap.prototype,"getTarget",ol.PluggableMap.prototype.getTarget),goog.exportProperty(ol.PluggableMap.prototype,"getTargetElement",ol.PluggableMap.prototype.getTargetElement),goog.exportProperty(ol.PluggableMap.prototype,"getCoordinateFromPixel",ol.PluggableMap.prototype.getCoordinateFromPixel),goog.exportProperty(ol.PluggableMap.prototype,"getControls",ol.PluggableMap.prototype.getControls),goog.exportProperty(ol.PluggableMap.prototype,"getOverlays",ol.PluggableMap.prototype.getOverlays),goog.exportProperty(ol.PluggableMap.prototype,"getOverlayById",ol.PluggableMap.prototype.getOverlayById),goog.exportProperty(ol.PluggableMap.prototype,"getInteractions",ol.PluggableMap.prototype.getInteractions),goog.exportProperty(ol.PluggableMap.prototype,"getLayerGroup",ol.PluggableMap.prototype.getLayerGroup),goog.exportProperty(ol.PluggableMap.prototype,"getLayers",ol.PluggableMap.prototype.getLayers),goog.exportProperty(ol.PluggableMap.prototype,"getPixelFromCoordinate",ol.PluggableMap.prototype.getPixelFromCoordinate),goog.exportProperty(ol.PluggableMap.prototype,"getSize",ol.PluggableMap.prototype.getSize),goog.exportProperty(ol.PluggableMap.prototype,"getView",ol.PluggableMap.prototype.getView),goog.exportProperty(ol.PluggableMap.prototype,"getViewport",ol.PluggableMap.prototype.getViewport),goog.exportProperty(ol.PluggableMap.prototype,"renderSync",ol.PluggableMap.prototype.renderSync),goog.exportProperty(ol.PluggableMap.prototype,"render",ol.PluggableMap.prototype.render),goog.exportProperty(ol.PluggableMap.prototype,"removeControl",ol.PluggableMap.prototype.removeControl),goog.exportProperty(ol.PluggableMap.prototype,"removeInteraction",ol.PluggableMap.prototype.removeInteraction),goog.exportProperty(ol.PluggableMap.prototype,"removeLayer",ol.PluggableMap.prototype.removeLayer),goog.exportProperty(ol.PluggableMap.prototype,"removeOverlay",ol.PluggableMap.prototype.removeOverlay),goog.exportProperty(ol.PluggableMap.prototype,"setLayerGroup",ol.PluggableMap.prototype.setLayerGroup),goog.exportProperty(ol.PluggableMap.prototype,"setSize",ol.PluggableMap.prototype.setSize);goog.exportProperty(ol.PluggableMap.prototype,"setTarget",ol.PluggableMap.prototype.setTarget),goog.exportProperty(ol.PluggableMap.prototype,"setView",ol.PluggableMap.prototype.setView),goog.exportProperty(ol.PluggableMap.prototype,"updateSize",ol.PluggableMap.prototype.updateSize),goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS),goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS),goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode),goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent),goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits),goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit),goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent),goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution),goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS),goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS),goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS),goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS),goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS),goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS),goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS),goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS),goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS),goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle),
goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature),goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext),goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState),goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context),goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext),goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get),goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent),goog.exportProperty(ol.render.Feature.prototype,"getId",ol.render.Feature.prototype.getId),goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry),goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties),goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType),goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature),goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.ImageLayer",ol.renderer.canvas.ImageLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.Map",ol.renderer.canvas.Map,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.TileLayer",ol.renderer.canvas.TileLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.VectorLayer",ol.renderer.canvas.VectorLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.VectorTileLayer",ol.renderer.canvas.VectorTileLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.ImageLayer",ol.renderer.webgl.ImageLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.Map",ol.renderer.webgl.Map,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.TileLayer",ol.renderer.webgl.TileLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.VectorLayer",ol.renderer.webgl.VectorLayer,OPENLAYERS),goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS),goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS),goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS),goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey),goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet),goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS),goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig),goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig),goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig),goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS),goog.exportProperty(ol.source.Cluster.prototype,"getDistance",ol.source.Cluster.prototype.getDistance),goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource),goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance),goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS),goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image),goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS),goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction),goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS),goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS),goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource),goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle),goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction),goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle),goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS),goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams),goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams),goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS),goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS),goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS),goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation),goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent),goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution),goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data),goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS),goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions),goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo),goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection),goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState),goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh),goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions),goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS),goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS),goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid),goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile),goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams),goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS),goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS),goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection),goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS),goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON),goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate),goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution),goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS),goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams),goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams),goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls),goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl),goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls),goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS),goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature),goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures),goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear),goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById),goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat),goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl),goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature),goog.exportProperty(ol.source.Vector.prototype,"setLoader",ol.source.Vector.prototype.setLoader),goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature),goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS),goog.exportProperty(ol.source.VectorTile.prototype,"clear",ol.source.VectorTile.prototype.clear),goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS),goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions),goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat),goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer),goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet),goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding),goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle),goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion),goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions),goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS),goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS),goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS),goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS),goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea),goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance),goog.exportSymbol("ol.Sphere.getLength",ol.Sphere.getLength,OPENLAYERS),goog.exportSymbol("ol.Sphere.getArea",ol.Sphere.getArea,OPENLAYERS),goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS),goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS),goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius),goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS),goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone),goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor),goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor),goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS),goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone),goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor),goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor),goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage),goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin),goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc),goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize),goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load),goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS),goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity),goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView),goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation),goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale),goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel);return goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity),goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation),goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale),goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS),goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone),goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor),goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle),goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill),goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage),goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin),goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2),goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize),goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke),goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS),goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone),goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor),goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap),goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash),goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth),goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor),goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap),goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash),goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth),goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS),goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone),goog.exportProperty(ol.style.Style.prototype,"getRenderer",ol.style.Style.prototype.getRenderer),goog.exportProperty(ol.style.Style.prototype,"setRenderer",ol.style.Style.prototype.setRenderer),goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry),goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction),goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill),goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill),goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage),goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage),goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke),goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke),goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText),goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText),goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex),goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry),goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex),goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS),goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone),goog.exportProperty(ol.style.Text.prototype,"getExceedLength",ol.style.Text.prototype.getExceedLength),goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont),goog.exportProperty(ol.style.Text.prototype,"getMaxAngle",ol.style.Text.prototype.getMaxAngle),goog.exportProperty(ol.style.Text.prototype,"getPlacement",ol.style.Text.prototype.getPlacement),goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX),goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY),goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill),goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView),goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation),goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale),goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke),goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText),goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign),goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline),goog.exportProperty(ol.style.Text.prototype,"setExceedLength",ol.style.Text.prototype.setExceedLength),goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont),goog.exportProperty(ol.style.Text.prototype,"setMaxAngle",ol.style.Text.prototype.setMaxAngle),goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX),goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY),goog.exportProperty(ol.style.Text.prototype,"setPlacement",ol.style.Text.prototype.setPlacement),goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill),goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation),goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale),goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke),goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText),goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign),goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline),goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord),goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load),goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution),goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds),goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS),goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS),goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat),goog.exportProperty(ol.VectorTile.prototype,"getFeatures",ol.VectorTile.prototype.getFeatures),goog.exportProperty(ol.VectorTile.prototype,"getProjection",ol.VectorTile.prototype.getProjection),goog.exportProperty(ol.VectorTile.prototype,"setExtent",ol.VectorTile.prototype.setExtent),goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures),goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection),goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader),goog.exportSymbol("ol.View",ol.View,OPENLAYERS),goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate),goog.exportProperty(ol.View.prototype,"getAnimating",ol.View.prototype.getAnimating),goog.exportProperty(ol.View.prototype,"getInteracting",ol.View.prototype.getInteracting),goog.exportProperty(ol.View.prototype,"cancelAnimations",ol.View.prototype.cancelAnimations),goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter),goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution),goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation),goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter),goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent),goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution),goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution),goog.exportProperty(ol.View.prototype,"getMaxZoom",ol.View.prototype.getMaxZoom),goog.exportProperty(ol.View.prototype,"setMaxZoom",ol.View.prototype.setMaxZoom),goog.exportProperty(ol.View.prototype,"getMinZoom",ol.View.prototype.getMinZoom),goog.exportProperty(ol.View.prototype,"setMinZoom",ol.View.prototype.setMinZoom),goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection),goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution),goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions),goog.exportProperty(ol.View.prototype,"getResolutionForExtent",ol.View.prototype.getResolutionForExtent),goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation),goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom),goog.exportProperty(ol.View.prototype,"getZoomForResolution",ol.View.prototype.getZoomForResolution),goog.exportProperty(ol.View.prototype,"getResolutionForZoom",ol.View.prototype.getResolutionForZoom),goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit),goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn),goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate),goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter),goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution),goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation),goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom),goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL),goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram),goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS),goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed),goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent),goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision),goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on),goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once),goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un),goog.exportProperty(ol.PluggableMap.prototype,"get",ol.PluggableMap.prototype.get),goog.exportProperty(ol.PluggableMap.prototype,"getKeys",ol.PluggableMap.prototype.getKeys),goog.exportProperty(ol.PluggableMap.prototype,"getProperties",ol.PluggableMap.prototype.getProperties),goog.exportProperty(ol.PluggableMap.prototype,"set",ol.PluggableMap.prototype.set),goog.exportProperty(ol.PluggableMap.prototype,"setProperties",ol.PluggableMap.prototype.setProperties),goog.exportProperty(ol.PluggableMap.prototype,"unset",ol.PluggableMap.prototype.unset),goog.exportProperty(ol.PluggableMap.prototype,"changed",ol.PluggableMap.prototype.changed),goog.exportProperty(ol.PluggableMap.prototype,"dispatchEvent",ol.PluggableMap.prototype.dispatchEvent),goog.exportProperty(ol.PluggableMap.prototype,"getRevision",ol.PluggableMap.prototype.getRevision),goog.exportProperty(ol.PluggableMap.prototype,"on",ol.PluggableMap.prototype.on),goog.exportProperty(ol.PluggableMap.prototype,"once",ol.PluggableMap.prototype.once),goog.exportProperty(ol.PluggableMap.prototype,"un",ol.PluggableMap.prototype.un),goog.exportProperty(ol.CanvasMap.prototype,"addControl",ol.CanvasMap.prototype.addControl),goog.exportProperty(ol.CanvasMap.prototype,"addInteraction",ol.CanvasMap.prototype.addInteraction),goog.exportProperty(ol.CanvasMap.prototype,"addLayer",ol.CanvasMap.prototype.addLayer),goog.exportProperty(ol.CanvasMap.prototype,"addOverlay",ol.CanvasMap.prototype.addOverlay),goog.exportProperty(ol.CanvasMap.prototype,"forEachFeatureAtPixel",ol.CanvasMap.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"getFeaturesAtPixel",ol.CanvasMap.prototype.getFeaturesAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"forEachLayerAtPixel",ol.CanvasMap.prototype.forEachLayerAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"hasFeatureAtPixel",ol.CanvasMap.prototype.hasFeatureAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"getEventCoordinate",ol.CanvasMap.prototype.getEventCoordinate),goog.exportProperty(ol.CanvasMap.prototype,"getEventPixel",ol.CanvasMap.prototype.getEventPixel),goog.exportProperty(ol.CanvasMap.prototype,"getTarget",ol.CanvasMap.prototype.getTarget),goog.exportProperty(ol.CanvasMap.prototype,"getTargetElement",ol.CanvasMap.prototype.getTargetElement),
goog.exportProperty(ol.CanvasMap.prototype,"getCoordinateFromPixel",ol.CanvasMap.prototype.getCoordinateFromPixel),goog.exportProperty(ol.CanvasMap.prototype,"getControls",ol.CanvasMap.prototype.getControls),goog.exportProperty(ol.CanvasMap.prototype,"getOverlays",ol.CanvasMap.prototype.getOverlays),goog.exportProperty(ol.CanvasMap.prototype,"getOverlayById",ol.CanvasMap.prototype.getOverlayById),goog.exportProperty(ol.CanvasMap.prototype,"getInteractions",ol.CanvasMap.prototype.getInteractions),goog.exportProperty(ol.CanvasMap.prototype,"getLayerGroup",ol.CanvasMap.prototype.getLayerGroup),goog.exportProperty(ol.CanvasMap.prototype,"getLayers",ol.CanvasMap.prototype.getLayers),goog.exportProperty(ol.CanvasMap.prototype,"getPixelFromCoordinate",ol.CanvasMap.prototype.getPixelFromCoordinate),goog.exportProperty(ol.CanvasMap.prototype,"getSize",ol.CanvasMap.prototype.getSize),goog.exportProperty(ol.CanvasMap.prototype,"getView",ol.CanvasMap.prototype.getView),goog.exportProperty(ol.CanvasMap.prototype,"getViewport",ol.CanvasMap.prototype.getViewport),goog.exportProperty(ol.CanvasMap.prototype,"renderSync",ol.CanvasMap.prototype.renderSync),goog.exportProperty(ol.CanvasMap.prototype,"render",ol.CanvasMap.prototype.render),goog.exportProperty(ol.CanvasMap.prototype,"removeControl",ol.CanvasMap.prototype.removeControl),goog.exportProperty(ol.CanvasMap.prototype,"removeInteraction",ol.CanvasMap.prototype.removeInteraction),goog.exportProperty(ol.CanvasMap.prototype,"removeLayer",ol.CanvasMap.prototype.removeLayer),goog.exportProperty(ol.CanvasMap.prototype,"removeOverlay",ol.CanvasMap.prototype.removeOverlay),goog.exportProperty(ol.CanvasMap.prototype,"setLayerGroup",ol.CanvasMap.prototype.setLayerGroup),goog.exportProperty(ol.CanvasMap.prototype,"setSize",ol.CanvasMap.prototype.setSize),goog.exportProperty(ol.CanvasMap.prototype,"setTarget",ol.CanvasMap.prototype.setTarget),goog.exportProperty(ol.CanvasMap.prototype,"setView",ol.CanvasMap.prototype.setView),goog.exportProperty(ol.CanvasMap.prototype,"updateSize",ol.CanvasMap.prototype.updateSize),goog.exportProperty(ol.CanvasMap.prototype,"get",ol.CanvasMap.prototype.get),goog.exportProperty(ol.CanvasMap.prototype,"getKeys",ol.CanvasMap.prototype.getKeys),goog.exportProperty(ol.CanvasMap.prototype,"getProperties",ol.CanvasMap.prototype.getProperties),goog.exportProperty(ol.CanvasMap.prototype,"set",ol.CanvasMap.prototype.set),goog.exportProperty(ol.CanvasMap.prototype,"setProperties",ol.CanvasMap.prototype.setProperties),goog.exportProperty(ol.CanvasMap.prototype,"unset",ol.CanvasMap.prototype.unset),goog.exportProperty(ol.CanvasMap.prototype,"changed",ol.CanvasMap.prototype.changed),goog.exportProperty(ol.CanvasMap.prototype,"dispatchEvent",ol.CanvasMap.prototype.dispatchEvent),goog.exportProperty(ol.CanvasMap.prototype,"getRevision",ol.CanvasMap.prototype.getRevision),goog.exportProperty(ol.CanvasMap.prototype,"on",ol.CanvasMap.prototype.on),goog.exportProperty(ol.CanvasMap.prototype,"once",ol.CanvasMap.prototype.once),goog.exportProperty(ol.CanvasMap.prototype,"un",ol.CanvasMap.prototype.un),goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get),goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys),goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties),goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set),goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties),goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset),goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed),goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent),goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision),goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on),goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once),goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un),goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type),goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target),goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault),goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation),goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get),goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys),goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties),goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set),goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties),goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset),goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed),goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent),goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision),goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on),goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once),goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un),goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap),goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap),goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget),goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get),goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys),goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties),goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set),goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties),goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset),goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed),goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent),goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision),goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on),goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once),goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un),goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap),goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap),goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget),goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get),goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys),goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties),goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set),goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties),goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset),goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed),goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent),goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision),goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on),goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once),goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un),goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap),goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap),goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget),goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get),goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys),goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties),goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set),goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties),goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset),goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed),goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent),goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision),goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on),goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once),goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un),goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget),goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get),goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys),goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set),goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset),goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed),goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent),goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision),goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on),goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once),goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un),goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap),goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap),goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget),goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get),goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys),goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties),goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set),goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties),goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset),goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed),goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent),goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision),goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on),goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once),goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un),goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget),goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get),goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys),goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set),goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset),goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed),goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent),goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision),goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on),goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once),goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un),goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap),goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap),goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget),goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get),goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys),goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties),goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set),goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties),goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset),goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed),goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent),goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision),goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on),goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once),goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un),goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget),goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get),goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys),goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set),goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset),goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed),goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision),goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on),goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once),goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget),goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset),goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed),goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision),goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on),goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once),goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un),goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get),goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys),goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set),goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset),goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed),goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent),goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision),goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on),goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once),goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un),goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get),goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys),goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties),goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set),goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties),goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset),goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed),goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent),goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision),goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on),goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once),goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un),goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures),goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures),goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures),goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get),goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys),goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties),goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set),goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties),goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset),goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed),goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent),goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision),goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on),goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once),goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un),goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get),goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys),goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties),goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set),goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties),goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset),goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed),goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision),goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on),goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once),goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un),goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout),goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate),goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale),goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint),goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent),goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify),goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get),goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys),goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties),goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set),goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties),goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset),goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed),goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent),goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision),goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on),goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once),goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale),goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify),goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset),goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed),goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision),goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on),goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once),goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un),goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout),goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate),goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale),goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint),goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent),goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify),goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform),goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get),goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys),goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set),goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset),
goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed),goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent),goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision),goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on),goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once),goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un),goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout),goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate),goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale),goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent),goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify),goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform),goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get),goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys),goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties),goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set),goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties),goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset),goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed),goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision),goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on),goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once),goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un),goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout),goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate),goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale),goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify),goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform),goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get),goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys),goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set),goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset),goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed),goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision),goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on),goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once),goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un),goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout),goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate),goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale),goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify),goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform),goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get),goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys),goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set),goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset),goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed),goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision),goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on),goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once),goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout),goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify),goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform),goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset),goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed),goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision),goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on),goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once),goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un),goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout),goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate),goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale),goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint),goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent),goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify),goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform),goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get),goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys),goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties),goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set),goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties),goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset),goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed),goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent),goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision),goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on),goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once),goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un),goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout),goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate),goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale),goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent),goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify),goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform),goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get),goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys),goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties),goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set),goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties),goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset),goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed),goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision),goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on),goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once),goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un),goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord),goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load),goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get),goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys),goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set),goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset),goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed),goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision),goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on),goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once),goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive),goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap),goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive),goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get),goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys),goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set),goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset),goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed),goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision),goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on),goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once),goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un),goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive),goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap),goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive),goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get),goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys),goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set),goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset),goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed),goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision),goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on),goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once),goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive),goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap),goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive),goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get),goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys),goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set),goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset),goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed),goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision),goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on),goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once),goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un),goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap),goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get),goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set),goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset),goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed),goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on),goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once),goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un),goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry),goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get),goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set),goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset),goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed),goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on),goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once),goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un),goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive),goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap),goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive),goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get),goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys),goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties),goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set),goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties),goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset),goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed),goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision),goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on),goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once),goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un),goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type),goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target),goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation),
goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive),goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap),goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive),goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get),goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys),goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties),goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set),goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties),goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset),goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed),goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision),goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on),goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once),goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un),goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type),goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target),goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un),goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive),goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap),goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive),goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get),goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys),goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties),goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set),goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties),goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset),goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed),goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision),goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on),goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once),goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un),goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type),goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target),goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset),goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed),goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision),goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on),goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once),goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset),goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed),goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision),goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on),goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once),goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un),goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive),goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap),goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive),goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get),goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys),goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties),goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set),goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties),goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset),goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed),goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision),goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on),goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once),goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un),goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type),goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target),goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive),goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap),goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive),goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get),goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys),goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties),goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set),goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties),goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset),goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed),goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision),goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on),goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once),goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un),goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive),goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap),goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive),goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get),goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys),goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties),goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set),goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties),goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset),goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed),goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision),goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on),goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once),goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un),goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type),goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target),goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation),goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get),goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys),goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties),goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set),goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties),goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset),goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed),goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent),goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision),goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on),goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once),goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un),goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent),goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution),goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity),goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible),goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex),goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent),goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution),goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity),goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible),goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex),goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get),goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys),goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties),goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set),goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties),goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset),goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed),goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent),goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision),goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on),goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once),goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un),goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent),goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity),goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible),goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex),goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent),goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity),goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible),goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex),goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get),goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys),goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties),goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set),goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties),goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset),goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed),goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision),goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on),goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once),goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un),goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap),goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource),goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent),goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity),goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible),goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex),goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent),goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity),goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible),goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex),goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get),goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys),goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties),goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set),goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties),goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset),goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed),goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent),goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision),goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on),goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once),goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un),goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction),goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap),goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get),goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys),goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set),goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset),goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed),goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent),goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision),goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on),goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once),goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un),goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap),goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource),goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent),goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution),goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity),goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible),goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex),goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent),goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution),goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity),goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible),goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex),goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get),goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys),goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties),goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set),goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties),goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset),goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed),goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent),goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision),goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on),goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once),goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un),goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap),goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource),goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent),
goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity),goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible),goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex),goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent),goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity),goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible),goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex),goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get),goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys),goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties),goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set),goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties),goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset),goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed),goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent),goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision),goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on),goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once),goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction),goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap),goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource),goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get),goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys),goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set),goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset),goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed),goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision),goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on),goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once),goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un),goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl),goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction),goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer),goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay),goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getFeaturesAtPixel",ol.Map.prototype.getFeaturesAtPixel),goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel),goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate),goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel),goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget),goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement),goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel),goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls),goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays),goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById),goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions),goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup),goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers),goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate),goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize),goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView),goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport),goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync),goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render),goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl),goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction),goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer),goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay),goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup),goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize),goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget),goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView),goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize),goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get),goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys),goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties),goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set),goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties),goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset),goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed),goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent),goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision),goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on),goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once),goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un),goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type),goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target),goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault),goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map),goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type),goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target),goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type),goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault),goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation),goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get),goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys),goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties),goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set),goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties),goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset),goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed),goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent),goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision),goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on),goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once),goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un),goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type),goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target),goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault),goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation),goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type),goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target),goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault),goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation),goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed),goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on),goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once),goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un),goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord),goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load),goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get),goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys),goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties),goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set),goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties),goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset),goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed),goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent),goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision),goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on),goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once),goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un),goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions),goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo),goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection),goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState),goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh),goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions),goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get),goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys),goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties),goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set),goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties),goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset),goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed),goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent),goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision),goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on),goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once),goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un),goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid),goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh),goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo),goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection),goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState),goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get),goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys),goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties),goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set),goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties),goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset),goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed),goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent),goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision),goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on),goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once),goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un),goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls),goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl),goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls),goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid),goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh),goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions),goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo),goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection),goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState),goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions),goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get),goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys),goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties),goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set),goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties),goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset),goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed),goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent),goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision),goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on),goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once),goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un),goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls),goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl),goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls),goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid),goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh),goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo),goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState),goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get),goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys),goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties),goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set),goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties),goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset),goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed),goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent),goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision),goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on),goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once),goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un),goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection),goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls),goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction),
goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl),goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls),goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid),goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh),goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions),goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo),goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection),goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState),goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions),goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get),goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys),goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties),goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set),goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties),goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset),goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed),goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent),goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision),goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on),goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once),goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un),goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls),goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl),goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls),goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid),goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh),goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo),goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState),goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get),goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys),goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties),goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set),goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties),goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset),goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed),goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent),goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision),goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on),goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once),goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un),goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions),goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo),goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection),goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState),goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh),goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions),goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get),goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys),goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties),goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set),goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties),goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset),goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed),goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent),goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision),goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on),goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once),goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un),goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature),goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures),goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById),goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat),goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl),goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature),goog.exportProperty(ol.source.Cluster.prototype,"setLoader",ol.source.Cluster.prototype.setLoader),goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions),goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo),goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection),goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState),goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh),goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions),goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get),goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys),goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties),goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set),goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties),goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset),goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed),goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent),goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision),goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on),goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once),goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un),goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions),goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo),goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection),goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState),goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh),goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions),goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get),goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys),goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties),goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set),goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties),goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset),goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed),goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent),goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision),goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on),goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once),goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un),goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type),goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target),goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault),goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un),goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection),goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState),goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh),goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get),goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set),goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset),goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed),goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision),goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on),goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once),goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState),goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset),goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed),goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision),goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on),goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once),goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un),goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo),goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection),goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState),goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh),goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get),goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys),goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set),goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset),goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed),goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision),goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on),goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once),goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un),goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo),goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection),goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState),goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh),goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get),goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys),goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties),goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set),goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties),goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset),goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed),goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision),goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on),goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once),goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un),goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo),goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection),goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState),goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh),goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get),goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys),goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set),goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset),goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed),goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision),goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on),goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once),goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un),goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection),goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls),goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl),goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls),goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid),goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh),goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions),goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo),goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection),goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState),goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions),goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get),goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys),goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties),goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set),goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties),goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset),goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed),goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent),goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision),goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on),goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once),goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un),goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions),goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo),goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection),goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState),goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh),goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions),goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get),goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys),goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties),goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set),goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties),goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset),goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed),goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent),goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision),goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on),goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once),goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un),goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type),goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target),goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault),goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation),goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls),goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl),goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls),goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid),goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh),goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions),goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo),goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection),goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState),goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions),goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get),goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys),goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties),goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set),goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties),goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset),goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed),goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent),goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision),goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on),goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once),goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un),goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type),goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target),goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault),goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges),
goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid),goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset),goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed),goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on),goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once),goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un),goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid),goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh),goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo),goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection),goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState),goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get),goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys),goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties),goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set),goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties),goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset),goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed),goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent),goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision),goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on),goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once),goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un),goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls),goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl),goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls),goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid),goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh),goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo),goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState),goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get),goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys),goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties),goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set),goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties),goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset),goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed),goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent),goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision),goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on),goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once),goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid),goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset),goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed),goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision),goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on),goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once),goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un),goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls),goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl),goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls),goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid),goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh),goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo),goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState),goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get),goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys),goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties),goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set),goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties),goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset),goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed),goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision),goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on),goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once),goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un),goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type),goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target),goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault),goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation),goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls),goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl),goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls),goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid),goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh),goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo),goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection),goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState),goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get),goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys),goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties),goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set),goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties),goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset),goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed),goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision),goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on),goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once),goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un),goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls),goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl),goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls),goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid),goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh),goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions),goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo),goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection),goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState),goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions),goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get),goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys),goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties),goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set),goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties),goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset),goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed),goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent),goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision),goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on),goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once),goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un),goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls),goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl),goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls),goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid),goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh),goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo),goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState),goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get),goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys),goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties),goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set),goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties),goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset),goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed),goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent),goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision),goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on),goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once),goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un),goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView),goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation),goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale),goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel),goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation),goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale),goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone),goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle),goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill),goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints),goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius),goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2),goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke),goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity),goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView),goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation),goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale),goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel),goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity),goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation),goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale),goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity),goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView),goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation),goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale),goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel),goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity),goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation),goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale),goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution),goog.exportProperty(ol.VectorImageTile.prototype,"getTileCoord",ol.VectorImageTile.prototype.getTileCoord),goog.exportProperty(ol.VectorImageTile.prototype,"load",ol.VectorImageTile.prototype.load),goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord),goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load),goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get),goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys),goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties),goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set),goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties),goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset),goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed),goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent),goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision),goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on),goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once),goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un),ol.VERSION="v4.4.2",OPENLAYERS.ol=ol,OPENLAYERS.ol}),ol.Feature.prototype.getLayer=function(){if(this.isCluster()){return this.get("features")[0].get("layer")}return this.get("layer")},ol.Feature.prototype.getLayerByErgodic=function(e){var o,t=this,r=[],i=function(e){var o=e.getSource();if(o instanceof ol.source.Vector){var t=o.getFeatures();t.length>0&&r.push({layer:e,features:t})}};return e.getLayers().forEach(function(e){e instanceof ol.layer.Group?e.getLayers().forEach(i):i(e)}),r.forEach(function(e){e.features.some(function(e){return t===e})&&(o=e.layer)}),o},ol.Feature.prototype.isCluster=function(){var e=this.get("features");return null!=e&&e.length>0},ol.Feature.prototype.isPlot=function(){return this.get("isPlot")},ol.Feature.prototype.isClusterAndIsolate=function(){var e=this.get("features");return null!=e&&1==e.length},ol.Feature.prototype.getType=function(){return this.isPlot()?this.get("plotType"):this.getGeometry().getType()},ol.Feature.prototype.getGeoType=function(){},ol.Feature.prototype.getWeight=function(){var e=0;if(this.get("features")){this.get("features").forEach(function(o){o.get("weight")?e+=o.get("weight"):e+=1})}else e=this.get("weight")?this.get("weight"):1;return e},ol.Feature.prototype.getCount=function(){var e=1;if(this.get("features")){e=this.get("features").length}return e},ol.Feature.prototype.recordCommonField=function(e,o){for(var t=0;t<o.length;t++)e.hasOwnProperty(o[t])&&this.set(o[t],e[o[t]]);return this},ol.Feature.prototype.getWgs84Coord=function(e){$.isUndefined(e)&&(e=4);var o=this.get("coord84");return o||(o=this.getGeometry().get("coord84")),o||(o=this.getGeometry().getCoordinates()),o},ol.Feature.prototype.transform=function(e,o){if(e!=o){var t=this.getGeoType().toLowerCase();"point"==t||"polygon"==t?this.getWgs84Coord()&&(this.getGeometry().setCoordinates(FUtil.transform(this.getWgs84Coord(),"EPSG:4326",o)),this.setGeometry().changed()):this.getGeometry().transform(e,o)}},ol.Feature.prototype.cacheWgs84=function(e){this.set("coord84",e)},ol.Feature.prototype.cacheClients=function(e,o){this.set("clients",e),o?this.setId(o):e.id?this.setId(e.id):this.setId($.uuid())},ol.Feature.prototype.cacheCommonFields=function(e,o){for(var t=0;t<o.length;t++)e.hasOwnProperty(o[t])&&this.set(o[t],e[o[t]])},ol.Feature.prototype.getClients=function(){return this.get("clients")},ol.Feature.prototype.setClients=function(e){this.set("clients",e)},ol.Feature.prototype.getClient=function(){return this.get("clients")},ol.Feature.prototype.getGeoInfo=function(){},ol.Feature.prototype.cacheGeoInfo=function(e,o,t,r){this.set("radius",r),this.set("center",t)},ol.Feature.prototype.updateStyle=function(e){var o=fc.map.FLayer.prototype._createOriginStyle({style:e});this.setStyle(o),this.set("_fstyle",e)},ol.Feature.prototype._getProjUnit=function(){var e="m",o=this.getGeometry().getFirstCoordinate();return(o[0]<1e3||o[1]<100)&&(e="d"),e},ol.Overlay.prototype.show=function(){this.getElement().style.display="block"},ol.Overlay.prototype.hide=function(){this.getElement().style.display="none"},ol.layer.AnimatedCluster=function(e){var o=e||{};ol.layer.Vector.call(this,o),this.oldcluster=new ol.source.Vector,this.clusters=[],this.animation={start:!1},this.set("animationDuration","number"==typeof o.animationDuration?o.animationDuration:700),this.set("animationMethod",o.animationMethod||ol.easing.easeOut),this.getSource().on("change",this.saveCluster,this),this.on("precompose",this.animate,this),this.on("postcompose",this.postanimate,this)},ol.inherits(ol.layer.AnimatedCluster,ol.layer.Vector),ol.layer.AnimatedCluster.prototype.saveCluster=function(){if(this.oldcluster.clear(),this.get("animationDuration")){var e=this.getSource().getFeatures();e.length&&e[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=e.slice(0),this.sourceChanged=!0)}},ol.layer.AnimatedCluster.prototype.getClusterForFeature=function(e,o){for(var t=0;o[t];t++){var r=o[t].get("features");if(r&&r.length)for(var i,n=0;i=r[n];n++)if(e===i)return o[t]}return!1},ol.layer.AnimatedCluster.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},ol.layer.AnimatedCluster.prototype.animate=function(e){var o=this.get("animationDuration");if(o){var t=e.frameState.viewState.resolution,r=this.animation,i=e.frameState.time;if(r.resolution!=t&&this.sourceChanged){var n=e.frameState.extent;r.resolution<t?(n=ol.extent.buffer(n,100*t),r.cA=this.oldcluster.getFeaturesInExtent(n),r.cB=this.getSource().getFeaturesInExtent(n),r.revers=!1):(n=ol.extent.buffer(n,100*t),r.cA=this.getSource().getFeaturesInExtent(n),r.cB=this.oldcluster.getFeaturesInExtent(n),r.revers=!0),r.clusters=[];for(var l,a=0;l=r.cA[a];a++){var p=l.get("features")
;if(p&&p.length){var g=this.getClusterForFeature(p[0],r.cB);g&&r.clusters.push({f:l,pt:g.getGeometry().getCoordinates()})}}if(r.resolution=t,this.sourceChanged=!1,!r.clusters.length||r.clusters.length>1e3)return void this.stopAnimation();i=r.start=(new Date).getTime()}if(r.start){var c=e.vectorContext,u=(i-r.start)/o;u>1&&(this.stopAnimation(),u=1),u=this.get("animationMethod")(u);var y=this.getStyle(),h="function"==typeof y?y:y.length?function(){return y}:function(){return[y]};e.context.save(),e.context.globalAlpha=this.getOpacity();for(var g,d=e.frameState.pixelRatio,a=0;g=r.clusters[a];a++){var m=g.f.getGeometry().getCoordinates();r.revers?(m[0]=g.pt[0]+u*(m[0]-g.pt[0]),m[1]=g.pt[1]+u*(m[1]-g.pt[1])):(m[0]=m[0]+u*(g.pt[0]-m[0]),m[1]=m[1]+u*(g.pt[1]-m[1]));for(var f=h(g.f,t),_=new ol.geom.Point(m),v=0;s=f[v];v++){var S,x=!ol.Map.prototype.getFeaturesAtPixel&&s.getImage();x&&(S=x.getScale(),x.setScale(S*d)),c.setStyle?(c.setStyle(s),c.drawGeometry(_)):(c.setImageStyle(x),c.setTextStyle(s.getText()),c.drawPointGeometry(_)),x&&x.setScale(S)}}e.context.restore(),e.frameState.animate=!0,e.context.save(),e.context.beginPath(),e.context.rect(0,0,0,0),e.context.clip(),this.clip_=!0}}},ol.layer.AnimatedCluster.prototype.postanimate=function(e){this.clip_&&(e.context.restore(),this.clip_=!1)},ol.events.condition.ctrlKeyOnly=function(e){var o=e.originalEvent;return o.ctrlKey&&!o.metaKey&&!o.shiftKey};
/*!
 * ol3-contextmenu - v2.5.0
 * Custom Context Menu for Openlayers
 * https://github.com/jonataswalker/ol3-contextmenu
 * Built: Fri Nov 10 2017 09:09:35 GMT+0800 (中国标准时间)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ContextMenu=e()}(this,function(){"use strict";var t="ol-ctx-menu",e={BEFOREOPEN:"beforeopen",OPEN:"open",CLOSE:"close",ADD_MENU_ENTRY:"add-menu-entry",CONTEXTMENU:"contextmenu",HOVER:"mouseover"},n={container:t+"-container",separator:t+"-separator",submenu:t+"-submenu",hidden:t+"-hidden",icon:t+"-icon",zoomIn:t+"-zoom-in",zoomOut:t+"-zoom-out",OL_unselectable:"ol-unselectable"},i={width:150,scrollAt:4,eventType:e.CONTEXTMENU,defaultItems:!0},s=[{text:"放大",classname:[n.zoomIn,n.icon].join(" "),callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()+1,duration:700,center:t.coordinate})}},{text:"缩小",classname:[n.zoomOut,n.icon].join(" "),callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()-1,duration:700,center:t.coordinate})}}],o={isNumeric:function(t){return/^\d+$/.test(t)},classRegex:function(t){return new RegExp("(^|\\s+) "+t+" (\\s+|$)")},addClass:function(t,e,n){var i=this;if(Array.isArray(t))return void t.forEach(function(t){i.addClass(t,e)});for(var s=Array.isArray(e)?e:e.split(/\s+/),o=s.length;o--;)i.hasClass(t,s[o])||i._addClass(t,s[o],n)},_addClass:function(t,e,n){var i=this;t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim(),n&&this.isNumeric(n)&&window.setTimeout(function(){i._removeClass(t,e)},n)},removeClass:function(t,e,n){var i=this;if(Array.isArray(t))return void t.forEach(function(t){i.removeClass(t,e,n)});for(var s=Array.isArray(e)?e:e.split(/\s+/),o=s.length;o--;)i.hasClass(t,s[o])&&i._removeClass(t,s[o],n)},_removeClass:function(t,e,n){var i=this;t.classList?t.classList.remove(e):t.className=t.className.replace(this.classRegex(e)," ").trim(),n&&this.isNumeric(n)&&window.setTimeout(function(){i._addClass(t,e)},n)},hasClass:function(t,e){return t.classList?t.classList.contains(e):this.classRegex(e).test(t.className)},toggleClass:function(t,e){var n=this;if(Array.isArray(t))return void t.forEach(function(t){n.toggleClass(t,e)});t.classList?t.classList.toggle(e):this.hasClass(t,e)?this._removeClass(t,e):this._addClass(t,e)},$:function(t){return t="#"===t[0]?t.substr(1,t.length):t,document.getElementById(t)},isElement:function(t){return"HTMLElement"in window?!!t&&t instanceof HTMLElement:!!t&&"object"==typeof t&&1===t.nodeType&&!!t.nodeName},find:function(t,e,n){void 0===e&&(e=window.document);var i=/^(#?[\w-]+|\.[\w-.]+)$/,s=/\./g,o=Array.prototype.slice,a=[];if(i.test(t))switch(t[0]){case"#":a=[this.$(t.substr(1))];break;case".":a=o.call(e.getElementsByClassName(t.substr(1).replace(s," ")));break;default:a=o.call(e.getElementsByTagName(t))}else a=o.call(e.querySelectorAll(t));return n?a:a[0]},offset:function(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+window.pageXOffset-n.clientLeft,top:e.top+window.pageYOffset-n.clientTop,width:t.offsetWidth,height:t.offsetHeight}},getViewportSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}},getAllChildren:function(t,e){return[].slice.call(t.getElementsByTagName(e))},isEmpty:function(t){return!t||0===t.length},emptyArray:function(t){for(;t.length;)t.pop()},removeAllChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},mergeOptions:function(t,e){var n={};for(var i in t)n[i]=t[i];for(var s in e)n[s]=e[s];return n},createFragment:function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e},contains:function(t,e){return!!~e.indexOf(t)},getUniqueId:function(){return"_"+Math.random().toString(36).substr(2,9)},isDefAndNotNull:function(t){return null!=t},assertEqual:function(t,e,n){if(t!==e)throw new Error(n+" mismatch: "+t+" != "+e)},assert:function(t,e){if(void 0===e&&(e="Assertion failed"),!t){if("undefined"!=typeof Error)throw new Error(e);throw e}}},a=function(t){return this.Base=t,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:t.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this};a.prototype.init=function(t){this.map=t,this.viewport=t.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},a.prototype.getItemsLength=function(){var t=this,e=0;return Object.keys(this.items).forEach(function(n){t.items[n].submenu||t.items[n].separator||e++}),e},a.prototype.getPixelClicked=function(){return this.pixelClicked},a.prototype.getCoordinateClicked=function(){return this.coordinateClicked},a.prototype.positionContainer=function(t){var e=this,i=this.map.getSize(),s=i[0],a=i[1],r=a-t[1],l=s-t[0],c={w:this.Base.container.offsetWidth,h:Math.round(this.lineHeight*this.getItemsLength())},h=o.find("li."+n.submenu+"> div",this.Base.container,!0);l>=c.w?(this.Base.container.style.right="auto",this.Base.container.style.left=t[0]+5+"px"):(this.Base.container.style.left="auto",this.Base.container.style.right="15px"),r>=c.h?(this.Base.container.style.bottom="auto",this.Base.container.style.top=t[1]-10+"px"):(this.Base.container.style.top="auto",this.Base.container.style.bottom=0),o.removeClass(this.Base.container,n.hidden),h.length&&(this.submenu.lastLeft=l<2*c.w?"-"+c.w+"px":this.submenu.left,h.forEach(function(t){var n=o.getViewportSize(),i=o.offset(t),s=i.height,a=r-s;a<0&&(a=s-(n.h-i.top),t.style.top="-"+a+"px"),t.style.left=e.submenu.lastLeft}))},a.prototype.openMenu=function(t,n){this.Base.dispatchEvent({type:e.OPEN,pixel:t,coordinate:n}),this.opened=!0,this.positionContainer(t)},a.prototype.closeMenu=function(){this.opened=!1,o.addClass(this.Base.container,n.hidden),this.Base.dispatchEvent({type:e.CLOSE})},a.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1)},a.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1)},a.prototype.handleEvent=function(t){var n=this;this.coordinateClicked=this.map.getEventCoordinate(t),this.pixelClicked=this.map.getEventPixel(t),this.Base.dispatchEvent({type:e.BEFOREOPEN,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===e.CONTEXTMENU&&(t.stopPropagation(),t.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),t.target.addEventListener("mousedown",{handleEvent:function(e){n.closeMenu(),t.target.removeEventListener(e.type,this,!1)}},!1))},a.prototype.setItemListener=function(t,e){var n=this;t&&"function"==typeof this.items[e].callback&&function(i){t.addEventListener("click",function(t){t.preventDefault();var s={coordinate:n.getCoordinateClicked(),data:n.items[e].data||null};n.closeMenu(),i(s,n.map)},!1)}(this.items[e].callback)};var r=function(t){return this.Base=t,this.Base.container=this.container=this.createContainer(),this};return r.prototype.createContainer=function(t){var e=document.createElement("div"),i=document.createElement("ul"),s=[n.container,n.OL_unselectable];return t&&s.push(n.hidden),e.className=s.join(" "),e.style.width=parseInt(this.Base.options.width,10)+"px",e.appendChild(i),e},r.prototype.createMenu=function(){var t=[];if("items"in this.Base.options?t=this.Base.options.defaultItems?this.Base.options.items.concat(s):this.Base.options.items:this.Base.options.defaultItems&&(t=s),0===t.length)return!1;t.forEach(this.addMenuEntry,this)},r.prototype.addMenuEntry=function(t){var e=this;if(t.items&&Array.isArray(t.items)){t.classname=t.classname||"",o.contains(n.submenu,t.classname)||(t.classname=t.classname.length?" "+n.submenu:n.submenu);var i=this.generateHtmlAndPublish(this.container,t),s=this.createContainer();s.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,i.appendChild(s),t.items.forEach(function(t){e.generateHtmlAndPublish(s,t,!0)})}else this.generateHtmlAndPublish(this.container,t)},r.prototype.generateHtmlAndPublish=function(t,e,i){var s,a,r,l=!1,c=o.getUniqueId();return"string"==typeof e&&"-"===e.trim()?(s=['<li id="',c,'" class="',n.separator,'">',"<hr></li>"].join(""),a=o.createFragment(s),r=[].slice.call(a.childNodes,0)[0],t.firstChild.appendChild(a),l=!0):(e.classname=e.classname||"",s="<span>"+e.text+"</span>",a=o.createFragment(s),r=document.createElement("li"),e.icon&&(""===e.classname?e.classname=n.icon:-1===e.classname.indexOf(n.icon)&&(e.classname+=" "+n.icon),r.setAttribute("style","background-image:url("+e.icon+")")),r.id=c,r.className=e.classname,r.appendChild(a),t.firstChild.appendChild(r)),this.Base.Internal.items[c]={id:c,submenu:i||0,separator:l,callback:e.callback,data:e.data||null},this.Base.Internal.setItemListener(r,c),r},r.prototype.removeMenuEntry=function(t){var e=o.find("#"+t,this.container.firstChild);e&&this.container.firstChild.removeChild(e),delete this.Base.Internal.items[t]},r.prototype.cloneAndGetLineHeight=function(){var t=this.container.cloneNode(),e=o.createFragment("<span>Foo</span>"),n=o.createFragment("<span>Foo</span>"),i=document.createElement("li"),s=document.createElement("li");i.appendChild(e),s.appendChild(n),t.appendChild(i),t.appendChild(s),this.container.parentNode.appendChild(t);var a=t.offsetHeight/2;return this.container.parentNode.removeChild(t),a},function(t){function e(e){void 0===e&&(e={}),o.assert("object"==typeof e,"@param `opt_options` should be object type!"),"default_items"in e&&(i.defaultItems=e.default_items),this.options=o.mergeOptions(i,e),this.disabled=!1,this.Internal=new a(this),this.Html=new r(this),t.call(this,{element:this.container})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){var t=this;Object.keys(this.Internal.items).forEach(function(e){t.Html.removeMenuEntry(e)})},e.prototype.close=function(){this.Internal.closeMenu()},e.prototype.enable=function(){this.disabled=!1},e.prototype.disable=function(){this.disabled=!0},e.prototype.getDefaultItems=function(){return s},e.prototype.extend=function(t){o.assert(Array.isArray(t),"@param `arr` should be an Array."),t.forEach(this.push,this)},e.prototype.isOpened=function(){return this.isOpen()},e.prototype.isOpen=function(){return this.Internal.opened},e.prototype.updatePosition=function(t){o.assert(Array.isArray(t),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(t)},e.prototype.pop=function(){var t=Object.keys(this.Internal.items);this.Html.removeMenuEntry(t[t.length-1])},e.prototype.push=function(t){o.assert(o.isDefAndNotNull(t),"@param `item` must be informed."),this.Html.addMenuEntry(t)},e.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},e.prototype.setMap=function(t){ol.control.Control.prototype.setMap.call(this,t),t?this.Internal.init(t,this):this.Internal.removeListeners()},e}(ol.control.Control)});
//# sourceMappingURL=ol3-contextmenu.js.map
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("olPlot",[],e):"object"==typeof exports?exports.olPlot=e():t.olPlot=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=136)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TextArea="TextArea",e.ARC="Arc",e.CURVE="Curve",e.GATHERING_PLACE="GatheringPlace",e.POLYLINE="Polyline",e.FREE_LINE="FreeLine",e.POINT="Point",e.PENNANT="Pennant",e.RECTANGLE="RectAngle",e.CIRCLE="Circle",e.ELLIPSE="Ellipse",e.LUNE="Lune",e.SECTOR="Sector",e.CLOSED_CURVE="ClosedCurve",e.POLYGON="Polygon",e.FREE_POLYGON="FreePolygon",e.ATTACK_ARROW="AttackArrow",e.DOUBLE_ARROW="DoubleArrow",e.STRAIGHT_ARROW="StraightArrow",e.FINE_ARROW="FineArrow",e.ASSAULT_DIRECTION="AssaultDirection",e.TAILED_SQUAD_COMBAT="TailedSquadCombat",e.TAILED_ATTACK_ARROW="TailedAttackArrow",e.SQUAD_COMBAT="SquadCombat"},function(t,e,n){"use strict";var o=n(7);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var o=n(4),r=n(12),i=n(13),a=n(14),s=n(21),u=function t(e,n,u){var l,c,f,h,p=e&t.F,d=e&t.G,g=e&t.S,y=e&t.P,v=e&t.B,m=d?o:g?o[n]||(o[n]={}):(o[n]||{}).prototype,b=d?r:r[n]||(r[n]={}),w=b.prototype||(b.prototype={});d&&(u=n);for(l in u)c=!p&&m&&void 0!==m[l],f=(c?m:u)[l],h=v&&c?s(f,o):y&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,e&t.U),b[l]!=f&&i(b,l,h),y&&w[l]!=f&&(w[l]=f)};o.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQuadricBSplineFactor=e.getQBSplinePoints=e.getBinomialFactor=e.getFactorial=e.getBezierPoints=e.getCurvePoints=e.getRightMostControlPoint=e.getLeftMostControlPoint=e.getNormal=e.getBisectorNormals=e.getArcPoints=e.inherits=e.getThirdPoint=e.getCubicValue=e.getPointOnLine=e.isClockWise=e.getAngleOfThreePoints=e.getAzimuth=e.getIntersectPoint=e.getCircleCenterOfThreePoints=e.Mid=e.getBaseLength=e.wholeDistance=e.MathDistance=void 0;var o=n(5),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),i=e.MathDistance=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},a=e.wholeDistance=function(t){var e=0;return t&&Array.isArray(t)&&t.length>0&&t.forEach(function(n,o){o<t.length-1&&(e+=i(n,t[o+1]))}),e},s=(e.getBaseLength=function(t){return Math.pow(a(t),.99)},e.Mid=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}),u=(e.getCircleCenterOfThreePoints=function(t,e,n){var o=[(t[0]+e[0])/2,(t[1]+e[1])/2],r=[o[0]-t[1]+e[1],o[1]+t[0]-e[0]],i=[(t[0]+n[0])/2,(t[1]+n[1])/2],a=[i[0]-t[1]+n[1],i[1]+t[0]-n[0]];return u(o,r,i,a)},e.getIntersectPoint=function(t,e,n,o){if(t[1]===e[1]){return[(o[0]-n[0])/(o[1]-n[1])*(t[1]-n[1])+n[0],t[1]]}if(n[1]===o[1]){return[(e[0]-t[0])/(e[1]-t[1])*(n[1]-t[1])+t[0],n[1]]}var r=(e[0]-t[0])/(e[1]-t[1]),i=(o[0]-n[0])/(o[1]-n[1]),a=(r*t[1]-t[0]-i*n[1]+n[0])/(r-i);return[r*a-r*t[1]+t[0],a]}),l=e.getAzimuth=function(t,e){var n=void 0,o=Math.asin(Math.abs(e[1]-t[1])/i(t,e));return e[1]>=t[1]&&e[0]>=t[0]?n=o+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=2*Math.PI-o:e[1]<t[1]&&e[0]<t[0]?n=o:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-o),n},c=(e.getAngleOfThreePoints=function(t,e,n){var o=l(e,t)-l(e,n);return o<0?o+2*Math.PI:o},e.isClockWise=function(t,e,n){return(n[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(n[0]-t[0])}),f=(e.getPointOnLine=function(t,e,n){return[e[0]+t*(n[0]-e[0]),e[1]+t*(n[1]-e[1])]},e.getCubicValue=function(t,e,n,o,r){t=Math.max(Math.min(t,1),0);var i=1-t,a=t*t,s=a*t,u=i*i,l=u*i;return[l*e[0]+3*u*t*n[0]+3*i*a*o[0]+s*r[0],l*e[1]+3*u*t*n[1]+3*i*a*o[1]+s*r[1]]}),h=(e.getThirdPoint=function(t,e,n,o,r){var i=l(t,e),a=r?i+n:i-n,s=o*Math.cos(a),u=o*Math.sin(a);return[e[0]+s,e[1]+u]},e.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,o){var r=Array.prototype.slice.call(arguments,2);return e.prototype[n].apply(t,r)}},e.getArcPoints=function(t,e,n,o){var r=null,i=null,a=[],s=o-n;s=s<0?s+2*Math.PI:s;for(var u=0;u<=100;u++){var l=n+s*u/100;r=t[0]+e*Math.cos(l),i=t[1]+e*Math.sin(l),a.push([r,i])}return a},e.getBisectorNormals=function(t,e,n,o){var a=p(e,n,o),s=null,u=null,l=null,f=null,h=null,d=Math.sqrt(a[0]*a[0]+a[1]*a[1]),g=a[0]/d,y=a[1]/d,v=i(e,n),m=i(n,o);return d>r.ZERO_TOLERANCE?c(e,n,o)?(l=t*v,f=n[0]-l*y,h=n[1]+l*g,s=[f,h],l=t*m,f=n[0]+l*y,h=n[1]-l*g,u=[f,h]):(l=t*v,f=n[0]+l*y,h=n[1]-l*g,s=[f,h],l=t*m,f=n[0]-l*y,h=n[1]+l*g,u=[f,h]):(f=n[0]+t*(e[0]-n[0]),h=n[1]+t*(e[1]-n[1]),s=[f,h],f=n[0]+t*(o[0]-n[0]),h=n[1]+t*(o[1]-n[1]),u=[f,h]),[s,u]}),p=e.getNormal=function(t,e,n){var o=t[0]-e[0],r=t[1]-e[1],i=Math.sqrt(o*o+r*r);o/=i,r/=i;var a=n[0]-e[0],s=n[1]-e[1],u=Math.sqrt(a*a+s*s);return a/=u,s/=u,[o+a,r+s]},d=e.getLeftMostControlPoint=function(t,e){var n=[t[0],t[1],t[2],null,null],o=n[0],a=n[1],u=n[2],l=n[3],c=n[4],f=h(0,o,a,u),d=f[0],g=p(o,a,u);if(Math.sqrt(g[0]*g[0]+g[1]*g[1])>r.ZERO_TOLERANCE){var y=s(o,a),v=o[0]-y[0],m=o[1]-y[1],b=i(o,a),w=2/b,P=-w*m,O=w*v,_=P*P-O*O,E=2*P*O,x=O*O-P*P,k=d[0]-y[0],T=d[1]-y[1];l=y[0]+_*k+E*T,c=y[1]+E*k+x*T}else l=o[0]+e*(a[0]-o[0]),c=o[1]+e*(a[1]-o[1]);return[l,c]},g=e.getRightMostControlPoint=function(t,e){var n=t.length,o=t[n-3],a=t[n-2],u=t[n-1],l=h(0,o,a,u),c=l[1],f=p(o,a,u),d=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=null,y=null;if(d>r.ZERO_TOLERANCE){var v=s(a,u),m=u[0]-v[0],b=u[1]-v[1],w=i(a,u),P=2/w,O=-P*b,_=P*m,E=O*O-_*_,x=2*O*_,k=_*_-O*O,T=c[0]-v[0],C=c[1]-v[1];g=v[0]+E*T+x*C,y=v[1]+x*T+k*C}else g=u[0]+e*(a[0]-u[0]),y=u[1]+e*(a[1]-u[1]);return[g,y]},y=(e.getCurvePoints=function(t,e){for(var n=d(e,t),o=null,i=null,a=null,s=[n],u=[],l=0;l<e.length-2;l++){var c=[e[l],e[l+1],e[l+2]];o=c[0],i=c[1],a=c[2];var p=h(t,o,i,a);s=s.concat(p)}var y=g(e,t);y&&s.push(y);for(var v=0;v<e.length-1;v++){o=e[v],i=e[v+1],u.push(o);for(var m=0;m<r.FITTING_COUNT;m++){var b=f(m/r.FITTING_COUNT,o,s[2*v],s[2*v+1],i);u.push(b)}u.push(i)}return u},e.getBezierPoints=function(t){if(t.length<=2)return t;for(var e=[],n=t.length-1,o=0;o<=1;o+=.01){for(var r=0,i=0,a=0;a<=n;a++){var s=v(n,a),u=Math.pow(o,a),l=Math.pow(1-o,n-a);r+=s*u*l*t[a][0],i+=s*u*l*t[a][1]}e.push([r,i])}return e.push(t[n]),e},e.getFactorial=function(t){var e=1;switch(t){case t<=1:e=1;break;case 2===t:e=2;break;case 3===t:e=6;break;case 24===t:e=24;break;case 5===t:e=120;break;default:for(var n=1;n<=t;n++)e*=n}return e}),v=e.getBinomialFactor=function(t,e){return y(t)/(y(e)*y(t-e))},m=(e.getQBSplinePoints=function(t){if(t.length<=2)return t;var e=[],n=t.length-2-1;e.push(t[0]);for(var o=0;o<=n;o++)for(var r=0;r<=1;r+=.05){for(var i=0,a=0,s=0;s<=2;s++){var u=m(s,r);i+=u*t[o+s][0],a+=u*t[o+s][1]}e.push([i,a])}return e.push(t[t.length-1]),e},e.getQuadricBSplineFactor=function(t,e){var n=0;return 0===t?n=Math.pow(e-1,2)/2:1===t?n=(-2*Math.pow(e,2)+2*e+1)/2:2===t&&(n=Math.pow(e,2)/2),n})},function(t,e,n){"use strict";var o=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.FITTING_COUNT=100,e.HALF_PI=Math.PI/2,e.ZERO_TOLERANCE=1e-4,e.TWO_PI=2*Math.PI,e.BASE_LAYERNAME="ol-plot-vector-layer",e.BASE_HELP_CONTROL_POINT_ID="plot-helper-control-point-div",e.BASE_HELP_HIDDEN="plot-helper-hidden-div",e.DEF_TEXT_STYEL={backgroundColor:"#fff",borderRadius:"2px",boxSizing:"border-box",border:"3px solid rgba(255, 0, 0, 1)",fontFamily:"Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans CJK SC,WenQuanYi Micro Hei,Arial,sans-serif",color:"#010500",fontWeight:400,padding:"10px",fontStretch:"normal"}},function(t,e,n){"use strict";var o=n(38)("wks"),r=n(19),i=n(4).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:r)("Symbol."+t))}).store=o},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":o(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var o={}.hasOwnProperty;t.exports=function(t,e){return o.call(t,e)}},function(t,e,n){"use strict";var o=n(1),r=n(49),i=n(26),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var o=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=o)},function(t,e,n){"use strict";var o=n(9),r=n(18);t.exports=n(10)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var o=n(4),r=n(13),i=n(8),a=n(19)("src"),s=Function.toString,u=(""+s).split("toString");n(12).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(i(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(i(n,a)||r(n,a,t[e]?""+t[e]:u.join(String(e)))),t===o?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){"use strict";var o=n(36),r=n(18),i=n(16),a=n(26),s=n(8),u=n(49),l=Object.getOwnPropertyDescriptor;e.f=n(10)?l:function(t,e){if(t=i(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){"use strict";var o=n(78),r=n(29);t.exports=function(t){return o(r(t))}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+r).toString(36))}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var o=n(20);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var o=n(1),r=n(83),i=n(30),a=n(37)("IE_PROTO"),s=function(){},u=function(){var t,e=n(47)("iframe"),o=i.length;for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;o--;)delete u.prototype[i[o]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=o(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){"use strict";var o=n(8),r=n(89),i=n(37)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var o=n(52),r=n(30);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){"use strict";var o=n(9).f,r=n(8),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var o=n(7);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(3),c=o(l),f=n(5),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.ATTACK_ARROW,o.headHeightFactor=.18,o.headWidthFactor=.3,o.neckHeightFactor=.85,o.neckWidthFactor=.15,o.headTailFactor=.8,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){try{var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints(),n=[e[0],e[1]],o=n[0],r=n[1];c.isClockWise(e[0],e[1],e[2])&&(o=e[1],r=e[0]);var i=c.Mid(o,r),a=[i].concat(e.slice(2)),s=this.getArrowHeadPoints(a,o,r),u=[s[0],s[4]],l=u[0],f=u[1],h=c.MathDistance(o,r)/c.getBaseLength(a),p=this.getArrowBodyPoints(a,l,f,h),d=p.length,g=[o].concat(p.slice(0,d/2));g.push(l);var y=[r].concat(p.slice(d/2,d));y.push(f),g=c.getQBSplinePoints(g),y=c.getQBSplinePoints(y),this.setCoordinates([g.concat(s,y.reverse())])}}catch(t){console.log(t)}}},{key:"getArrowPoints",value:function(t,e,n,o){var r=c.Mid(t,e),i=c.MathDistance(r,n),a=c.getThirdPoint(n,r,0,.3*i,!0),s=c.getThirdPoint(n,r,0,.5*i,!0);a=c.getThirdPoint(r,a,h.HALF_PI,i/5,o),s=c.getThirdPoint(r,s,h.HALF_PI,i/4,o);var u=[r,a,s,n],l=this.getArrowHeadPoints(u);if(!(l&&Array.isArray(l)&&l.length>0))throw new Error("插值出错");var f=[l[0],l[4]],p=f[0],d=f[1],g=c.MathDistance(t,e)/c.getBaseLength(u)/2,y=this.getArrowBodyPoints(u,p,d,g);if(y){var v=y.length,m=y.slice(0,v/2),b=y.slice(v/2,v);return m.push(p),b.push(d),m=m.reverse(),m.push(e),b=b.reverse(),b.push(t),m.reverse().concat(l,b)}}},{key:"getArrowHeadPoints",value:function(t,e,n){try{var o=c.getBaseLength(t),r=o*this.headHeightFactor,i=t[t.length-1];o=c.MathDistance(i,t[t.length-2]);var a=c.MathDistance(e,n);r>a*this.headTailFactor&&(r=a*this.headTailFactor);var s=r*this.headWidthFactor,u=r*this.neckWidthFactor;r=r>o?o:r;var l=r*this.neckHeightFactor,f=c.getThirdPoint(t[t.length-2],i,0,r,!0),p=c.getThirdPoint(t[t.length-2],i,0,l,!0),d=c.getThirdPoint(i,f,h.HALF_PI,s,!1),g=c.getThirdPoint(i,f,h.HALF_PI,s,!0);return[c.getThirdPoint(i,p,h.HALF_PI,u,!1),d,i,g,c.getThirdPoint(i,p,h.HALF_PI,u,!0)]}catch(t){console.log(t)}}},{key:"getArrowBodyPoints",value:function(t,e,n,o){for(var r=c.wholeDistance(t),i=c.getBaseLength(t),a=i*o,s=c.MathDistance(e,n),u=(a-s)/2,l=0,f=[],h=[],p=1;p<t.length-1;p++){var d=c.getAngleOfThreePoints(t[p-1],t[p],t[p+1])/2;l+=c.MathDistance(t[p-1],t[p]);var g=(a/2-l/r*u)/Math.sin(d),y=c.getThirdPoint(t[p-1],t[p],Math.PI-d,g,!0),v=c.getThirdPoint(t[p-1],t[p],d,g,!1);f.push(y),h.push(v)}return f.concat(h)}},{key:"getTempPoint4",value:function(t,e,n){try{var o=c.Mid(t,e),r=c.MathDistance(o,n),i=c.getAngleOfThreePoints(t,o,n),a=void 0,s=void 0,u=void 0,l=void 0;return i<h.HALF_PI?(s=r*Math.sin(i),u=r*Math.cos(i),l=c.getThirdPoint(t,o,h.HALF_PI,s,!1),a=c.getThirdPoint(o,l,h.HALF_PI,u,!0)):i>=h.HALF_PI&&i<Math.PI?(s=r*Math.sin(Math.PI-i),u=r*Math.cos(Math.PI-i),l=c.getThirdPoint(t,o,h.HALF_PI,s,!1),a=c.getThirdPoint(o,l,h.HALF_PI,u,!1)):i>=Math.PI&&i<1.5*Math.PI?(s=r*Math.sin(i-Math.PI),u=r*Math.cos(i-Math.PI),l=c.getThirdPoint(t,o,h.HALF_PI,s,!0),a=c.getThirdPoint(o,l,h.HALF_PI,u,!0)):(s=r*Math.sin(2*Math.PI-i),u=r*Math.cos(2*Math.PI-i),l=c.getThirdPoint(t,o,h.HALF_PI,s,!0),a=c.getThirdPoint(o,l,h.HALF_PI,u,!1)),a}catch(t){console.log(t)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";var o={}.toString;t.exports=function(t){return o.call(t).slice(8,-1)}},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var o=n(32),r=n(2),i=n(14),a=n(13),s=n(8),u=n(17),l=n(50),c=n(25),f=n(23),h=n(6)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,g,y,v,m){l(n,e,g);var b,w,P,O=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",E="values"==y,x=!1,k=t.prototype,T=k[h]||k["@@iterator"]||y&&k[y],C=T||O(y),M=y?E?O("entries"):C:void 0,S="Array"==e?k.entries||T:T;if(S&&(P=f(S.call(new t)))!==Object.prototype&&P.next&&(c(P,_,!0),o||s(P,h)||a(P,h,d)),E&&T&&"values"!==T.name&&(x=!0,C=function(){return T.call(this)}),o&&!m||!p&&!x&&k[h]||a(k,h,C),u[e]=C,u[_]=d,y)if(b={values:E?C:O("values"),keys:v?C:O("keys"),entries:M},m)for(w in b)w in k||i(k,w,b[w]);else r(r.P+r.F*(p||x),e,b);return b}},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(19)("meta"),i=n(7),a=n(8),s=n(9).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(11)(function(){return l(Object.preventExtensions({}))}),f=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==(void 0===t?"undefined":o(t))?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[r].i},p=function(t,e){if(!a(t,r)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[r].w},d=function(t){return c&&g.NEED&&l(t)&&!a(t,r)&&f(t),t},g=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:p,onFreeze:d}},function(t,e,n){"use strict";var o=n(52),r=n(30).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var o=n(38)("keys"),r=n(19);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){"use strict";var o=n(4),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){"use strict";var o=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n=!0,o=!1,r=void 0;try{for(var i,a=Reflect.ownKeys(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(!s.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)){var u=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,u)}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=function t(){o(this,t)};for(var a in e){var s=e[a];r(i,s),r(i.prototype,s.prototype)}return i};e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeListener=e.addListener=e.getDomEventKey=e.unlistenAll=e.clear=e.unListenByKey=e.unListen=e.listenOnce=e.listen=e.removeListeners=e.getListenerMap=e.getListeners=e.findListener=e.bindListener=void 0;var o=n(43),r=e.bindListener=function(t){var e=function(e){var n=t.listener,o=t.bindTo||t.target;return t.callOnce&&c(t),n.call(o,e)};return t.boundListener=e,e},i=e.findListener=function(t,e,n,o){for(var r=null,i=0,a=t.length;i<a;++i)if(r=t[i],r.listener===e&&r.bindTo===n)return o&&(r.deleteIndex=i),r},a=e.getListeners=function(t,e){var n=t.vlm;return n?n[e]:void 0},s=e.getListenerMap=function(t){var e=t.vlm;return e||(e=t.vlm={}),e},u=e.removeListeners=function(t,e){var n=a(t,e);if(n){for(var o=0,r=n.length;o<r;++o)t.removeEventListener(e,n[o].boundListener),f(n[o]);n.length=0;var i=t.vlm;i&&(delete i[e],0===Object.keys(i).length&&delete t.vlm)}},l=e.listen=function(t,e,n,o,a){var u=s(t),l=u[e];l||(l=u[e]=[]);var c=i(l,n,o,!1);return c?a||(c.callOnce=!1):(c={bindTo:o,callOnce:!!a,listener:n,target:t,type:e},t.addEventListener(e,r(c)),l.push(c)),c},c=(e.listenOnce=function(t,e,n,o){return l(t,e,n,o,!0)},e.unListen=function(t,e,n,o){var r=a(t,e);if(r){var s=i(r,n,o,!0);s&&c(s)}},e.unListenByKey=function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=a(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&u(t.target,t.type)}f(t)}}),f=e.clear=function(t){for(var e in t)delete t[e]},h=(e.unlistenAll=function(t){var e=s(t);for(var n in e)u(t,n)},e.getDomEventKey=function(t,e,n){return"_dom_event_"+t+"_"+(0,o.stamp)(e)+(n?"_"+(0,o.stamp)(n):"")});e.addListener=function(t,e,n,o){var r=h(e,n,o),i=t[r];return i?this:(i=function(e){return n.call(o||t,e)},"addEventListener"in t?t.addEventListener(e,i,!1):"attachEvent"in t&&t.attachEvent("on"+e,i),t[r]=i,this)},e.removeListener=function(t,e,n,o){var r=h(e,n,o),i=t[r];return i?("removeEventListener"in t?t.removeEventListener(e,i,!1):"detachEvent"in t&&t.detachEvent("on"+e,i),t[r]=null,this):this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(e.getrandom=function(t,e,n){t&&!isNaN(t)||(t=0),e&&!isNaN(e)||(e=1),n&&!isNaN(n)||(n=0),n=n>15?15:n;var o=[Math.random()*(e-t)+t,Math.pow(10,n)],r=o[0],i=o[1];return r=Math.round(r*i)/i},e.getuuid=function(){for(var t=[],e="0123456789abcdef",n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}),r=(e.stamp=function(t){var e="_event_id_";return t[e]=t[e]||o(),t[e]},e.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")});e.splitWords=function(t){return r(t).split(/\s+/)},e.firstUpperToCase=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},e.upperFirstChart=function(t){return t.replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},e.arrayRemove=function(t,e){var n=t.indexOf(e),o=n>-1;return o&&t.splice(n,1),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){this.Events={},this.__cnt=0};r.hasOwnKey=Function.call.bind(Object.hasOwnProperty),r.slice=Function.call.bind(Array.prototype.slice),r.prototype.on=function(t,e,n){return this.bindEvent(t,e,0,n)},r.prototype.un=function(t){var e="",n="",i=!1,a=void 0===t?"undefined":o(t),s=this;return"string"===a?!!r.hasOwnKey(this.Events,t)&&(delete this.Events[t],!0):"object"===a?(e=t[0],n=t[1],!(!r.hasOwnKey(this.Events,e)||!r.hasOwnKey(this.Events[e],n))&&(delete this.Events[e][n],!0)):"function"!==a||(s.eachEvent(s.Events,function(e,n){s.eachEvent(n,function(n,o){o[0]===t&&(delete s.Events[e][n],i=!0)})}),i)},r.prototype.once=function(t,e,n){return this.bindEvent(t,e,1,n)},r.prototype.action=function(t,e){r.hasOwnKey(this.Events,t)&&this.eachEvent(this.Events[t],function(n,o){o[0].apply(o[2],e),o[1]&&delete this.Events[t][n]})},r.prototype.dispatch=function(t){var e=this,n=r.slice(arguments,1);setTimeout(function(){e.action(t,n)})},r.prototype.dispatchSync=function(t){this.action(t,r.slice(arguments,1))},r.prototype.clear=function(){this.Events={}},r.prototype.bindEvent=function(t,e,n,o){if("string"!=typeof t||"function"!=typeof e)throw new Error("传入的事件名称和回调函数有误！");return r.hasOwnKey(this.Events,t)||(this.Events[t]={}),this.Events[t][++this.__cnt]=[e,n,o],[t,this.__cnt]},r.prototype.eachEvent=function(t,e){for(var n in t)r.hasOwnKey(t,n)&&e(n,t[n])},e.default=r,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var o=n(28),r=n(6)("toStringTag"),i="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:i?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var o=n(7),r=n(4).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){"use strict";var o=n(21),r=n(81),i=n(79),a=n(1),s=n(55),u=n(91),l={},c={},f=t.exports=function(t,e,n,f,h){var p,d,g,y,v=h?function(){return t}:u(t),m=o(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(p=s(t.length);p>b;b++)if((y=e?m(a(d=t[b])[0],d[1]):m(t[b]))===l||y===c)return y}else for(g=v.call(t);!(d=g.next()).done;)if((y=r(g,m,d.value,e))===l||y===c)return y};f.BREAK=l,f.RETURN=c},function(t,e,n){"use strict";t.exports=!n(10)&&!n(11)(function(){return 7!=Object.defineProperty(n(47)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var o=n(22),r=n(18),i=n(25),a={};n(13)(a,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var o=n(8),r=n(16),i=n(70)(!1),a=n(37)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)n!=a&&o(s,n)&&l.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){"use strict";var o=n(14);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){"use strict";var o=n(7),r=n(1),i=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n(21)(Function.call,n(15).f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){"use strict";var o=n(39),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){"use strict";var o=n(7);t.exports=function(t,e){if(!o(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";e.f=n(6)},function(t,e,n){"use strict";var o=n(46),r={};r[n(6)("toStringTag")]="z",r+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+o(this)+"]"},!0)},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(3),c=o(l),f=n(5),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.FINE_ARROW,o.tailWidthFactor=.1,o.neckWidthFactor=.2,o.headWidthFactor=.25,o.headAngle=Math.PI/8.5,o.neckAngle=Math.PI/13,o.fixPointCount=2,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){try{var t=this.getPoints(),e=[t[0],t[1]],n=e[0],o=e[1],r=c.getBaseLength(t),i=r*this.tailWidthFactor,a=r*this.neckWidthFactor,s=r*this.headWidthFactor,u=c.getThirdPoint(o,n,h.HALF_PI,i,!0),l=c.getThirdPoint(o,n,h.HALF_PI,i,!1),f=c.getThirdPoint(n,o,this.headAngle,s,!1),p=c.getThirdPoint(n,o,this.headAngle,s,!0),d=c.getThirdPoint(n,o,this.neckAngle,a,!1),g=c.getThirdPoint(n,o,this.neckAngle,a,!0),y=[u,d,f,o,p,g,l];this.setCoordinates([y])}catch(t){console.log(t)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ol.layer.LayerUtils=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},ol.layer.LayerUtils.prototype.getLayerByLayerName=function(t){try{var e=null;if(this.map){var n=this.map.getLayers().getArray();e=this.getLayerInternal(n,"layerName",t)}return e}catch(t){console.log(t)}},ol.layer.LayerUtils.prototype.getLayerInternal=function(t,e,n){var o=this,r=null;return t.length>0&&t.every(function(t){if(t instanceof ol.layer.Group){var i=t.getLayers().getArray();return!(r=o.getLayerInternal(i,e,n))}return t.get(e)!==n||(r=t,!1)}),r},ol.layer.LayerUtils.prototype.getLayersArrayInternal=function(t,e,n){var o=this,r=[];return t.length>0&&t.forEach(function(t){if(t instanceof ol.layer.Group){var i=t.getLayers().getArray();r=o.getLayerInternal(i,e,n),r&&r.push(t)}else t.get(e)===n&&r.push(t)}),r},ol.layer.LayerUtils.prototype.getLayerByKeyValue=function(t,e){try{var n=null;if(this.map){var o=this.map.getLayers().getArray();n=this.getLayerInternal(o,t,e)}return n}catch(t){console.log(t)}},ol.layer.LayerUtils.prototype.getLayersArrayByKeyValue=function(t,e){try{var n=[];if(this.map){var o=this.map.getLayers().getArray();n=this.getLayersArrayInternal(o,t,e)}return n}catch(t){console.log(t)}},ol.layer.LayerUtils.prototype.createVectorLayer=function(t,e){try{if(this.map){var n=this.getLayerByLayerName(t);if(n instanceof ol.layer.Vector||(n=null),n||e&&e.create&&(n=new ol.layer.Vector({layerName:t,params:e,layerType:"vector",source:new ol.source.Vector({wrapX:!1}),style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(67, 110, 238, 0.4)"}),stroke:new ol.style.Stroke({color:"#7DC826",width:2.5}),image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADQ0lEQVRYR8VXTVIaURD+evABi0BYWhVJdJEEVsETBE8gngA4QfAEkhMIJ9CcQDyB4wkkK0w2EjFVWSJkAfPgderNODplzb+LvO3MdH+vv6/76yH850MvyT/axHZ+genOFNO0cRIBuCmhtCyKJoAWQLVnScfEbJJC/8NvOYwLKBYAO3FBHIGoYwdm/g6GyQbZNyfFJRDqIPr08NxkKdvVPxhHAYkE8KOcaTAZJwCVmPkSUrZ04NHWRp0MJ2FG8fD93epSUwIhTonoM8BTYtX+OFkPwkCEAhiVRYuITpxLczs/lwOrII6ZqOUXlJhPs3N5uCiIhvsd8fogDEQggJ9vRE1l6MpNnlEYqgwudCXCy8pTY429tYGaA4KnuZncCRJqIIBRWZh2KRX3eSV7lBVX0cldaDxlS+5CiC4RNZn5W3Ui/avmdxuH98wZwPe5mdxeFMTA4TXBYTZzc3mwLIoxQK/Zsnb8ROlbgest0YNBXzTyjELPpSJBevtVY827awMdXQWADyu3svc8hi8At/xaQIoyNQKOkia3tQN8BfNYa0F3UHUi64kAsFJ7REYHhP00AMA4Z1Y9MoyL1ABApIWUjP8HtPbcYO6mAaCHSdOuAKih9ZCqArqDwIPEAK7fig5Ax1o4zJi6QyUpCD28iFCyYynuV+6kM8o9x1+Em9imbPYG4GFuJvfcVkoGwGnhZUGY2iN0R/iZVNggeqQBhlFP2gl2ByhlhpXfNrKgWzlmY1y4VVgURM/p5+ij50d+LjvLotCju6a1VL1bmb7+ERZuVLadrQnGIDe32stXohspSMX93F/ZdZPrVqxMrEZQnlA3fFhA7FGqK8GWPLDLtiH0bPD6v7MfrJxJR1lx5iwsjg7CNqaY+4D2Bedoy2WoQWWyPvfeSvsHYOx7rTrKikM14A3+SEU0/U9vRJT+8UJxYmoqFsXskIB3cd5n4Fd+ZtXiLKuRFLgJvQtKFIgw1ccaREEJniZkMATd/9VbqxsFMhEF3mDX5ewgyB2DHC8MTGwK3CBBekjCuxdQYgD6Y0cPMJ35oA/fG2vUk/yQpKbA/fD5yl6dyNO4vL+4Am4AvTvqv6MkontRF6S5YdQ3qTQQFTTJ83/+27ww2VdnUwAAAABJRU5ErkJggg=="})})})),this.map&&n){e&&e.hasOwnProperty("selectable")&&n.set("selectable",e.selectable);var o=this.getLayerByLayerName(t);o&&o instanceof ol.layer.Vector||this.map.addLayer(n)}return n}}catch(t){console.log(t)}};var o=ol.layer.LayerUtils;e.default=o,t.exports=e.default},function(t,e,n){"use strict";n(93),n(94),n(95),n(96),n(97),n(100),n(98),n(99),n(101),n(102),n(103),n(104),n(106),n(105),t.exports=n(12).Reflect},function(t,e,n){"use strict";n(58),n(108),n(110),n(107),t.exports=n(12).Set},function(t,e,n){"use strict";n(109),n(58),t.exports=n(12).Symbol},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(41),l=o(u),c=n(3),f=n(40),h=o(f),p=n(0),d=n(44),g=o(d),y=n(42),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(y),m=n(5),b=n(135),w=o(b),P=n(130),O=o(P),_=n(60),E=o(_),x=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");return o.map=t,o.options=n||{},o.points=null,o.plot=null,o.feature=null,o.plotType=null,o.plotParams=null,o.mapViewport=o.map.getViewport(),o.dblClickZoomInteraction=null,o.drawOverlay=null,o.layerName=o.options&&o.options.layerName?o.options.layerName:m.BASE_LAYERNAME,o.drawLayer=o.createVectorLayer(o.layerName,{create:!0}),g.default.call(o),E.default.call(o,o.map),o}return a(e,t),s(e,[{key:"activate",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.deactivate(),this.deactiveMapTools(),this.plotType=t,this.plotParams=n,"TextArea"===t){new O.default(this.map,this.drawLayer,n).on("TextAreaDrawEnd",function(t){e.deactivate()})}else this.map.on("click",this.mapFirstClickHandler,this)}},{key:"deactivate",value:function(){this.removeEventHandlers(),this.map.removeOverlay(this.drawOverlay),this.points=[],this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.activateMapTools()}},{key:"isDrawing",value:function(){return!!this.plotType}},{key:"mapFirstClickHandler",value:function(t){this.map.un("click",this.mapFirstClickHandler,this),this.points.push(t.coordinate),this.plot=this.createPlot(this.plotType,this.points,this.plotParams),this.plot.setMap(this.map),this.feature=new ol.Feature(this.plot),this.feature.set("isPlot",!0),this.drawLayer.getSource().addFeature(this.feature),this.plotType===p.POINT||this.plotType===p.PENNANT?(this.plotParams.plotType=this.plotType,this.feature.setProperties(this.plotParams),this.plot.finishDrawing(),this.drawEnd(t)):(this.map.on("click",this.mapNextClickHandler,this),this.plot.freehand||this.map.on("dblclick",this.mapDoubleClickHandler,this),v.listen(this.mapViewport,h.default.MOUSEMOVE,this.mapMouseMoveHandler,this,!1)),this.plotType&&this.feature&&(this.plotParams.plotType=this.plotType,this.feature.setProperties(this.plotParams))}},{key:"mapNextClickHandler",value:function(t){if(!this.plot.freehand&&(0,c.MathDistance)(t.coordinate,this.points[this.points.length-1])<1e-4)return!1;this.points.push(t.coordinate),this.plot.setPoints(this.points),this.plot.fixPointCount===this.plot.getPointCount()&&this.mapDoubleClickHandler(t),this.plot&&this.plot.freehand&&this.mapDoubleClickHandler(t)}},{key:"mapDoubleClickHandler",value:function(t){t.preventDefault(),this.plot.finishDrawing(),this.drawEnd(t)}},{key:"mapMouseMoveHandler",value:function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);if((0,c.MathDistance)(e,this.points[this.points.length-1])<1e-4)return!1;if(this.plot.freehand)this.points.push(e),this.plot.setPoints(this.points);else{var n=this.points.concat([e]);this.plot.setPoints(n)}}},{key:"removeEventHandlers",value:function(){this.map.un("click",this.mapFirstClickHandler,this),this.map.un("click",this.mapNextClickHandler,this),v.unListen(this.mapViewport,h.default.MOUSEMOVE,this.mapMouseMoveHandler,this),this.map.un("dblclick",this.mapDoubleClickHandler,this)}},{key:"drawEnd",value:function(t){this.dispatchSync("drawEnd",{type:"drawEnd",originalEvent:t,feature:this.feature}),this.feature&&this.options.isClear&&this.drawLayer.getSource().removeFeature(this.feature),this.activateMapTools(),this.removeEventHandlers(),this.map.removeOverlay(this.drawOverlay),this.points=[],this.plot=null,this.plotType=null,this.plotParams=null,this.feature=null}},{key:"addFeature",value:function(){this.feature=new ol.Feature(this.plot),this.feature&&this.drawLayer&&this.drawLayer.getSource().addFeature(this.feature)}},{key:"deactiveMapTools",value:function(){var t=this;this.map.getInteractions().getArray().every(function(e){return!(e instanceof ol.interaction.DoubleClickZoom&&(t.dblClickZoomInteraction=e,t.map.removeInteraction(e),1))})}},{key:"activateMapTools",value:function(){this.dblClickZoomInteraction&&this.dblClickZoomInteraction instanceof ol.interaction.DoubleClickZoom&&(this.map.addInteraction(this.dblClickZoomInteraction),this.dblClickZoomInteraction=null)}}]),e}((0,l.default)(w.default,g.default,E.default));e.default=x,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=n(40),c=r(l),f=n(44),h=r(f),p=n(138),d=o(p),g=n(42),y=o(g),v=n(5),m=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");return n.map=t,n.mapViewport=n.map.getViewport(),n.activePlot=null,n.startPoint=null,n.ghostControlPoints=null,n.controlPoints=null,n.mouseOver=!1,n.elementTable={},n.activeControlPointId=null,n.mapDragPan=null,n.previousCursor_=null,h.default.call(n),n}return s(e,t),u(e,[{key:"initHelperDom",value:function(){var t=this;if(!this.map||!this.activePlot)return!1;var e=this.getMapParentElement();if(!e)return!1;var n=d.createHidden("div",e,v.BASE_HELP_HIDDEN),o=this.getControlPoints();o&&Array.isArray(o)&&o.length>0&&o.forEach(function(e,o){var r=v.BASE_HELP_CONTROL_POINT_ID+"-"+o;d.create("div",v.BASE_HELP_CONTROL_POINT_ID,n,r),t.elementTable[r]=o})}},{key:"getMapParentElement",value:function(){var t=this.map.getTargetElement();return!!t&&t.parentNode}},{key:"destroyHelperDom",value:function(){var t=this;this.controlPoints&&Array.isArray(this.controlPoints)&&this.controlPoints.length>0&&(this.controlPoints.forEach(function(e,n){e&&e instanceof ol.Overlay&&t.map.removeOverlay(e);var o=d.get(v.BASE_HELP_CONTROL_POINT_ID+"-"+n);o&&(y.removeListener(o,"mousedown",t.controlPointMouseDownHandler,t),y.removeListener(o,"mousemove",t.controlPointMouseMoveHandler2,t))}),this.controlPoints=[]);var e=this.getMapParentElement(),n=d.get(v.BASE_HELP_HIDDEN);n&&e&&d.remove(n,e)}},{key:"initControlPoints",value:function(){var t=this;this.controlPoints=[];var e=this.getControlPoints();e&&Array.isArray(e)&&e.length>0&&e.forEach(function(n,o){var r=v.BASE_HELP_CONTROL_POINT_ID+"-"+o;t.elementTable[r]=o;var i=d.get(r),a=new ol.Overlay({id:r,position:e[o],positioning:"center-center",element:i});t.controlPoints.push(a),t.map.addOverlay(a),t.map.render(),y.addListener(i,"mousedown",t.controlPointMouseDownHandler,t),y.addListener(i,"mousemove",t.controlPointMouseMoveHandler2,t)})}},{key:"controlPointMouseMoveHandler2",value:function(t){t.stopImmediatePropagation()}},{key:"controlPointMouseDownHandler",value:function(t){var e=t.target.id;this.activeControlPointId=e,y.listen(this.mapViewport,c.default.MOUSEMOVE,this.controlPointMouseMoveHandler,this,!1),y.listen(this.mapViewport,c.default.MOUSEUP,this.controlPointMouseUpHandler,this,!1)}},{key:"controlPointMouseMoveHandler",value:function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);if(this.activeControlPointId){var n=this.activePlot.getGeometry(),o=this.elementTable[this.activeControlPointId];n.updatePoint(e,o);var r=this.map.getOverlayById(this.activeControlPointId);r&&r.setPosition(e)}}},{key:"controlPointMouseUpHandler",value:function(t){y.unListen(this.mapViewport,c.default.MOUSEMOVE,this.controlPointMouseMoveHandler,this),y.unListen(this.mapViewport,c.default.MOUSEUP,this.controlPointMouseUpHandler,this)}},{key:"activate",value:function(t){var e=this;if(t&&t instanceof ol.Feature&&t.get("isPlot")&&t!==this.activePlot)if(this.deactivate(),this.activePlot=t,this.previousCursor_=this.map.getTargetElement().style.cursor,t.get("_text_area_source_")){var n=t.get("_text_area_source_");n.featureOnFocus(),this.map.on("pointermove",this.baseTextAreaPointMove_,this)}else window.setTimeout(function(){e.dispatch("active_plot_change",e.activePlot)},500),this.map.on("pointermove",this.plotMouseOverOutHandler,this),this.initHelperDom(),this.initControlPoints()}},{key:"baseTextAreaPointMove_",value:function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});return e&&e===this.activePlot?this.mouseOver||(this.mouseOver=!0,this.map.getTargetElement().style.cursor="move",this.map.on("pointerdown",this.baseTextAreaPointerDown_,this)):this.mouseOver&&(this.mouseOver=!1,this.map.getTargetElement().style.cursor="default",this.map.un("pointerdown",this.baseTextAreaPointerDown_,this)),e}},{key:"baseTextAreaPointerDown_",value:function(t){this.startPoint=this.activePlot.getGeometry().getCoordinates(),this.disableMapDragPan(),this.map.on("pointerup",this.baseTextAreaPointerUp_,this),this.map.on("pointerdrag",this.baseTextAreaPointerDrag_,this)}},{key:"baseTextAreaPointerUp_",value:function(t){this.enableMapDragPan(),this.map.un("pointerup",this.baseTextAreaPointerUp_,this),this.map.un("pointerdrag",this.baseTextAreaPointerDrag_,this)}},{key:"baseTextAreaPointerDrag_",value:function(t){var e=t.coordinate[0]-this.startPoint[0],n=t.coordinate[1]-this.startPoint[1];this.activePlot.getGeometry().translate(e,n)}},{key:"getControlPoints",value:function(){var t=[];if(this.activePlot){var e=this.activePlot.getGeometry();e&&(t=e.getPoints())}return t}},{key:"plotMouseOverOutHandler",value:function(t){try{var e=this.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});return e&&e===this.activePlot?this.mouseOver||(this.mouseOver=!0,this.map.getTargetElement().style.cursor="move",this.map.on("pointerdown",this.plotMouseDownHandler,this)):this.mouseOver&&(this.mouseOver=!1,this.map.getTargetElement().style.cursor="default",this.map.un("pointerdown",this.plotMouseDownHandler,this)),e}catch(t){console.log(t)}}},{key:"plotMouseDownHandler",value:function(t){this.ghostControlPoints=this.getControlPoints(),this.startPoint=t.coordinate,this.disableMapDragPan(),this.map.on("pointerup",this.plotMouseUpHandler,this),this.map.on("pointerdrag",this.plotMouseMoveHandler,this)}},{key:"plotMouseMoveHandler",value:function(t){var e=this;try{var n=t.coordinate,o=n[0]-this.startPoint[0],r=n[1]-this.startPoint[1],i=[];this.ghostControlPoints&&Array.isArray(this.ghostControlPoints)&&this.ghostControlPoints.length>0&&this.ghostControlPoints.forEach(function(t,n){var a=e.ghostControlPoints[n],s=[a[0]+o,a[1]+r];i.push(s);var u=v.BASE_HELP_CONTROL_POINT_ID+"-"+n,l=e.map.getOverlayById(u);l&&(l.setPosition(s),l.setPositioning("center-center"))});this.activePlot.getGeometry().setPoints(i)}catch(t){console.log(t)}}},{key:"plotMouseUpHandler",value:function(t){this.enableMapDragPan(),this.map.un("pointerup",this.plotMouseUpHandler,this),this.map.un("pointerdrag",this.plotMouseMoveHandler,this);var e=new ol.events.Event("_fmap.plot.editend");e.plot=this.activePlot,this.map.dispatchEvent(e)}},{key:"disconnectEventHandlers",value:function(){this.map.un("pointermove",this.plotMouseOverOutHandler,this),y.unListen(this.mapViewport,c.default.MOUSEMOVE,this.controlPointMouseMoveHandler,this),y.unListen(this.mapViewport,c.default.MOUSEUP,this.controlPointMouseUpHandler,this),this.map.un("pointerdown",this.plotMouseDownHandler,this),this.map.un("pointerup",this.plotMouseUpHandler,this),this.map.un("pointerdrag",this.plotMouseMoveHandler,this)}},{key:"deactivate",value:function(){this.activePlot=null,this.mouseOver=!1,this.map.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=null,this.destroyHelperDom(),this.disconnectEventHandlers(),this.enableMapDragPan(),this.elementTable={},this.activeControlPointId=null,this.startPoint=null}},{key:"disableMapDragPan",value:function(){var t=this;this.map.getInteractions().getArray().every(function(e){return!(e instanceof ol.interaction.DragPan&&(t.mapDragPan=e,t.map.removeInteraction(e),1))})}},{key:"enableMapDragPan",value:function(){this.mapDragPan&&this.mapDragPan instanceof ol.interaction.DragPan&&(this.map.addInteraction(this.mapDragPan),this.mapDragPan=null)}}]),e}(h.default);e.default=m,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=n(60),c=o(l),f=n(134),h=o(f),p=n(41),d=o(p),g=n(5),y=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");return o.map=t,o.layerName=n||g.BASE_LAYERNAME,o}return a(e,t),u(e,[{key:"getBaseStyle",value:function(t){var e=t.getStyle();if(!e){var n=this.getLayerByLayerName(this.layerName);if(!(n&&n instanceof ol.layer.Vector))return!1;e=n.getStyle()}return e}},{key:"setIcon",value:function(t,e){try{if(t&&t instanceof ol.Feature){var n=this.getBaseStyle(t),o=n.clone(),r=this._getImage(r);r&&(o.setImage(r),t.setStyle(o))}}catch(t){console.warn(t)}}},{key:"setBackgroundColor",value:function(t,e){try{if(t&&t instanceof ol.Feature){var n=this.getBaseStyle(t),o=n.clone(),r=o.getFill(),i=r.getColor();if(i){var a=ol.color.asArray(i),s=ol.color.asArray(e),u=this.handleBackgroundColor(s,a[3]);r.setColor(u),t.setStyle(o)}}}catch(t){console.warn(t)}}},{key:"setOpacity",value:function(t,e){try{if(t&&t instanceof ol.Feature){var n=this.getBaseStyle(t);if(n){var o=n.clone(),r=o.getFill(),i=r.getColor();if(i){var a=ol.color.asArray(i);a[3]=e/10;var s="rgba("+a.join(",")+")";r.setColor(s),t.setStyle(o)}}}}catch(t){console.warn(t)}}},{key:"setBorderColor",value:function(t,e){try{if(t&&t instanceof ol.Feature){var n=this.getBaseStyle(t),o=n.clone();o.getStroke().setColor(e),t.setStyle(o)}}catch(t){console.warn(t)}}},{key:"setBorderWidth",value:function(t,e){try{if(t&&t instanceof ol.Feature){var n=this.getBaseStyle(t),o=n.clone();o.getStroke().setWidth(e),t.setStyle(o)}}catch(t){console.warn(t)}}},{key:"handleBackgroundColor",value:function(t,e){try{e||(e=1);var n=ol.color.asArray(t);return n[3]=e,"rgba("+n.join(",")+")"}catch(t){console.warn(t)}}},{key:"getColor",value:function(t){try{var e=ol.color.asArray(t);return ol.color.asString(e)}catch(t){console.warn(t)}}},{key:"fixObject",value:function(t){if(t&&"object"===(void 0===t?"undefined":s(t)))for(var e in t)e&&void 0===t[e]&&delete t[e];return t}},{key:"getStroke_",value:function(t){var e=null;if(t){var n=t.getStroke();n&&(e={},e.strokeColor=this.getColor(n.getColor()),e.strokeWidth=n.getWidth(),e.strokeLineDash=n.getLineDash(),e.lineDashOffset=n.getLineDashOffset(),e.strokeLineCap=n.getLineCap(),e.strokeLineJoin=n.getLineJoin(),e.strokeMiterLimit=n.getMiterLimit())}return this.fixObject(e)}},{key:"getFill_",value:function(t){var e=null;if(t){var n=t.getFill();if(n){e={};var o=n.getColor();e.fillColor=this.getColor(o)}}return this.fixObject(e)}},{key:"getText_",value:function(t){var e=null;if(t){var n=t.getText();n&&(e={},e.textFont=n.getFont(),e.textOffsetX=n.getOffsetX(),e.textOffsetY=n.getOffsetY(),e.textScale=n.getScale(),e.textRotation=n.getRotation(),e.text=n.getText(),e.textAlign=n.getTextAlign(),e.textBaseline=n.getTextBaseline(),e.rotateWithView=n.getRotateWithView(),e.textFill=this.getFill_(n),e.textStroke=this.getStroke_(n))}return this.fixObject(e)}},{key:"getImage_",value:function(t){var e=null;if(t){var n=t.getImage();n&&(e={},n instanceof ol.style.Icon?(e.type="icon",e.image={},e.imageAnchor=n.getAnchor(),e.imageColor=n.getColor(),e.imageSrc=n.getSrc(),e.imgSize=n.getSize(),e.scale=n.getScale(),e.imageRotation=n.getRotation(),e.rotateWithView=n.getRotateWithView(),e.imageOpacity=n.getOpacity(),e.snapToPixel=n.getSnapToPixel(),e.offset=n.getOrigin()):n instanceof ol.style.RegularShape&&(e.type="",e.image={},e.fill=this.getFill_(n),e.points=n.getPoints(),e.radius=n.getRadius(),e.radius2=n.getRadius2(),e.angle=n.getAngle(),e.stroke=this.getStroke_(n),e.rotateWithView=n.getRotateWithView(),e.snapToPixel=n.getSnapToPixel()))}return this.fixObject(e)}},{key:"getStyleCode",value:function(t){try{if(t&&t instanceof ol.Feature){var e=this.getBaseStyle(t);if(e&&e instanceof ol.style.Style){var n=this.getFill_(e),o=1,r=null;n.fillColor&&(r=ol.color.asArray(n.fillColor),o=parseFloat(r[3]));var i=this.handleBackgroundColor(ol.color.asString(r),o),a=this.getStroke_(e),s=this.getText_(e);return{fill:{fillColor:i,opacity:o},stroke:a,image:this.getImage_(e),text:s}}}}catch(t){console.warn(t)}}},{key:"getFeatures",value:function(){var t=this,e=[],n=this.getLayerByLayerName(this.layerName);if(n){var o=n.getSource();if(o&&o instanceof ol.source.Vector){var r=o.getFeatures();r&&r.length>0&&r.forEach(function(n,o){if(n&&n.getGeometry){var r=n.getGeometry();if(r&&r.getCoordinates){var i=r.getType(),a=r.getCoordinates();e.push({type:"Feature",geometry:{type:i,coordinates:a},properties:{style:t.getStyleCode(n)}})}}})}}return e}}]),e}((0,d.default)(c.default,h.default));e.default=y,t.exports=e.default},function(t,e){},function(t,e,n){"use strict";var o,r,i;!function(n,a){r=[e,t],o=a,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e){function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function o(){var e=t.style.height,o=n(t),r=document.documentElement&&document.documentElement.scrollTop;t.style.height="";var i=t.scrollHeight+s;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=i+"px",u=t.clientWidth,o.forEach(function(t){t.node.scrollTop=t.scrollTop}),r&&(document.documentElement.scrollTop=r)}function r(){o();var n=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),i="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):t.offsetHeight;if(i!==n?"hidden"===r.overflowY&&(e("scroll"),o(),i="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==r.overflowY&&(e("hidden"),o(),i="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),l!==i){l=i;var s=a("autosize:resized");try{t.dispatchEvent(s)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var s=null,u=t.clientWidth,l=null,c=function(){t.clientWidth!==u&&r()},f=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",r,!1),t.removeEventListener("keyup",r,!1),t.removeEventListener("autosize:destroy",f,!1),t.removeEventListener("autosize:update",r,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",f,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",r,!1),t.addEventListener("autosize:update",r,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:f,update:r}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),s="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(s)&&(s=0),r()}()}}function o(t){var e=i.get(t);e&&e.destroy()}function r(t){var e=i.get(t);e&&e.update()}var i="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,o){-1===t.indexOf(n)&&(t.push(n),e.push(o))},delete:function(n){var o=t.indexOf(n);o>-1&&(t.splice(o,1),e.splice(o,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(t){return t},s.destroy=function(t){return t},s.update=function(t){return t}):(s=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t},s.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.exports=s})},function(t,e,n){"use strict";var o=n(6)("unscopables"),r=Array.prototype;void 0==r[o]&&n(13)(r,o,{}),t.exports=function(t){r[o][t]=!0}},function(t,e,n){"use strict";var o=n(16),r=n(55),i=n(88);t.exports=function(t){return function(e,n,a){var s,u=o(e),l=r(u.length),c=i(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){"use strict";var o=n(20),r=n(7),i=n(77),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";s[e]=Function("F,a","return new F("+o.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=o(this),n=a.call(arguments,1),s=function o(){var r=n.concat(a.call(arguments));return this instanceof o?u(e,r.length,r):i(e,r,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){"use strict";var o=n(9).f,r=n(22),i=n(53),a=n(21),s=n(45),u=n(48),l=n(31),c=n(51),f=n(86),h=n(10),p=n(33).fastKey,d=n(56),g=h?"_s":"size",y=function(t,e){var n,o=p(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,o){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=o&&u(o,n,t[l],t)});return i(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),o=y(n,t);if(o){var r=o.n,i=o.p;delete n._i[o.i],o.r=!0,i&&(i.n=r),r&&(r.p=i),n._f==o&&(n._f=r),n._l==o&&(n._l=i),n[g]--}return!!o},forEach:function(t){d(this,e);for(var n,o=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),h&&o(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var o,r,i=y(t,e);return i?i.v=n:(t._l=i={i:r=p(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=i),o&&(o.n=i),t[g]++,"F"!==r&&(t._i[r]=i)),t},getEntry:y,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var o=n(4),r=n(2),i=n(14),a=n(53),s=n(33),u=n(48),l=n(45),c=n(7),f=n(11),h=n(82),p=n(25),d=n(76);t.exports=function(t,e,n,g,y,v){var m=o[t],b=m,w=y?"set":"add",P=b&&b.prototype,O={},_=function(t){var e=P[t];i(P,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||P.forEach&&!f(function(){(new b).entries().next()}))){var E=new b,x=E[w](v?{}:-0,1)!=E,k=f(function(){E.has(1)}),T=h(function(t){new b(t)}),C=!v&&f(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});T||(b=e(function(e,n){l(e,b,t);var o=d(new m,e,b);return void 0!=n&&u(n,y,o[w],o),o}),b.prototype=P,P.constructor=b),(k||C)&&(_("delete"),_("has"),y&&_("get")),(C||x)&&_(w),v&&P.clear&&delete P.clear}else b=g.getConstructor(e,t,y,w),a(b.prototype,n),s.NEED=!0;return p(b,t),O[t]=b,r(r.G+r.W+r.F*(b!=m),O),v||g.setStrong(b,t,y),b}},function(t,e,n){"use strict";var o=n(24),r=n(35),i=n(36);t.exports=function(t){var e=o(t),n=r.f;if(n)for(var a,s=n(t),u=i.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){"use strict";var o=n(4).document;t.exports=o&&o.documentElement},function(t,e,n){"use strict";var o=n(7),r=n(54).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(t,i),t}},function(t,e,n){"use strict";t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var o=n(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(17),r=n(6)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){"use strict";var o=n(28);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){"use strict";var o=n(1);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){"use strict";var o=n(6)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var o=n(9),r=n(1),i=n(24);t.exports=n(10)?Object.defineProperties:function(t,e){r(t);for(var n,a=i(e),s=a.length,u=0;s>u;)o.f(t,n=a[u++],e[n]);return t}},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(16),i=n(34).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":o(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?u(t):i(r(t))}},function(t,e,n){"use strict";var o=n(34),r=n(35),i=n(1),a=n(4).Reflect;t.exports=a&&a.ownKeys||function(t){var e=o.f(i(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var o=n(4),r=n(9),i=n(10),a=n(6)("species");t.exports=function(t){var e=o[t];i&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var o=n(39),r=n(29);t.exports=function(t){return function(e,n){var i,a,s=String(r(e)),u=o(n),l=s.length;return u<0||u>=l?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},function(t,e,n){"use strict";var o=n(39),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){"use strict";var o=n(29);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(4),r=n(12),i=n(32),a=n(57),s=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";var o=n(46),r=n(6)("iterator"),i=n(17);t.exports=n(12).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){"use strict";var o=n(69),r=n(51),i=n(17),a=n(16);t.exports=n(31)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var o=n(2),r=n(20),i=n(1),a=(n(4).Reflect||{}).apply,s=Function.apply;o(o.S+o.F*!n(11)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var o=r(t),u=i(n);return a?a(o,e,u):s.call(o,e,u)}})},function(t,e,n){"use strict";var o=n(2),r=n(22),i=n(20),a=n(1),s=n(7),u=n(11),l=n(71),c=(n(4).Reflect||{}).construct,f=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),h=!u(function(){c(function(){})});o(o.S+o.F*(f||h),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(h&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(l.apply(t,o))}var u=n.prototype,p=r(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){"use strict";var o=n(9),r=n(2),i=n(1),a=n(26);r(r.S+r.F*n(11)(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return o.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var o=n(2),r=n(15).f,i=n(1);o(o.S,"Reflect",{deleteProperty:function(t,e){var n=r(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var o=n(2),r=n(1),i=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(50)(i,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),o(o.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){"use strict";var o=n(15),r=n(2),i=n(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return o.f(i(t),e)}})},function(t,e,n){"use strict";var o=n(2),r=n(23),i=n(1);o(o.S,"Reflect",{getPrototypeOf:function(t){return r(i(t))}})},function(t,e,n){"use strict";function o(t,e){var n,s,c=arguments.length<3?t:arguments[2];return l(t)===c?t[e]:(n=r.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:u(s=i(t))?o(s,e,c):void 0}var r=n(15),i=n(23),a=n(8),s=n(2),u=n(7),l=n(1);s(s.S,"Reflect",{get:o})},function(t,e,n){"use strict";var o=n(2);o(o.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){"use strict";var o=n(2),r=n(1),i=Object.isExtensible;o(o.S,"Reflect",{isExtensible:function(t){return r(t),!i||i(t)}})},function(t,e,n){"use strict";var o=n(2);o(o.S,"Reflect",{ownKeys:n(85)})},function(t,e,n){"use strict";var o=n(2),r=n(1),i=Object.preventExtensions;o(o.S,"Reflect",{preventExtensions:function(t){r(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var o=n(2),r=n(54);r&&o(o.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";function o(t,e,n){var u,h,p=arguments.length<4?t:arguments[3],d=i.f(c(t),e);if(!d){if(f(h=a(t)))return o(h,e,n,p);d=l(0)}return s(d,"value")?!(!1===d.writable||!f(p))&&(u=i.f(p,e)||l(0),u.value=n,r.f(p,e,u),!0):void 0!==d.set&&(d.set.call(p,n),!0)}var r=n(9),i=n(15),a=n(23),s=n(8),u=n(2),l=n(18),c=n(1),f=n(7);u(u.S,"Reflect",{set:o})},function(t,e,n){"use strict";var o=n(72),r=n(56);t.exports=n(73)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(r(this,"Set"),t=0===t?0:t,t)}},o)},function(t,e,n){"use strict";var o=n(87)(!0);n(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(4),i=n(8),a=n(10),s=n(2),u=n(14),l=n(33).KEY,c=n(11),f=n(38),h=n(25),p=n(19),d=n(6),g=n(57),y=n(90),v=n(74),m=n(80),b=n(1),w=n(16),P=n(26),O=n(18),_=n(22),E=n(84),x=n(15),k=n(9),T=n(24),C=x.f,M=k.f,S=E.f,A=r.Symbol,L=r.JSON,I=L&&L.stringify,R=d("_hidden"),j=d("toPrimitive"),F={}.propertyIsEnumerable,D=f("symbol-registry"),N=f("symbols"),B=f("op-symbols"),H=Object.prototype,W="function"==typeof A,U=r.QObject,V=!U||!U.prototype||!U.prototype.findChild,G=a&&c(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=C(H,e);o&&delete H[e],M(t,e,n),o&&t!==H&&M(H,e,o)}:M,z=function(t){var e=N[t]=_(A.prototype);return e._k=t,e},Y=W&&"symbol"==o(A.iterator)?function(t){return"symbol"==(void 0===t?"undefined":o(t))}:function(t){return t instanceof A},X=function(t,e,n){return t===H&&X(B,e,n),b(t),e=P(e,!0),b(n),i(N,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=_(n,{enumerable:O(0,!1)})):(i(t,R)||M(t,R,O(1,{})),t[R][e]=!0),G(t,e,n)):M(t,e,n)},Q=function(t,e){b(t);for(var n,o=v(e=w(e)),r=0,i=o.length;i>r;)X(t,n=o[r++],e[n]);return t},K=function(t,e){return void 0===e?_(t):Q(_(t),e)},q=function(t){var e=F.call(this,t=P(t,!0));return!(this===H&&i(N,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=w(t),e=P(e,!0),t!==H||!i(N,e)||i(B,e)){var n=C(t,e);return!n||!i(N,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=S(w(t)),o=[],r=0;n.length>r;)i(N,e=n[r++])||e==R||e==l||o.push(e);return o},$=function(t){for(var e,n=t===H,o=S(n?B:w(t)),r=[],a=0;o.length>a;)!i(N,e=o[a++])||n&&!i(H,e)||r.push(N[e]);return r};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function e(n){this===H&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),G(this,t,O(1,n))};return a&&V&&G(H,t,{configurable:!0,set:e}),z(t)},u(A.prototype,"toString",function(){return this._k}),x.f=J,k.f=X,n(34).f=E.f=Z,n(36).f=q,n(35).f=$,a&&!n(32)&&u(H,"propertyIsEnumerable",q,!0),g.f=function(t){return z(d(t))}),s(s.G+s.W+s.F*!W,{Symbol:A});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=T(d.store),ot=0;nt.length>ot;)y(nt[ot++]);s(s.S+s.F*!W,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!W,"Object",{create:K,defineProperty:X,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),L&&s(s.S+s.F*(!W||c(function(){var t=A();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Y(t)){for(var e,n,o=[t],r=1;arguments.length>r;)o.push(arguments[r++]);return e=o[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Y(e))return e}),o[1]=e,I.apply(L,o)}}}),A.prototype[j]||n(13)(A.prototype,j,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){"use strict";for(var o=n(92),r=n(24),i=n(14),a=n(4),s=n(13),u=n(17),l=n(6),c=l("iterator"),f=l("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var y,v=d[g],m=p[v],b=a[v],w=b&&b.prototype;if(w&&(w[c]||s(w,c,h),w[f]||s(w,f,v),u[v]=h,m))for(y in o)w[y]||i(w,y,o[y],!0)}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(3),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.LineString.call(i,[]),i.type=s.ARC,i.fixPointCount=3,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){var t=this.getPointCount();if(!(t<2))if(2===t)this.setCoordinates(this.points);else{var e=[this.points[0],this.points[1],this.points[2],null,null],n=e[0],o=e[1],r=e[2],i=e[3],a=e[4],s=l.getCircleCenterOfThreePoints(n,o,r),u=l.MathDistance(n,s),c=l.getAzimuth(n,s),f=l.getAzimuth(o,s);l.isClockWise(n,o,r)?(i=f,a=c):(i=c,a=f),this.setCoordinates(l.getArcPoints(s,u,i,a))}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.LineString);e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(59),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=n(0),l=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return s.default.call(i,t,n),i.tailWidthFactor=.05,i.neckWidthFactor=.1,i.headWidthFactor=.15,i.type=u.ASSAULT_DIRECTION,i.headAngle=Math.PI/4,i.neckAngle=.17741*Math.PI,i.setPoints(t),i.set("params",n),i}return i(e,t),e}(s.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(5),c=o(l),f=n(3),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.DOUBLE_ARROW,o.headHeightFactor=.25,o.headWidthFactor=.3,o.neckHeightFactor=.85,o.neckWidthFactor=.15,o.connPoint=null,o.tempPoint4=null,o.fixPointCount=4,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){try{var t=this.getPointCount(),e=[this.points[0],this.points[1],this.points[2]],n=e[0],o=e[1],r=e[2];if(2===t)return this.setCoordinates([this.points]),!1;3===t?(this.tempPoint4=this.getTempPoint4(n,o,r),this.connPoint=h.Mid(n,o)):4===t?(this.tempPoint4=this.points[3],this.connPoint=h.Mid(n,o)):(this.tempPoint4=this.points[3],this.connPoint=this.points[4]);var i=void 0,a=void 0;h.isClockWise(n,o,r)?(i=this.getArrowPoints(n,this.connPoint,this.tempPoint4,!1),a=this.getArrowPoints(this.connPoint,o,r,!0)):(i=this.getArrowPoints(o,this.connPoint,r,!1),a=this.getArrowPoints(this.connPoint,n,this.tempPoint4,!0));var s=i.length,u=(s-5)/2,l=i.slice(0,u),c=i.slice(u,u+5),f=i.slice(u+5,s),p=a.slice(0,u),d=a.slice(u,u+5),g=a.slice(u+5,s);p=h.getBezierPoints(p);var y=h.getBezierPoints(g.concat(l.slice(1)));f=h.getBezierPoints(f);var v=p.concat(d,y,c,f);this.setCoordinates([v])}catch(t){console.log(t)}}},{key:"getArrowPoints",value:function(t,e,n,o){var r=h.Mid(t,e),i=h.MathDistance(r,n),a=h.getThirdPoint(n,r,0,.3*i,!0),s=h.getThirdPoint(n,r,0,.5*i,!0);a=h.getThirdPoint(r,a,c.HALF_PI,i/5,o),s=h.getThirdPoint(r,s,c.HALF_PI,i/4,o);var u=[r,a,s,n],l=this.getArrowHeadPoints(u);if(!(l&&Array.isArray(l)&&l.length>0))throw new Error("插值出错");var f=[l[0],l[4]],p=f[0],d=f[1],g=h.MathDistance(t,e)/h.getBaseLength(u)/2,y=this.getArrowBodyPoints(u,p,d,g);if(y){var v=y.length,m=y.slice(0,v/2),b=y.slice(v/2,v);return m.push(p),b.push(d),m=m.reverse(),m.push(e),b=b.reverse(),b.push(t),m.reverse().concat(l,b)}}},{key:"getArrowHeadPoints",value:function(t){try{var e=h.getBaseLength(t),n=e*this.headHeightFactor,o=t[t.length-1],r=n*this.headWidthFactor,i=n*this.neckWidthFactor,a=n*this.neckHeightFactor,s=h.getThirdPoint(t[t.length-2],o,0,n,!0),u=h.getThirdPoint(t[t.length-2],o,0,a,!0),l=h.getThirdPoint(o,s,c.HALF_PI,r,!1),f=h.getThirdPoint(o,s,c.HALF_PI,r,!0);return[h.getThirdPoint(o,u,c.HALF_PI,i,!1),l,o,f,h.getThirdPoint(o,u,c.HALF_PI,i,!0)]}catch(t){console.log(t)}}},{key:"getArrowBodyPoints",value:function(t,e,n,o){for(var r=h.wholeDistance(t),i=h.getBaseLength(t),a=i*o,s=h.MathDistance(e,n),u=(a-s)/2,l=0,c=[],f=[],p=1;p<t.length-1;p++){var d=h.getAngleOfThreePoints(t[p-1],t[p],t[p+1])/2;l+=h.MathDistance(t[p-1],t[p]);var g=(a/2-l/r*u)/Math.sin(d),y=h.getThirdPoint(t[p-1],t[p],Math.PI-d,g,!0),v=h.getThirdPoint(t[p-1],t[p],d,g,!1);c.push(y),f.push(v)}return c.concat(f)}},{key:"getTempPoint4",value:function(t,e,n){try{var o=h.Mid(t,e),r=h.MathDistance(o,n),i=h.getAngleOfThreePoints(t,o,n),a=void 0,s=void 0,u=void 0,l=void 0;return i<c.HALF_PI?(s=r*Math.sin(i),u=r*Math.cos(i),l=h.getThirdPoint(t,o,c.HALF_PI,s,!1),a=h.getThirdPoint(o,l,c.HALF_PI,u,!0)):i>=c.HALF_PI&&i<Math.PI?(s=r*Math.sin(Math.PI-i),u=r*Math.cos(Math.PI-i),l=h.getThirdPoint(t,o,c.HALF_PI,s,!1),a=h.getThirdPoint(o,l,c.HALF_PI,u,!1)):i>=Math.PI&&i<1.5*Math.PI?(s=r*Math.sin(i-Math.PI),u=r*Math.cos(i-Math.PI),l=h.getThirdPoint(t,o,c.HALF_PI,s,!0),a=h.getThirdPoint(o,l,c.HALF_PI,u,!0)):(s=r*Math.sin(2*Math.PI-i),u=r*Math.cos(2*Math.PI-i),l=h.getThirdPoint(t,o,c.HALF_PI,s,!0),a=h.getThirdPoint(o,l,c.HALF_PI,u,!1)),a}catch(t){console.log(t)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){3===this.getPointCount()&&null!==this.tempPoint4&&this.points.push(this.tempPoint4),null!==this.connPoint&&this.points.push(this.connPoint)}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(27),c=function(t){return t&&t.__esModule?t:{default:t}}(l),f=n(3),h=o(f),p=n(5),d=o(p),g=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c.default.call(o,t,n),o.type=u.SQUAD_COMBAT,o.headHeightFactor=.18,o.headWidthFactor=.3,o.neckHeightFactor=.85,o.neckWidthFactor=.15,o.tailWidthFactor=.1,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){try{var t=this.getPoints(),e=this.getTailPoints(t),n=this.getArrowHeadPoints(t,e[0],e[1]),o=n[0],r=n[4],i=this.getArrowBodyPoints(t,o,r,this.tailWidthFactor),a=i.length,s=[e[0]].concat(i.slice(0,a/2));s.push(o);var u=[e[1]].concat(i.slice(a/2,a));u.push(r),s=h.getQBSplinePoints(s),u=h.getQBSplinePoints(u),this.setCoordinates([s.concat(n,u.reverse())])}catch(t){console.log(t)}}},{key:"getTailPoints",value:function(t){var e=h.getBaseLength(t),n=e*this.tailWidthFactor;return[h.getThirdPoint(t[1],t[0],d.HALF_PI,n,!1),h.getThirdPoint(t[1],t[0],d.HALF_PI,n,!0)]}}]),e}(c.default);e.default=g,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(3),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.LineString.call(i,[]),i.type=s.STRAIGHT_ARROW,i.fixPointCount=2,i.maxArrowLength=3e6,i.arrowLengthScale=5,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){try{if(this.getPointCount()<2)return!1;var t=this.getPoints(),e=[t[0],t[1]],n=e[0],o=e[1],r=l.MathDistance(n,o),i=r/this.arrowLengthScale;i=i>this.maxArrowLength?this.maxArrowLength:i;var a=l.getThirdPoint(n,o,Math.PI/6,i,!1),s=l.getThirdPoint(n,o,Math.PI/6,i,!0);this.setCoordinates([n,o,a,o,s])}catch(t){console.log(t)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.LineString);e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(27),l=function(t){return t&&t.__esModule?t:{default:t}}(u),c=n(3),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),h=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return l.default.call(i,t,n),i.type=s.TAILED_ATTACK_ARROW,i.headHeightFactor=.18,i.headWidthFactor=.3,i.neckHeightFactor=.85,i.neckWidthFactor=.15,i.tailWidthFactor=.1,i.headTailFactor=.8,i.swallowTailFactor=1,i.swallowTailPnt=null,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){try{if(2===this.getPointCount())return this.setCoordinates([this.points]),!1;var t=this.getPoints(),e=[t[0],t[1]],n=e[0],o=e[1];f.isClockWise(t[0],t[1],t[2])&&(n=t[1],o=t[0]);var r=f.Mid(n,o),i=[r].concat(t.slice(2)),a=this.getArrowHeadPoints(i,n,o),s=[a[0],a[4]],u=s[0],l=s[1],c=f.MathDistance(n,o),h=f.getBaseLength(i),p=h*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=f.getThirdPoint(i[1],i[0],0,p,!0);var d=c/h,g=this.getArrowBodyPoints(i,u,l,d),y=g.length,v=[n].concat(g.slice(0,y/2));v.push(u);var m=[o].concat(g.slice(y/2,y));m.push(l),v=f.getQBSplinePoints(v),m=f.getQBSplinePoints(m),this.setCoordinates([v.concat(a,m.reverse(),[this.swallowTailPnt,v[0]])])}catch(t){console.log(t)}}}]),e}(l.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(27),c=function(t){return t&&t.__esModule?t:{default:t}}(l),f=n(3),h=o(f),p=n(5),d=o(p),g=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c.default.call(o,t,n),o.type=u.TAILED_SQUAD_COMBAT,o.headHeightFactor=.18,o.headWidthFactor=.3,o.neckHeightFactor=.85,o.neckWidthFactor=.15,o.tailWidthFactor=.1,o.swallowTailFactor=1,o.swallowTailPnt=null,o.fixPointCount=2,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){try{var t=this.getPoints(),e=this.getTailPoints(t),n=this.getArrowHeadPoints(t,e[0],e[2]),o=n[0],r=n[4],i=this.getArrowBodyPoints(t,o,r,this.tailWidthFactor),a=i.length,s=[e[0]].concat(i.slice(0,a/2));s.push(o);var u=[e[2]].concat(i.slice(a/2,a));u.push(r),s=h.getQBSplinePoints(s),u=h.getQBSplinePoints(u),this.setCoordinates([s.concat(n,u.reverse(),[e[1],s[0]])])}catch(t){console.log(t)}}},{key:"getTailPoints",value:function(t){var e=h.getBaseLength(t),n=e*this.tailWidthFactor,o=h.getThirdPoint(t[1],t[0],d.HALF_PI,n,!1),r=h.getThirdPoint(t[1],t[0],d.HALF_PI,n,!0),i=n*this.swallowTailFactor;return[o,h.getThirdPoint(t[1],t[0],0,i,!0),r]}}]),e}(c.default);e.default=g,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(3),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(i,[]),i.type=s.CIRCLE,i.fixPointCount=2,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){if(!(this.getPointCount()<2)){var t=this.points[0],e=l.MathDistance(t,this.points[1]);this.setCoordinates([this.generatePoints(t,e)])}}},{key:"generatePoints",value:function(t,e){for(var n=null,o=null,r=null,i=[],a=0;a<=100;a++)r=2*Math.PI*a/100,n=t[0]+e*Math.cos(r),o=t[1]+e*Math.sin(r),i.push([n,o]);return i}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(5),c=o(l),f=n(3),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.ELLIPSE,o.fixPointCount=2,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){if(this.getPointCount()<2)return!1;var t=[this.points[0],this.points[1]],e=t[0],n=t[1],o=h.Mid(e,n),r=Math.abs((e[0]-n[0])/2),i=Math.abs((e[1]-n[1])/2),a=this.generatePoints(o,r,i);this.setCoordinates([a])}},{key:"generatePoints",value:function(t,e,n){for(var o=null,r=null,i=null,a=[],s=0;s<=c.FITTING_COUNT;s++)i=2*Math.PI*s/c.FITTING_COUNT,o=t[0]+e*Math.cos(i),r=t[1]+n*Math.sin(i),a.push([o,r]);return a}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(3),c=o(l),f=n(5),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.CLOSED_CURVE,o.t=.3,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints();e.push(e[0],e[1]);for(var n=[],o=[],r=0;r<e.length-2;r++){var i=c.getBisectorNormals(this.t,e[r],e[r+1],e[r+2]);n=n.concat(i)}var a=n.length;n=[n[a-1]].concat(n.slice(0,a-1));for(var s=0;s<e.length-2;s++){var u=e[s],l=e[s+1];o.push(u);for(var f=0;f<=h.FITTING_COUNT;f++){var p=c.getCubicValue(f/h.FITTING_COUNT,u,n[2*s],n[2*s+1],l);o.push(p)}o.push(l)}this.setCoordinates([o])}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(i,[]),i.type=s.FREE_POLYGON,i.freehand=!0,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){this.setCoordinates([this.points])}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(3),c=o(l),f=n(5),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.GATHERING_PLACE,o.t=.4,o.fixPointCount=3,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){var t=this.getPoints(),e=this.getPointCount();if(t.length<2)return!1;if(2===e){var n=c.Mid(t[0],t[1]),o=c.MathDistance(t[0],n)/.9,r=c.getThirdPoint(t[0],n,h.HALF_PI,o,!0);t=[t[0],r,t[1]]}var i=c.Mid(t[0],t[2]);t.push(i,t[0],t[1]);for(var a=[],s=void 0,u=void 0,l=void 0,f=[],p=0;p<t.length-2;p++){s=t[p],u=t[p+1],l=t[p+2];var d=c.getBisectorNormals(this.t,s,u,l);a=a.concat(d)}var g=a.length;a=[a[g-1]].concat(a.slice(0,g-1));for(var y=0;y<t.length-2;y++){s=t[y],u=t[y+1],f.push(s);for(var v=0;v<=h.FITTING_COUNT;v++){var m=c.getCubicValue(v/h.FITTING_COUNT,s,a[2*y],a[2*y+1],u);f.push(m)}f.push(u)}this.setCoordinates([f])}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),l=n(5),c=o(l),f=n(3),h=o(f),p=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(o,[]),o.type=u.LUNE,o.fixPointCount=3,o.set("params",n),o.setPoints(t),o}return a(e,t),s(e,[{key:"generate",value:function(){if(this.getPointCount()<2)return!1;var t=this.getPoints();if(2===this.getPointCount()){var e=h.Mid(t[0],t[1]),n=h.MathDistance(t[0],e),o=h.getThirdPoint(t[0],e,c.HALF_PI,n);t.push(o)}var r=[t[0],t[1],t[2],void 0,void 0],i=r[0],a=r[1],s=r[2],u=r[3],l=r[4],f=h.getCircleCenterOfThreePoints(i,a,s),p=h.MathDistance(i,f),d=h.getAzimuth(i,f),g=h.getAzimuth(a,f);h.isClockWise(i,a,s)?(u=g,l=d):(u=d,l=g),t=h.getArcPoints(f,p,u,l),t.push(t[0]),this.setCoordinates([t])}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=p,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(i,[]),i.type=s.POLYGON,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.points])}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(i,[]),i.type=s.RECTANGLE,i.fixPointCount=2,i.set("params",n),i.setPoints(t),i.isFill=!1!==n.isFill||n.isFill,i}return i(e,t),a(e,[{key:"generate",value:function(){if(2===this.points.length){var t=[];if(this.isFill){var e=ol.extent.boundingExtent(this.points);t=ol.geom.Polygon.fromExtent(e).getCoordinates()}else{var n=this.points[0],o=this.points[1];t=[n,[n[0],o[1]],o,[o[0],n[1]],n]}this.setCoordinates(t)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(3),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Polygon.call(i,[]),i.type=s.SECTOR,i.fixPointCount=3,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints(),n=[e[0],e[1],e[2]],o=n[0],r=n[1],i=n[2],a=l.MathDistance(r,o),s=l.getAzimuth(r,o),u=l.getAzimuth(i,o),c=l.getArcPoints(o,a,s,u);c.push(o,c[0]),this.setCoordinates([c])}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Polygon);e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=n(3),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.LineString.call(i,[]),i.type=s.CURVE,i.t=.3,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){var t=this.getPointCount();if(!(t<2))if(2===t)this.setCoordinates(this.points);else{var e=l.getCurvePoints(this.t,this.points);this.setCoordinates(e)}}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.LineString);e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.type=s.FREE_LINE,i.freehand=!0,i.set("params",n),i.setPoints(t),ol.geom.LineString.call(i,[]),i}return i(e,t),a(e,[{key:"generate",value:function(){this.setCoordinates(this.points)}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.LineString);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.LineString.call(i,[]),i.type=s.POLYLINE,i.freehand=!1,i.set("params",n),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){this.setCoordinates(this.points)}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.LineString);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(43),l=n(42),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),f=n(40),h=o(f),p=n(137),d=o(p),g=n(68),y=o(g),v=n(44),m=o(v),b=n(41),w=o(b),P=n(5),O=function(t){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");if(a.map=t,!(n&&n instanceof ol.layer.Vector))throw new Error("缺少必要矢量图层！");return a.vectorLayer=n,a.mapViewport=a.map.getViewport(),a.options=o,a.textOverlay=null,a.draw=null,a.coordinate_=null,a.isMoveing=!1,a._uuid=(0,u.getuuid)(),a.activeInteraction(),a.map.getView().on("change:resolution",a._handleResolutionChange,a),m.default.call(a),a}return a(e,t),s(e,[{key:"activeInteraction",value:function(){this.draw=new ol.interaction.Draw({style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.7)"}),stroke:new ol.style.Stroke({color:"rgba(255, 0, 0, 0.8)",width:2}),image:new ol.style.Icon({anchor:[1,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgklEQVQ4T41T0W3CQAy1lfwRqR0h/CE5UhkBJmiZADpB0wlKJwA2aDegE5QR+Igl/noj9OPuLydXPuXQEYUKS5FyPvvd87ONRDRFxEdr7c4Y8ws3WFmW90VRvIjIF1ZVtQaANxH59N6v8zwvRaQEgCMATDu88I+Ipm1bk2XZHhEfAOAdFW00Gh2YOQafOeidHoaYEdGHc65GDZhMJuXpdDJ99hqkPmZe9e9iTgCoqmrWNM0hDerq/FGftXbcZxFzAgARrZg5vBaNiGpE3OhZRF6Zedu7DzkRYMrMKlQKYBBRQVVgw8zj3n3IGWSg9ESkds6tiqJQbe4AYJ6WGVkPAqh4+romdP9LbXMqZh/gXIKqm+d5EK9vbduOY7d0AAdL6AYLmqbRAQtGRMc4ONF/wSC2RF/PsuwbABapqLEjKqb3fq4sLtoYh6Lbiydr7TbtuwYDgH5qB9XmPEjdKG+Y+Xmo7ms+Lcs5N0uX6ei9X9y4TGtEXIZlukb7PzbdmNcisv8DtQILak2vZsYAAAAASUVORK5CYII="})}),type:"Circle",geometryFunction:ol.interaction.Draw.createBox()}),this.map.addInteraction(this.draw),this.draw.on("drawend",this.drawEnd,this)}},{key:"_handleResolutionChange",value:function(t){if(this.options.zoomWithView&&this.feature&&this.feature instanceof ol.Feature){var e=this.feature.getProperties(),n=new ol.style.Style({image:new ol.style.Icon({anchor:[1,0],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:e.src,scale:e.resolution/t.target.getResolution()})});this.feature.setStyle(n),this.map.render()}}},{key:"drawEnd",value:function(t){if(t&&t.feature){this.map.removeInteraction(this.draw),this.labelGeomtory=t.feature.getGeometry();var e=t.feature.getGeometry().getExtent();this.center=[e[0],e[3]];var n=this.map.getPixelFromCoordinate([e[0],e[1]]),o=this.map.getPixelFromCoordinate([e[2],e[3]]);this.updateTextArea({center:this.center,width:parseInt(Math.abs(n[0]-o[0])),height:parseInt(Math.abs(n[1]-o[1]))}),this.dispatch("TextAreaDrawEnd",t)}else console.info("未获取到要素！")}},{key:"creatTextArea",value:function(t){var e=document.createElement("div");e.className="ol-plot-text-area-content";var n=document.createElement("textarea"),o=document.createElement("span");o.className="ol-plot-text-area-editor",n.style.width=t.width+"px",n.style.height=t.height+"px",n.setAttribute("autofocus",!0),n.setAttribute("id",this._uuid),n.setAttribute("data-coordinates",JSON.stringify(t.center)),n.className="ol-plot-text-area",(0,y.default)(n),c.listen(n,"blur",this.textOnBlur,this),c.listen(n,"focus",this.textOnFocus,this),c.listen(n,"autosize:resized",this.textResized),c.listen(o,h.default.MOUSEDOWN,this.mouseDownHandle_,this),c.addListener(o,"mousemove",this.controlPointMouseMoveHandler2,this),e.appendChild(n),e.appendChild(o),this.textOverlay=new ol.Overlay({id:this._uuid,element:e,position:t.center,positioning:"right-top"}),this.setTextAreaStyle(P.DEF_TEXT_STYEL),this.map.addOverlay(this.textOverlay),this.map.render()}},{key:"mouseDownHandle_",value:function(){this.isMoveing=!0,c.listen(this.mapViewport,h.default.MOUSEMOVE,this.controlPointMouseMoveHandler_,this,!1),c.listen(this.mapViewport,h.default.MOUSEUP,this.controlPointMouseUpHandler_,this,!1)}},{key:"controlPointMouseMoveHandler_",value:function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);if(this.textOverlay){this.textOverlay.getElement().firstElementChild.setAttribute("data-coordinates",JSON.stringify(e)),this.textOverlay.setPosition(e),this.map.render()}}},{key:"controlPointMouseMoveHandler2",value:function(t){t.stopImmediatePropagation()}},{key:"controlPointMouseUpHandler_",value:function(){this.isMoveing=!1,c.unListen(this.mapViewport,h.default.MOUSEMOVE,this.controlPointMouseMoveHandler_,this),c.unListen(this.mapViewport,h.default.MOUSEUP,this.controlPointMouseUpHandler_,this)}},{key:"textOnBlur",value:function(t){var e=this;this.isMoveing||this.getImage(t.target).then(function(t){var n=e.textOverlay.getElement(),o=n.firstElementChild,r=o.getAttribute("data-coordinates");e.feature=new ol.Feature({geometry:new ol.geom.Point(JSON.parse(r))});var i=new ol.Feature({geometry:e.labelGeomtory});e.feature.setId(e._uuid),e.feature.setProperties({coordinates:JSON.parse(r),isPlotText:!0,layerName:e.vectorLayer.get("layerName"),id:e._uuid,src:t.src,resolution:e.map.getView().getResolution(),labelFeature:i});var a=new ol.style.Style({image:new ol.style.Icon({anchor:[0,0],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:t.src})});i.setStyle(new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0)"}),stroke:new ol.style.Stroke({color:"rgba(255, 0, 0, 0)",width:2})})),e.feature.setStyle(a),e.feature.set("_text_area_source_",e),e.feature.set("isPlot",!0),e.vectorLayer.getSource().addFeature(e.feature);var s=e.map.getOverlayById(e._uuid);e.map.removeOverlay(s)})}},{key:"textOnFocus",value:function(t){console.log(t)}},{key:"textResized",value:function(t){this.style.width=parseInt(this.offsetWidth)+"px",this.style.height=parseInt(this.offsetHeight)+"px"}},{key:"updateTextArea",value:function(t){if(this.textOverlay){var e=this.textOverlay.getElement();e.firstElementChild.setAttribute("data-coordinates",JSON.stringify(this.center)),this.textOverlay.setPosition(this.center),this.textOverlay.setElement(e),this.map.render()}else this.creatTextArea(t)}},{key:"getCanvas",value:function(t){try{return(0,d.default)(t)}catch(t){console.log(t)}}},{key:"getImage",value:function(t){try{return(0,d.default)(t).then(function(t){var e=new Image;return e.src=t.toDataURL("image/png"),new Promise(function(t){t(e)})}).catch(function(t){console.info(t)})}catch(t){console.log(t)}}},{key:"featureOnFocus",value:function(){this.textOverlay&&this.textOverlay instanceof ol.Overlay&&(this.map.addOverlay(this.textOverlay),this.vectorLayer.getSource().removeFeature(this.feature),this.map.render())}},{key:"setTextAreaStyle",value:function(t){if(this.textOverlay&&t){var e=this.textOverlay.getElement(),n=e.firstElementChild;for(var o in t)o&&t[o]&&(n.style[o]=t[o]);this.textOverlay.setElement(e),this.map.render()}}},{key:"getGeometry",value:function(){return new ol.geom.Point(this.center)}}]),e}((0,w.default)(m.default));e.default=O,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GatheringPlace=e.TailedSquadCombat=e.SquadCombat=e.TailedAttackArrow=e.AssaultDirection=e.FineArrow=e.StraightArrow=e.DoubleArrow=e.AttackArrow=e.FreePolygon=e.Polygon=e.ClosedCurve=e.Sector=e.Lune=e.Ellipse=e.RectAngle=e.FreeHandLine=e.Curve=e.Circle=e.Arc=e.Polyline=e.Pennant=e.Point=void 0;var r=n(133),i=o(r),a=n(132),s=o(a),u=n(129),l=o(u),c=n(111),f=o(c),h=n(118),p=o(h),d=n(127),g=o(d),y=n(128),v=o(y),m=n(125),b=o(m),w=n(119),P=o(w),O=n(123),_=o(O),E=n(126),x=o(E),k=n(120),T=o(k),C=n(124),M=o(C),S=n(121),A=o(S),L=n(27),I=o(L),R=n(113),j=o(R),F=n(115),D=o(F),N=n(59),B=o(N),H=n(112),W=o(H),U=n(116),V=o(U),G=n(114),z=o(G),Y=n(117),X=o(Y),Q=n(122),K=o(Q);e.Point=i.default,e.Pennant=s.default,e.Polyline=l.default,e.Arc=f.default,e.Circle=p.default,e.Curve=g.default,e.FreeHandLine=v.default,e.RectAngle=b.default,e.Ellipse=P.default,e.Lune=_.default,e.Sector=x.default,e.ClosedCurve=T.default,e.Polygon=M.default,e.FreePolygon=A.default,e.AttackArrow=I.default,e.DoubleArrow=j.default,e.StraightArrow=D.default,e.FineArrow=B.default,e.AssaultDirection=W.default,e.TailedAttackArrow=V.default,e.SquadCombat=z.default,e.TailedSquadCombat=X.default,e.GatheringPlace=K.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Point.call(i,[]),i.type=s.PENNANT,i.options=n||{},i.set("params",i.options),i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){this.setCoordinates(this.points)}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Point);e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),u=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return ol.geom.Point.call(i,[]),i.type=s.POINT,i.options=n||{},i.set("params",i.options),i.fixPointCount=1,i.setPoints(t),i}return i(e,t),a(e,[{key:"generate",value:function(){var t=this.points[0];this.setCoordinates(t)}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}},{key:"isPlot",value:function(){return!0}},{key:"setPoints",value:function(t){this.points=t||[],this.points.length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.points.slice(0)}},{key:"getPointCount",value:function(){return this.points.length}},{key:"updatePoint",value:function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}},{key:"updateLastPoint",value:function(t){this.updatePoint(t,this.points.length-1)}},{key:"finishDrawing",value:function(){}}]),e}(ol.geom.Point);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};ol.style.Factory=function(t){var e=t&&"object"===(void 0===t?"undefined":o(t))?t:{},n=new ol.style.Style({});return e.geometry&&e.geometry instanceof ol.geom.Geometry&&n.setGeometry(e.geometry),e.zIndex&&"number"==typeof e.zIndex&&n.setZIndex(e.zIndex),e.fill&&"object"===o(e.fill)&&n.setFill(this._getFill(e.fill)),e.image&&"object"===o(e.image)&&n.setImage(this._getImage(e.image)),e.stroke&&"object"===o(e.stroke)&&n.setStroke(this._getStroke(e.stroke)),e.text&&"object"===o(e.text)&&n.setText(this._getText(e.text)),n},ol.style.Factory.prototype._getRegularShape=function(t){try{return new ol.style.RegularShape({fill:this._getFill(t.fill)||void 0,points:"number"==typeof t.points?t.points:1,radius:"number"==typeof t.radius?t.radius:void 0,radius1:"number"==typeof t.radius1?t.radius1:void 0,radius2:"number"==typeof t.radius2?t.radius2:void 0,angle:"number"==typeof t.angle?t.angle:0,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,stroke:this._getStroke(t.stroke)||void 0,rotation:"number"==typeof t.rotation?t.rotation:0,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,atlasManager:t.atlasManager?t.atlasManager:void 0})}catch(t){console.log(t)}},ol.style.Factory.prototype._getImage=function(t){try{return t=t||{},"icon"===t.type?this._getIcon(t.image):this._getRegularShape(t.image)}catch(t){console.log(t)}},ol.style.Factory.prototype._getIcon=function(t){try{t=t||{};return new ol.style.Icon({anchor:t.imageAnchor?t.imageAnchor:[.5,.5],anchorXUnits:t.imageAnchorXUnits?t.imageAnchorXUnits:"fraction",anchorYUnits:t.imageAnchorYUnits?t.imageAnchorYUnits:"fraction",anchorOrigin:t.imageAnchorOrigin?t.imageAnchorYUnits:"top-left",color:t.imageColor?t.imageColor:void 0,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,img:t.img?t.img:void 0,offset:t.offset&&Array.isArray(t.offset)&&2===t.offset.length?t.offset:[0,0],offsetOrigin:t.offsetOrigin?t.offsetOrigin:"top-left",scale:"number"==typeof t.scale?t.scale:1,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,opacity:"number"==typeof t.imageOpacity?t.imageOpacity:1,rotation:"number"==typeof t.imageRotation?t.imageRotation:0,size:t.size&&Array.isArray(t.size)&&2===t.size.length?t.size:void 0,imgSize:t.imgSize&&Array.isArray(t.imgSize)&&2===t.imgSize.length?t.imgSize:void 0,src:t.imageSrc?t.imageSrc:void 0})}catch(t){console.log(t)}},ol.style.Factory.prototype._getStroke=function(t){try{t=t||{};return new ol.style.Stroke({color:t.strokeColor?t.strokeColor:void 0,lineCap:t.strokeLineCap&&"string"==typeof t.strokeLineCap?t.strokeLineCap:"round",lineJoin:t.strokeLineJoin&&"string"==typeof t.strokeLineJoin?t.strokeLineJoin:"round",lineDash:t.strokeLineDash?t.strokeLineDash:void 0,lineDashOffset:"number"==typeof t.strokeLineDashOffset?t.strokeLineDashOffset:"0",miterLimit:"number"==typeof t.strokeMiterLimit?t.strokeMiterLimit:10,width:"number"==typeof t.strokeWidth?t.strokeWidth:void 0})}catch(t){console.log(t)}},ol.style.Factory.prototype._getText=function(t){try{return new ol.style.Text({font:t.textFont&&"string"==typeof t.textFont?t.textFont:"10px sans-serif",offsetX:"number"==typeof t.textOffsetX?t.textOffsetX:0,offsetY:"number"==typeof t.textOffsetY?t.textOffsetY:0,scale:"number"==typeof t.textScale?t.textScale:void 0,rotation:"number"==typeof t.textRotation?t.textRotation:0,text:t.text&&"string"==typeof t.text?t.text:void 0,textAlign:t.textAlign&&"string"==typeof t.textAlign?t.textAlign:"start",textBaseline:t.textBaseline&&"string"==typeof t.textBaseline?t.textBaseline:"alphabetic",rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,fill:this._getFill(t.textFill),stroke:this._getStroke(t.textStroke)})}catch(t){console.log(t)}},ol.style.Factory.prototype._getFill=function(t){try{t=t||{};return new ol.style.Fill({color:t.fillColor?t.fillColor:void 0})}catch(t){console.log(t)}};var r=ol.style.Factory;e.default=r,t.exports=e.default},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(131),s=o(a),u=n(0),l=o(u),c=function(){function t(e){if(r(this,t),this.version="1.0.0",!(e&&e instanceof ol.Map))throw new Error("缺少地图对象！");this.map=e}return i(t,[{key:"createPlot",value:function(t,e,n){var o=n||{};switch(t){case l.TextArea:return"TextArea";case l.POINT:return new s.Point(e,o);case l.PENNANT:return new s.Pennant(e,o);case l.POLYLINE:return new s.Polyline(e,o);case l.ARC:return new s.Arc(e,o);case l.CIRCLE:return new s.Circle(e,o);case l.CURVE:return new s.Curve(e,o);case l.FREE_LINE:return new s.FreeHandLine(e,o);case l.RECTANGLE:return new s.RectAngle(e,o);case l.ELLIPSE:return new s.Ellipse(e,o);case l.LUNE:return new s.Lune(e,o);case l.SECTOR:return new s.Sector(e,o);case l.CLOSED_CURVE:return new s.ClosedCurve(e,o);case l.POLYGON:return new s.Polygon(e,o);case l.ATTACK_ARROW:return new s.AttackArrow(e,o);case l.FREE_POLYGON:return new s.FreePolygon(e,o);case l.DOUBLE_ARROW:return new s.DoubleArrow(e,o);case l.STRAIGHT_ARROW:return new s.StraightArrow(e,o);case l.FINE_ARROW:return new s.FineArrow(e,o);case l.ASSAULT_DIRECTION:return new s.AssaultDirection(e,o);case l.TAILED_ATTACK_ARROW:return new s.TailedAttackArrow(e,o);case l.SQUAD_COMBAT:return new s.SquadCombat(e,o);case l.TAILED_SQUAD_COMBAT:return new s.TailedSquadCombat(e,o);case l.GATHERING_PLACE:return new s.GatheringPlace(e,o)}return null}},{key:"setMap",value:function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t}},{key:"getMap",value:function(){return this.map}}]),t}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),n(67),n(62),n(63),n(61);var i=n(64),a=o(i),s=n(65),u=o(s),l=n(66),c=o(l),f=n(0),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),p=function t(e){r(this,t),this.plotDraw=new a.default(e,{isClear:!0}),this.plotEdit=new u.default(e),this.plotUtils=new c.default(e,this.plotDraw.layerName)};p.PlotTypes=h,e.default=p,t.exports=e.default},function(t,e,n){"use strict";(function(n){var o,r,i,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){if("object"===s(e)&&void 0!==t)t.exports=n();else{r=[],o=n,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}}(function(){var t;return function t(e,n,o){function r(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof a&&a;if(!u&&l)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n||t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,o,r){(function(e){!function(n){function i(t){throw new RangeError(j[t])}function a(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function u(t,e){var n=t.split("@"),o="";return n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(R,"."),o+a(t.split("."),e).join(".")}function l(t){for(var e,n,o=[],r=0,i=t.length;r<i;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<i?(n=t.charCodeAt(r++),56320==(64512&n)?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--)):o.push(e);return o}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:E}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var o=0;for(t=n?D(t/C):t>>1,t+=D(t/e);t>F*k>>1;o+=E)t=D(t/F);return D(o+(F+1)*t/(t+T))}function d(t){var e,n,o,r,a,s,u,l,h,d,g=[],y=t.length,v=0,m=S,b=M;for(n=t.lastIndexOf(A),n<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&i("not-basic"),g.push(t.charCodeAt(o));for(r=n>0?n+1:0;r<y;){for(a=v,s=1,u=E;r>=y&&i("invalid-input"),l=f(t.charCodeAt(r++)),(l>=E||l>D((_-v)/s))&&i("overflow"),v+=l*s,h=u<=b?x:u>=b+k?k:u-b,!(l<h);u+=E)d=E-h,s>D(_/d)&&i("overflow"),s*=d;e=g.length+1,b=p(v-a,e,0==a),D(v/e)>_-m&&i("overflow"),m+=D(v/e),v%=e,g.splice(v++,0,m)}return c(g)}function g(t){var e,n,o,r,a,s,u,c,f,d,g,y,v,m,b,w=[];for(t=l(t),y=t.length,e=S,n=0,a=M,s=0;s<y;++s)(g=t[s])<128&&w.push(N(g));for(o=r=w.length,r&&w.push(A);o<y;){for(u=_,s=0;s<y;++s)(g=t[s])>=e&&g<u&&(u=g);for(v=o+1,u-e>D((_-n)/v)&&i("overflow"),n+=(u-e)*v,e=u,s=0;s<y;++s)if(g=t[s],g<e&&++n>_&&i("overflow"),g==e){for(c=n,f=E;d=f<=a?x:f>=a+k?k:f-a,!(c<d);f+=E)b=c-d,m=E-d,w.push(N(h(d+b%m,0))),c=D(b/m);w.push(N(h(c,0))),a=p(n,v,o==r),n=0,++o}++n,++e}return w.join("")}function y(t){return u(t,function(t){return L.test(t)?d(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return I.test(t)?"xn--"+g(t):t})}var m="object"==(void 0===r?"undefined":s(r))&&r&&!r.nodeType&&r,b="object"==(void 0===o?"undefined":s(o))&&o&&!o.nodeType&&o,w="object"==(void 0===e?"undefined":s(e))&&e;w.global!==w&&w.window!==w&&w.self!==w||(n=w);var P,O,_=2147483647,E=36,x=1,k=26,T=38,C=700,M=72,S=128,A="-",L=/^xn--/,I=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=E-x,D=Math.floor,N=String.fromCharCode;if(P={version:"1.3.2",ucs2:{decode:l,encode:c},decode:d,encode:g,toASCII:v,toUnicode:y},"function"==typeof t&&"object"==s(t.amd)&&t.amd)t("punycode",function(){return P});else if(m&&b)if(o.exports==m)b.exports=P;else for(O in P)P.hasOwnProperty(O)&&(m[O]=P[O]);else n.punycode=P}(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){function o(t,e,n){!t.defaultView||e===t.defaultView.pageXOffset&&n===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,n)}function r(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){s("Unable to copy canvas content from",t,e)}}function i(t,e){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),o=t.firstChild;o;)!0!==e&&1===o.nodeType&&"SCRIPT"===o.nodeName||n.appendChild(i(o,e)),o=o.nextSibling;return 1===t.nodeType&&(n._scrollTop=t.scrollTop,n._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?r(t,n):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value)),n}function a(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var e=t.firstChild;e;)a(e),e=e.nextSibling}}var s=t("./log");e.exports=function(t,e,n,r,s,u,l){var c=i(t.documentElement,s.javascriptEnabled),f=e.createElement("iframe");return f.className="html2canvas-container",f.style.visibility="hidden",f.style.position="fixed",f.style.left="-10000px",f.style.top="0px",f.style.border="0",f.width=n,f.height=r,f.scrolling="no",e.body.appendChild(f),new Promise(function(e){var n=f.contentWindow.document;f.contentWindow.onload=f.onload=function(){var t=setInterval(function(){n.body.childNodes.length>0&&(a(n.documentElement),clearInterval(t),"view"===s.type&&(f.contentWindow.scrollTo(u,l),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||f.contentWindow.scrollY===l&&f.contentWindow.scrollX===u||(n.documentElement.style.top=-l+"px",n.documentElement.style.left=-u+"px",n.documentElement.style.position="absolute")),e(f))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),o(t,u,l),n.replaceChild(n.adoptNode(c),n.documentElement),n.close()})}},{"./log":13}],3:[function(t,e,n){function o(t){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}o.prototype.darken=function(t){var e=1-t;return new o([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},o.prototype.isTransparent=function(){return 0===this.a},o.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},o.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var r=/^#([a-f0-9]{3})$/i;o.prototype.hex3=function(t){var e=null;return null!==(e=t.match(r))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var i=/^#([a-f0-9]{6})$/i;o.prototype.hex6=function(t){var e=null;return null!==(e=t.match(i))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var a=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;o.prototype.rgb=function(t){var e=null;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;o.prototype.rgba=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},o.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},o.prototype.namedColor=function(t){t=t.toLowerCase();var e=u[t];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0;return!!e},o.prototype.isColor=!0;var u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=o},{}],4:[function(e,n,o){function r(t,e){var n=_++;if(e=e||{},e.logging&&(v.options.logging=!0,v.options.start=Date.now()),e.async=void 0===e.async||e.async,e.allowTaint=void 0!==e.allowTaint&&e.allowTaint,e.removeContainer=void 0===e.removeContainer||e.removeContainer,e.javascriptEnabled=void 0!==e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout=void 0===e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:p,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=e.width?e.width:window.innerWidth,r=null!=e.height?e.height:window.innerHeight;return w(f(t),e.proxy,document,o,r,e).then(function(t){return a(t.contentWindow.document.documentElement,t,e,o,r)})}var s=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return s.setAttribute(O+n,n),i(s.ownerDocument,e,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,n).then(function(t){return"function"==typeof e.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function i(t,e,n,o,r){return b(t,t,n,o,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(i){v("Document cloned");var s=O+r,u="["+s+"='"+r+"']";t.querySelector(u).removeAttribute(s);var l=i.contentWindow,c=l.document.querySelector(u);return("function"==typeof e.onclone?Promise.resolve(e.onclone(l.document)):Promise.resolve(!0)).then(function(){return a(c,i,e,n,o)})})}function a(t,e,n,o,r){var i=e.contentWindow,a=new h(i.document),f=new d(n,a),p=P(t),y="view"===n.type?o:l(i.document),m="view"===n.type?r:c(i.document),b=new n.renderer(y,m,f,n,document);return new g(t,b,a,f,n).ready.then(function(){v("Finished rendering");var o;return o="view"===n.type?u(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):t===i.document.body||t===i.document.documentElement||null!=n.canvas?b.canvas:u(b.canvas,{width:null!=n.width?n.width:p.width,height:null!=n.height?n.height:p.height,top:p.top,left:p.left,x:0,y:0}),s(e,n),o})}function s(t,e){e.removeContainer&&(t.parentNode.removeChild(t),v("Cleaned up container"))}function u(t,e){var n=document.createElement("canvas"),o=Math.min(t.width-1,Math.max(0,e.left)),r=Math.min(t.width,Math.max(1,e.left+e.width)),i=Math.min(t.height-1,Math.max(0,e.top)),a=Math.min(t.height,Math.max(1,e.top+e.height));n.width=e.width,n.height=e.height;var s=r-o,u=a-i;return v("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",s,"height:",u),v("Resulting crop with width",e.width,"and height",e.height,"with x",o,"and y",i),n.getContext("2d").drawImage(t,o,i,s,u,e.x,e.y,s,u),n}function l(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function c(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function f(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}var h=e("./support"),p=e("./renderers/canvas"),d=e("./imageloader"),g=e("./nodeparser"),y=e("./nodecontainer"),v=e("./log"),m=e("./utils"),b=e("./clone"),w=e("./proxy").loadUrlDocument,P=m.getBounds,O="data-html2canvas-node",_=0;r.CanvasRenderer=p,r.NodeContainer=y,r.log=v,r.utils=m;var E="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;n.exports=E,"function"==typeof t&&t.amd&&t("html2canvas",[],function(){return E})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e,n){function o(t){if(this.src=t,r("DummyImageContainer for",t),!this.promise||!this.image){r("Initiating DummyImageContainer"),o.prototype.image=new Image;var e=this.image;o.prototype.promise=new Promise(function(t,n){e.onload=t,e.onerror=n,e.src=i(),!0===e.complete&&t(e)})}}var r=t("./log"),i=t("./utils").smallImage;e.exports=o},{"./log":13,"./utils":26}],6:[function(t,e,n){function o(t,e){var n,o,i=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span");i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),a.src=r(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode("Hidden Text")),i.appendChild(s),i.appendChild(a),n=a.offsetTop-s.offsetTop+1,i.removeChild(s),i.appendChild(document.createTextNode("Hidden Text")),i.style.lineHeight="normal",a.style.verticalAlign="super",o=a.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=n,this.lineWidth=1,this.middle=o}var r=t("./utils").smallImage;e.exports=o},{"./utils":26}],7:[function(t,e,n){function o(){this.data={}}var r=t("./font");o.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new r(t,e)),this.data[t+"-"+e]},e.exports=o},{"./font":6}],8:[function(t,e,n){function o(e,n,o){this.image=null,this.src=e;var r=this,a=i(e);this.promise=(n?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(o.proxy,a,o)).then(function(e){return t("./core")(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(t){return r.image=t})}var r=t("./utils"),i=r.getBounds,a=t("./proxy").loadUrlDocument;o.prototype.proxyLoad=function(t,e,n){var o=this.src;return a(o.src,t,o.ownerDocument,e.width,e.height,n)},e.exports=o},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e,n){function o(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}o.TYPES={LINEAR:1,RADIAL:2},o.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=o},{}],10:[function(t,e,n){function o(t,e){this.src=t,this.image=new Image;var n=this;this.tainted=null,this.promise=new Promise(function(o,r){n.image.onload=o,n.image.onerror=r,e&&(n.image.crossOrigin="anonymous"),n.image.src=t,!0===n.image.complete&&o(n.image)})}e.exports=o},{}],11:[function(t,e,n){function o(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var r=t("./log"),i=t("./imagecontainer"),a=t("./dummyimagecontainer"),s=t("./proxyimagecontainer"),u=t("./framecontainer"),l=t("./svgcontainer"),c=t("./svgnodecontainer"),f=t("./lineargradientcontainer"),h=t("./webkitgradientcontainer"),p=t("./utils").bind;o.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},o.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},o.prototype.addImage=function(t,e){return function(n){n.args.forEach(function(o){this.imageExists(t,o)||(t.splice(0,0,e.call(this,n)),r("Added image #"+t.length,"string"==typeof o?o.substring(0,100):o))},this)}},o.prototype.hasImageBackground=function(t){return"none"!==t.method},o.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new i(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||!0===this.options.allowTaint||this.isSVG(e)?new i(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new i(e,!0):this.options.proxy?new s(e,this.options.proxy):new a(e):new l(e)}return"linear-gradient"===t.method?new f(t):"gradient"===t.method?new h(t):"svg"===t.method?new c(t.args[0],this.support.svg):"IFRAME"===t.method?new u(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new a(t)},o.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||l.prototype.isInline(t)},o.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},o.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},o.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},o.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){return new a(t.src).promise.then(function(e){t.image=e})})},o.prototype.get=function(t){var e=null;return this.images.some(function(n){return(e=n).src===t})?e:null},o.prototype.fetch=function(t){return this.images=t.reduce(p(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){r("Succesfully loaded image #"+(e+1),t)},function(n){r("Failed loading image #"+(e+1),t,n)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),r("Finished searching images"),this},o.prototype.timeout=function(t,e){var n,o=Promise.race([t.promise,new Promise(function(o,i){n=setTimeout(function(){r("Timed out loading image",t),i(t)},e)})]).then(function(t){return clearTimeout(n),t});return o.catch(function(){clearTimeout(n)}),o},e.exports=o},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e,n){function o(t){r.apply(this,arguments),this.type=r.TYPES.LINEAR;var e=o.REGEXP_DIRECTION.test(t.args[0])||!r.REGEXP_COLORSTOP.test(t.args[0]);e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=n;break;case"center":break;default:var r=.01*parseFloat(t,10);if(isNaN(r))break;0===e?(this.y0=r,this.y1=1-this.y0):(this.x0=r,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(r.REGEXP_COLORSTOP),n=+e[2],o=0===n?"%":e[3];return{color:new i(e[1]),stop:"%"===o?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(n,o){return null!==n.stop&&(t.stop=(n.stop-this.colorStops[e-1].stop)/(o+1)+this.colorStops[e-1].stop,!0)},this)},this)}var r=t("./gradientcontainer"),i=t("./color");o.prototype=Object.create(r.prototype),o.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=o},{"./color":3,"./gradientcontainer":9}],13:[function(t,e,n){var o=function t(){t.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-t.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};o.options={logging:!1},e.exports=o},{}],14:[function(t,e,n){function o(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}function i(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())});if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}function a(t){return-1!==t.toString().indexOf("%")}function s(t){return t.replace("px","")}function u(t){return parseFloat(t)}var l=t("./color"),c=t("./utils"),f=c.getBounds,h=c.parseBackgrounds,p=c.offsetBounds;o.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},o.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},o.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},o.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},o.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},o.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],n=this.css(t);return void 0===n&&e.some(function(e){return void 0!==(n=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===n?null:n},o.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},o.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},o.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new l(this.css(t)))},o.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},o.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},o.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},o.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=h(this.css("backgroundImage")))},o.prototype.cssList=function(t,e){var n=(this.css(t)||"").split(",");return n=n[e||0]||n[0]||"auto",n=n.trim().split(" "),1===n.length&&(n=[n[0],a(n[0])?"auto":n[0]]),n},o.prototype.parseBackgroundSize=function(t,e,n){var o,r,i=this.cssList("backgroundSize",n);if(a(i[0]))o=t.width*parseFloat(i[0])/100;else{if(/contain|cover/.test(i[0])){var s=t.width/t.height,u=e.width/e.height;return s<u^"contain"===i[0]?{width:t.height*u,height:t.height}:{width:t.width,height:t.width/u}}o=parseInt(i[0],10)}return r="auto"===i[0]&&"auto"===i[1]?e.height:"auto"===i[1]?o/e.width*e.height:a(i[1])?t.height*parseFloat(i[1])/100:parseInt(i[1],10),"auto"===i[0]&&(o=r/e.height*e.width),{width:o,height:r}},o.prototype.parseBackgroundPosition=function(t,e,n,o){var r,i,s=this.cssList("backgroundPosition",n);return r=a(s[0])?(t.width-(o||e).width)*(parseFloat(s[0])/100):parseInt(s[0],10),i="auto"===s[1]?r/e.width*e.height:a(s[1])?(t.height-(o||e).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(r=i/e.height*e.width),{left:r,top:i}},o.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},o.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var n=t.match(this.TEXT_SHADOW_PROPERTY),o=0;n&&o<n.length;o++){var r=n[o].match(this.TEXT_SHADOW_VALUES);e.push({color:new l(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return e},o.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(s).map(u);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},o.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?i(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e||[1,0,0,1,0,0]}return this.transformMatrix},o.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):f(this.node))},o.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},o.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=r(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},o.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,o.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,o.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,o.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=o},{"./color":3,"./utils":26}],15:[function(t,e,n){function o(t,e,n,o,r){H("Starting NodeParser"),this.renderer=e,this.options=r,this.range=null,this.support=n,this.renderQueue=[],this.stack=new X(!0,1,t.ownerDocument,null);var i=new U(t,null);if(r.background&&e.rectangle(0,0,e.width,e.height,new Y(r.background)),t===t.ownerDocument.documentElement){var a=new U(i.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,a.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=j([i].concat(this.getChildren(i)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new z,H("Fetched nodes, total:",this.nodes.length),H("Calculate overflow clips"),this.calculateOverflowClips(),H("Start fetching images"),this.images=o.fetch(this.nodes.filter(T)),this.ready=this.images.ready.then(K(function(){return H("Images loaded, starting parsing"),H("Creating stacking contexts"),this.createStackingContexts(),H("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),H("Render queue created with "+this.renderQueue.length+" items"),new Promise(K(function(t){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function r(t){return t.parent&&t.parent.clip.length}function i(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function a(){}function s(t,e,n,o){return t.map(function(r,i){if(r.width>0){var a=e.left,s=e.top,u=e.width,l=e.height-t[2].width;switch(i){case 0:l=t[0].width,r.args=f({c1:[a,s],c2:[a+u,s],c3:[a+u-t[1].width,s+l],c4:[a+t[3].width,s+l]},o[0],o[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:a=e.left+e.width-t[1].width,u=t[1].width,r.args=f({c1:[a+u,s],c2:[a+u,s+l+t[2].width],c3:[a,s+l],c4:[a,s+t[0].width]},o[1],o[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+e.height-t[2].width,l=t[2].width,r.args=f({c1:[a+u,s+l],c2:[a,s+l],c3:[a+t[3].width,s],c4:[a+u-t[3].width,s]},o[2],o[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:u=t[3].width,r.args=f({c1:[a,s+l+t[2].width],c2:[a,s],c3:[a+u,s+t[0].width],c4:[a+u,s+l]},o[3],o[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return r})}function u(t,e,n,o){var r=(Math.sqrt(2)-1)/3*4,i=n*r,a=o*r,s=t+n,u=e+o;return{topLeft:c({x:t,y:u},{x:t,y:u-a},{x:s-i,y:e},{x:s,y:e}),topRight:c({x:t,y:e},{x:t+i,y:e},{x:s,y:u-a},{x:s,y:u}),bottomRight:c({x:s,y:e},{x:s,y:e+a},{x:t+i,y:u},{x:t,y:u}),bottomLeft:c({x:s,y:u},{x:s-i,y:u},{x:t,y:e+a},{x:t,y:e})}}function l(t,e,n){var o=t.left,r=t.top,i=t.width,a=t.height,s=e[0][0]<i/2?e[0][0]:i/2,l=e[0][1]<a/2?e[0][1]:a/2,c=e[1][0]<i/2?e[1][0]:i/2,f=e[1][1]<a/2?e[1][1]:a/2,h=e[2][0]<i/2?e[2][0]:i/2,p=e[2][1]<a/2?e[2][1]:a/2,d=e[3][0]<i/2?e[3][0]:i/2,g=e[3][1]<a/2?e[3][1]:a/2,y=i-c,v=a-p,m=i-h,b=a-g;return{topLeftOuter:u(o,r,s,l).topLeft.subdivide(.5),topLeftInner:u(o+n[3].width,r+n[0].width,Math.max(0,s-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:u(o+y,r,c,f).topRight.subdivide(.5),topRightInner:u(o+Math.min(y,i+n[3].width),r+n[0].width,y>i+n[3].width?0:c-n[3].width,f-n[0].width).topRight.subdivide(.5),bottomRightOuter:u(o+m,r+v,h,p).bottomRight.subdivide(.5),bottomRightInner:u(o+Math.min(m,i-n[3].width),r+Math.min(v,a+n[0].width),Math.max(0,h-n[1].width),p-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:u(o,r+b,d,g).bottomLeft.subdivide(.5),bottomLeftInner:u(o+n[3].width,r+b,Math.max(0,d-n[3].width),g-n[2].width).bottomLeft.subdivide(.5)}}function c(t,e,n,o){var r=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:o,subdivide:function(i){var a=r(t,e,i),s=r(e,n,i),u=r(n,o,i),l=r(a,s,i),f=r(s,u,i),h=r(l,f,i);return[c(t,a,l,h),c(h,f,u,o)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function f(t,e,n,o,r,i,a){var s=[];return e[0]>0||e[1]>0?(s.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(s)):s.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",t.c2[0],t.c2[1]]),s.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",t.c4[0],t.c4[1]]),s}function h(t,e,n,o,r,i,a){e[0]>0||e[1]>0?(t.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(t),o[1].curveTo(t)):t.push(["line",i,a]),(n[0]>0||n[1]>0)&&t.push(["line",r[0].start.x,r[0].start.y])}function p(t){return t.cssInt("zIndex")<0}function d(t){return t.cssInt("zIndex")>0}function g(t){return 0===t.cssInt("zIndex")}function y(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function v(t){return t instanceof X}function m(t){return t.node.data.trim().length>0}function b(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function w(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var n=t.css("border"+e+"Radius"),o=n.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(L)})}function P(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function O(t){return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(t.css("position"))?t.css("zIndex"):"auto")}function _(t){return"static"!==t.css("position")}function E(t){return"none"!==t.css("float")}function x(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}function k(t){var e=this;return function(){return!t.apply(e,arguments)}}function T(t){return t.node.nodeType===Node.ELEMENT_NODE}function C(t){return!0===t.isPseudoElement}function M(t){return t.node.nodeType===Node.TEXT_NODE}function S(t){return function(e,n){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(n.cssInt("zIndex")+t.indexOf(n)/t.length)}}function A(t){return t.getOpacity()<1}function L(t){return parseInt(t,10)}function I(t){return t.width}function R(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function j(t){return[].concat.apply([],t)}function F(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function D(t){for(var e,n=[],o=0,r=!1;t.length;)N(t[o])===r?(e=t.splice(0,o),e.length&&n.push(W.ucs2.encode(e)),r=!r,o=0):o++,o>=t.length&&(e=t.splice(0,o),e.length&&n.push(W.ucs2.encode(e)));return n}function N(t){return-1!==[32,13,10,9,45].indexOf(t)}function B(t){return/[^\u0000-\u00ff]/.test(t)}var H=t("./log"),W=t("punycode"),U=t("./nodecontainer"),V=t("./textcontainer"),G=t("./pseudoelementcontainer"),z=t("./fontmetrics"),Y=t("./color"),X=t("./stackingcontext"),Q=t("./utils"),K=Q.bind,q=Q.getBounds,J=Q.parseBackgrounds,Z=Q.offsetBounds;o.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(T(t)){C(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],n=t.parseClip();n&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+n.left,t.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),t.clip=r(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,C(t)&&t.cleanDOM()}else M(t)&&(t.clip=r(t)?t.parent.clip:[]);C(t)||(t.bounds=null)},this)},o.prototype.asyncRenderer=function(t,e,n){n=n||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():n+20>Date.now()?this.asyncRenderer(t,e,n):setTimeout(K(function(){this.asyncRenderer(t,e)},this),0)},o.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+G.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+G.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},o.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},o.prototype.createStyles=function(t,e){var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)},o.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(t,":before"),o=this.getPseudoElement(t,":after");n&&e.push(n),o&&e.push(o)}return j(e)},o.prototype.getPseudoElement=function(t,e){var n=t.computedStyle(e);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var o=F(n.content),r="url"===o.substr(0,3),a=document.createElement(r?"img":"html2canvaspseudoelement"),s=new G(a,t,e),u=n.length-1;u>=0;u--){var l=i(n.item(u));a.style[l]=n[l]}if(a.className=G.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+G.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return a.src=J(o)[0].args[0],[s];var c=document.createTextNode(o);return a.appendChild(c),[s,new V(c,s)]},o.prototype.getChildren=function(t){return j([].filter.call(t.node.childNodes,P).map(function(e){var n=[e.nodeType===Node.TEXT_NODE?new V(e,t):new U(e,t)].filter(R);return e.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==e.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},o.prototype.newStackingContext=function(t,e){var n=new X(e,t.getOpacity(),t.node,t.parent);t.cloneTo(n),(e?n.getParentStack(this):n.parent.stack).contexts.push(n),t.stack=n},o.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){T(t)&&(this.isRootElement(t)||A(t)||O(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):T(t)&&(_(t)&&g(t)||x(t)||E(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},o.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},o.prototype.isRootElement=function(t){return null===t.parent},o.prototype.sortStackingContexts=function(t){t.contexts.sort(S(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},o.prototype.parseTextBounds=function(t){return function(e,n,o){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var r=o.slice(0,n).join("").length;return this.getRangeBounds(t.node,r,e.length)}if(t.node&&"string"==typeof t.node.data){var i=t.node.splitText(e.length),a=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=i,a}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},o.prototype.getWrapperBounds=function(t,e){var n=t.ownerDocument.createElement("html2canvaswrapper"),o=t.parentNode,r=t.cloneNode(!0);n.appendChild(t.cloneNode(!0)),o.replaceChild(n,t);var i=e?Z(n):q(n);return o.replaceChild(r,n),i},o.prototype.getRangeBounds=function(t,e,n){var o=this.range||(this.range=t.ownerDocument.createRange());return o.setStart(t,e),o.setEnd(t,e+n),o.getBoundingClientRect()},o.prototype.parse=function(t){var e=t.contexts.filter(p),n=t.children.filter(T),o=n.filter(k(E)),r=o.filter(k(_)).filter(k(y)),i=n.filter(k(_)).filter(E),s=o.filter(k(_)).filter(y),u=t.contexts.concat(o.filter(_)).filter(g),l=t.children.filter(M).filter(m),c=t.contexts.filter(d);e.concat(r).concat(i).concat(s).concat(u).concat(l).concat(c).forEach(function(t){this.renderQueue.push(t),v(t)&&(this.parse(t),this.renderQueue.push(new a))},this)},o.prototype.paint=function(t){try{t instanceof a?this.renderer.ctx.restore():M(t)?(C(t.parent)&&t.parent.appendToDOM(),this.paintText(t),C(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(t){if(H(t),this.options.strict)throw t}},o.prototype.paintNode=function(t){v(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},o.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(I))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(t.node);n?this.renderer.renderImage(t,e,t.borders,n):H("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var o=this.images.get(t.node.src);o?this.renderer.renderImage(t,e,t.borders,o):H("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},o.prototype.paintCheckbox=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height),o={width:n-1,height:n-1,top:e.top,left:e.left},r=[3,3],i=[r,r,r,r],a=[1,1,1,1].map(function(t){return{color:new Y("#A5A5A5"),width:t}}),u=l(o,i,a);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new Y("#DEDEDE")),this.renderer.renderBorders(s(a,o,u,i)),t.node.checked&&(this.renderer.font(new Y("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",o.left+n/6,o.top+n-1))},this)},o.prototype.paintRadio=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,n,new Y("#DEDEDE"),1,new Y("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+n/4)+1,Math.ceil(e.top+n/4)+1,Math.floor(n/2),new Y("#424242"))},this)},o.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var n=t.node.ownerDocument,o=n.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{o.style[e]=t.css(e)}catch(t){H("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}});var r=t.parseBounds();o.style.position="fixed",o.style.left=r.left+"px",o.style.top=r.top+"px",o.textContent=e,n.body.appendChild(o),this.paintText(new V(o.firstChild,t)),n.body.removeChild(o)}},o.prototype.paintText=function(t){t.applyTextTransform();var e=W.ucs2.decode(t.node.data),n=this.options.letterRendering&&!b(t)||B(t.node.data)?e.map(function(t){return W.ucs2.encode([t])}):D(e),o=t.parent.fontWeight(),r=t.parent.css("fontSize"),i=t.parent.css("fontFamily"),a=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),o,r,i),a.length?this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){n.map(this.parseTextBounds(t),this).forEach(function(e,o){e&&(this.renderer.text(n[o],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(i,r)))},this)},this)},o.prototype.renderTextDecoration=function(t,e,n){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+n.baseline+n.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+n.middle+n.lineWidth),e.width,1,t.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};o.prototype.parseBorders=function(t){var e=t.parseBounds(),n=w(t),o=["Top","Right","Bottom","Left"].map(function(e,n){var o=t.css("border"+e+"Style"),r=t.color("border"+e+"Color");"inset"===o&&r.isBlack()&&(r=new Y([255,255,255,r.a]));var i=$[o]?$[o][n]:null;return{width:t.cssInt("border"+e+"Width"),color:i?r[i[0]](i[1]):r,args:null}}),r=l(e,n,o);return{clip:this.parseBackgroundClip(t,r,o,n,e),borders:s(o,e,r,n)}},o.prototype.parseBackgroundClip=function(t,e,n,o,r){var i=t.css("backgroundClip"),a=[];switch(i){case"content-box":case"padding-box":h(a,o[0],o[1],e.topLeftInner,e.topRightInner,r.left+n[3].width,r.top+n[0].width),h(a,o[1],o[2],e.topRightInner,e.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),h(a,o[2],o[3],e.bottomRightInner,e.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),h(a,o[3],o[0],e.bottomLeftInner,e.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:h(a,o[0],o[1],e.topLeftOuter,e.topRightOuter,r.left,r.top),h(a,o[1],o[2],e.topRightOuter,e.bottomRightOuter,r.left+r.width,r.top),h(a,o[2],o[3],e.bottomRightOuter,e.bottomLeftOuter,r.left+r.width,r.top+r.height),h(a,o[3],o[0],e.bottomLeftOuter,e.topLeftOuter,r.left,r.top+r.height)}return a},e.exports=o},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,n){function o(t,e,n){var o="withCredentials"in new XMLHttpRequest;if(!e)return Promise.reject("No proxy configured");var r=a(o),u=s(e,t,r);return o?c(u):i(n,u,r).then(function(t){return d(t.content)})}function r(t,e,n){var o="crossOrigin"in new Image,r=a(o),u=s(e,t,r);return o?Promise.resolve(u):i(n,u,r).then(function(t){return"data:"+t.type+";base64,"+t.content})}function i(t,e,n){return new Promise(function(o,r){var i=t.createElement("script"),a=function(){delete window.html2canvas.proxy[n],t.body.removeChild(i)};window.html2canvas.proxy[n]=function(t){a(),o(t)},i.src=e,i.onerror=function(t){a(),r(t)},t.body.appendChild(i)})}function a(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++g+"_"+Math.round(1e5*Math.random())}function s(t,e,n){return t+"?url="+encodeURIComponent(e)+(n.length?"&callback=html2canvas.proxy."+n:"")}function u(t){return function(e){var n,o=new DOMParser;try{n=o.parseFromString(e,"text/html")}catch(t){h("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(e),n.close()}catch(t){h("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=e}}var r=n.querySelector("base");if(!r||!r.href.host){var i=n.createElement("base");i.href=t,n.head.insertBefore(i,n.head.firstChild)}return n}}function l(t,e,n,r,i,a){return new o(t,e,window.document).then(u(t)).then(function(t){return p(t,n,r,i,a,0,0)})}var c=t("./xhr"),f=t("./utils"),h=t("./log"),p=t("./clone"),d=f.decode64,g=0;n.Proxy=o,n.ProxyURL=r,n.loadUrlDocument=l},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e,n){function o(t,e){var n=document.createElement("a");n.href=t,t=n.href,this.src=t,this.image=new Image;var o=this;this.promise=new Promise(function(n,i){o.image.crossOrigin="Anonymous",o.image.onload=n,o.image.onerror=i,new r(t,e,document).then(function(t){o.image.src=t}).catch(i)})}var r=t("./proxy").ProxyURL;e.exports=o},{"./proxy":16}],18:[function(t,e,n){function o(t,e,n){r.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===n}var r=t("./nodecontainer");o.prototype.cloneTo=function(t){o.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},o.prototype=Object.create(r.prototype),o.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},o.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},o.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=o},{"./nodecontainer":14}],19:[function(t,e,n){function o(t,e,n,o,r){this.width=t,this.height=e,this.images=n,this.options=o,this.document=r}var r=t("./log");o.prototype.renderImage=function(t,e,n,o){var r=t.cssInt("paddingLeft"),i=t.cssInt("paddingTop"),a=t.cssInt("paddingRight"),s=t.cssInt("paddingBottom"),u=n.borders,l=e.width-(u[1].width+u[3].width+r+a),c=e.height-(u[0].width+u[2].width+i+s);this.drawImage(o,0,0,o.image.width||l,o.image.height||c,e.left+r+u[3].width,e.top+i+u[0].width,l,c)},o.prototype.renderBackground=function(t,e,n){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,n))},o.prototype.renderBackgroundColor=function(t,e){var n=t.color("backgroundColor");n.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,n)},o.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},o.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},o.prototype.renderBackgroundImage=function(t,e,n){t.parseBackgroundImages().reverse().forEach(function(o,i,a){switch(o.method){case"url":var s=this.images.get(o.args[0]);s?this.renderBackgroundRepeating(t,e,s,a.length-(i+1),n):r("Error loading background-image",o.args[0]);break;case"linear-gradient":case"gradient":var u=this.images.get(o.value);u?this.renderBackgroundGradient(u,e,n):r("Error loading background-image",o.args[0]);break;case"none":break;default:r("Unknown background-image type",o.args[0])}},this)},o.prototype.renderBackgroundRepeating=function(t,e,n,o,r){var i=t.parseBackgroundSize(e,n.image,o),a=t.parseBackgroundPosition(e,n.image,o,i);switch(t.parseBackgroundRepeat(o)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,a,i,e,e.left+r[3],e.top+a.top+r[0],99999,i.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,a,i,e,e.left+a.left+r[3],e.top+r[0],i.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(n,a,i,e,e.left+a.left+r[3],e.top+a.top+r[0],i.width,i.height,r);break;default:this.renderBackgroundRepeat(n,a,i,{top:e.top,left:e.left},r[3],r[0])}},e.exports=o},{"./log":13}],20:[function(t,e,n){function o(t,e){i.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},u("Initialized CanvasRenderer with size",t,"x",e)}function r(t){return t.length>0}var i=t("../renderer"),a=t("../lineargradientcontainer"),u=t("../log");o.prototype=Object.create(i.prototype),o.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"===(void 0===t?"undefined":s(t))&&t.isColor?t.toString():t,this.ctx},o.prototype.rectangle=function(t,e,n,o,r){this.setFillStyle(r).fillRect(t,e,n,o)},o.prototype.circle=function(t,e,n,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(t+n/2,e+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},o.prototype.circleStroke=function(t,e,n,o,r,i){this.circle(t,e,n,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},o.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},o.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},o.prototype.drawImage=function(t,e,n,o,r,i,a,s,u){this.taints(t)&&!this.options.allowTaint||this.ctx.drawImage(t.image,e,n,o,r,i,a,s,u)},o.prototype.clip=function(t,e,n){this.ctx.save(),t.filter(r).forEach(function(t){this.shape(t).clip()},this),e.call(n),this.ctx.restore()},o.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},o.prototype.font=function(t,e,n,o,r,i){this.setFillStyle(t).font=[e,n,o,r,i].join(" ").split(",")[0]},o.prototype.fontShadow=function(t,e,n,o){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",n).setVariable("shadowBlur",o)},o.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},o.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},o.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},o.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},o.prototype.text=function(t,e,n){this.ctx.fillText(t,e,n)},o.prototype.backgroundRepeatShape=function(t,e,n,o,r,i,a,s,u){var l=[["line",Math.round(r),Math.round(i)],["line",Math.round(r+a),Math.round(i)],["line",Math.round(r+a),Math.round(s+i)],["line",Math.round(r),Math.round(s+i)]];this.clip([l],function(){this.renderBackgroundRepeat(t,e,n,o,u[3],u[0])},this)},o.prototype.renderBackgroundRepeat=function(t,e,n,o,r,i){var a=Math.round(o.left+e.left+r),s=Math.round(o.top+e.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,n),"repeat")),this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},o.prototype.renderBackgroundGradient=function(t,e){if(t instanceof a){var n=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){n.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,n)}},o.prototype.resizeImage=function(t,e){var n=t.image;if(n.width===e.width&&n.height===e.height)return n;var o,r=document.createElement("canvas");return r.width=e.width,r.height=e.height,o=r.getContext("2d"),o.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),r},e.exports=o},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e,n){function o(t,e,n,o){r.call(this,n,o),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var r=t("./nodecontainer");o.prototype=Object.create(r.prototype),o.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=o},{"./nodecontainer":14}],22:[function(t,e,n){function o(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}o.prototype.testRangeBounds=function(t){var e,n,o,r,i=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),o=e.getBoundingClientRect(),r=o.height,123===r&&(i=!0),t.body.removeChild(n))),i},o.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},o.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),n=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch(t){return!1}return!0},e.exports=o},{}],23:[function(t,e,n){function o(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):r(t)}).then(function(t){return new Promise(function(n){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,n))})})}var r=t("./xhr"),i=t("./utils").decode64;o.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},o.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},o.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},o.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},o.prototype.createCanvas=function(t){var e=this;return function(n,o){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=r.lowerCanvasEl,r.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,o)).renderAll(),t(r.lowerCanvasEl)}},o.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):i(t)},e.exports=o},{"./utils":26,"./xhr":28}],24:[function(t,e,n){function o(t,e){this.src=t,this.image=null;var n=this;this.promise=e?new Promise(function(e,o){n.image=new Image,n.image.onload=e,n.image.onerror=o,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),!0===n.image.complete&&e(n.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,n.createCanvas.call(n,e))})})}var r=t("./svgcontainer");o.prototype=Object.create(r.prototype),e.exports=o},{"./svgcontainer":23}],25:[function(t,e,n){function o(t,e){i.call(this,t,e)}function r(t,e,n){if(t.length>0)return e+n.toUpperCase()}var i=t("./nodecontainer");o.prototype=Object.create(i.prototype),o.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},o.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return e.toUpperCase();default:return e}},e.exports=o},{"./nodecontainer":14}],26:[function(t,e,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(t,e){return function(){return t.apply(e,arguments)}},n.decode64=function(t){var e,n,o,r,i,a,s,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=t.length,f="";for(e=0;e<c;e+=4)n=l.indexOf(t[e]),o=l.indexOf(t[e+1]),r=l.indexOf(t[e+2]),i=l.indexOf(t[e+3]),a=n<<2|o>>4,s=(15&o)<<4|r>>2,u=(3&r)<<6|i,f+=64===r?String.fromCharCode(a):64===i||-1===i?String.fromCharCode(a,s):String.fromCharCode(a,s,u);return f},n.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+n,left:e.left,width:n,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},n.offsetBounds=function(t){var e=t.offsetParent?n.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},n.parseBackgrounds=function(t){var e,n,o,r,i,a,s,u=" \r\n\t",l=[],c=0,f=0,h=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===e.substr(0,1)&&(r=e.indexOf("-",1)+1)>0&&(o=e.substr(0,r),e=e.substr(r)),l.push({prefix:o,method:e.toLowerCase(),value:i,args:s,image:null})),s=[],e=o=n=i=""};return s=[],e=o=n=i="",t.split("").forEach(function(t){if(!(0===c&&u.indexOf(t)>-1)){switch(t){case'"':a?a===t&&(a=null):a=t;break;case"(":if(a)break;if(0===c)return c=1,void(i+=t);f++;break;case")":if(a)break;if(1===c){if(0===f)return c=0,i+=t,void h();f--}break;case",":if(a)break;if(0===c)return void h();if(1===c&&0===f&&!e.match(/^url$/i))return s.push(n),n="",void(i+=t)}i+=t,0===c?e+=t:n+=t}}),h(),l}},{}],27:[function(t,e,n){function o(t){r.apply(this,arguments),this.type="linear"===t.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}var r=t("./gradientcontainer");o.prototype=Object.create(r.prototype),e.exports=o},{"./gradientcontainer":9}],28:[function(t,e,n){function o(t){return new Promise(function(e,n){var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){200===o.status?e(o.responseText):n(new Error(o.statusText))},o.onerror=function(){n(new Error("Network Error"))},o.send()})}e.exports=o},{}]},{},[4])(4)})}).call(e,n(139))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHidden=e.setClass=e.removeClass=e.addClass=e.hasClass=e.toBack=e.toFront=e.empty=e.remove=e.create=e.getStyle=e.getClass=e.getElementsByClassName=e.getChildByTagName=e.get=void 0;var o=n(43),r=(e.get=function(t){return"string"==typeof t?document.getElementById(t):t},e.getChildByTagName=function(t,e){return e.getElementsByTagName(t)},e.getElementsByClassName=function(t,e,n){var o=n||window;return o.document.querySelector.bind(o.document)(t)},e.getClass=function(t){return t.getAttribute&&t.getAttribute("class")||""}),i=(e.getStyle=function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n},e.create=function(t,e,n,o){var r=document.createElement(t);return r.className=e||"",o&&(r.id=o),n&&n.appendChild(r),r},e.remove=function(t){var e=t.parentNode;e&&e.removeChild(t)},e.empty=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.toFront=function(t){t.parentNode.appendChild(t)},e.toBack=function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},e.hasClass=function(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=r(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}),a=(e.addClass=function(t,e){if(void 0!==t.classList)for(var n=(0,o.splitWords)(e),s=0,u=n.length;s<u;s++)t.classList.add(n[s]);else if(!i(t,e)){var l=r(t);a(t,(l?l+" ":"")+e)}},e.removeClass=function(t,e){void 0!==t.classList?t.classList.remove(e):a(t,String.trim((" "+r(t)+" ").replace(" "+e+" "," ")))},e.setClass=function(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e});e.createHidden=function(t,e,n){var o=document.createElement(t);return o.style.display="none",n&&(o.id=n),e&&e.appendChild(o),o}},function(t,e,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}t.exports=o}])});
//# sourceMappingURL=ol-plot.min.js.map
"use strict";!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):(window.WatchJS=a(),window.watch=window.WatchJS.watch,window.unwatch=window.WatchJS.unwatch,window.callWatchers=window.WatchJS.callWatchers)}(function(){function x(){w=null;for(var a=0;a<v.length;a++)v[a]();v.length=0}var a={noMore:!1,useDirtyCheck:!1},b=[],c=[],d=[],e=!1;try{e=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(a){}var f=function(a){var b={};return a&&"[object Function]"==b.toString.call(a)},h=function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=function(a){return"[object Object]"==={}.toString.apply(a)},j=function(a,b){var c=[],d=[];if("string"!=typeof a&&"string"!=typeof b){if(h(a))for(var e=0;e<a.length;e++)void 0===b[e]&&c.push(e);else for(var e in a)a.hasOwnProperty(e)&&void 0===b[e]&&c.push(e);if(h(b))for(var f=0;f<b.length;f++)void 0===a[f]&&d.push(f);else for(var f in b)b.hasOwnProperty(f)&&void 0===a[f]&&d.push(f)}return{added:c,removed:d}},k=function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=a[c];return b},l=function(a,b,c,d){try{Object.observe(a,function(a){a.forEach(function(a){a.name===b&&d(a.object[a.name])})})}catch(e){try{Object.defineProperty(a,b,{get:c,set:function(a){d.call(this,a,!0)},enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(a,b,c),Object.prototype.__defineSetter__.call(a,b,function(a){d.call(this,a,!0)})}catch(c){n(a,b,d)}}}},m=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writable:!1,value:c})}catch(d){a[b]=c}},n=function(a,b,d){c[c.length]={prop:b,object:a,orig:k(a[b]),callback:d}},o=function(){f(arguments[1])?p.apply(this,arguments):h(arguments[1])?q.apply(this,arguments):r.apply(this,arguments)},p=function(a,b,c,d){if("string"!=typeof a&&(a instanceof Object||h(a))){if(h(a)){if(D(a,"__watchall__",b,c),void 0===c||c>0)for(var f=0;f<a.length;f++)p(a[f],b,c,d)}else{var f,g=[];for(f in a)"$val"==f||!e&&"watchers"===f||Object.prototype.hasOwnProperty.call(a,f)&&g.push(f);q(a,g,b,c,d)}d&&R(a,"$$watchlengthsubjectroot",b,c)}},q=function(a,b,c,d,e){if("string"!=typeof a&&(a instanceof Object||h(a)))for(var f=0;f<b.length;f++){var g=b[f];r(a,g,c,d,e)}},r=function(a,b,c,d,e){"string"!=typeof a&&(a instanceof Object||h(a))&&(f(a[b])||(null!=a[b]&&(void 0===d||d>0)&&p(a[b],c,void 0!==d?d-1:d),D(a,b,c,d),e&&(void 0===d||d>0)&&R(a,b,c,d)))},s=function(){f(arguments[1])?t.apply(this,arguments):h(arguments[1])?u.apply(this,arguments):I.apply(this,arguments)},t=function(a,b){if(!(a instanceof String)&&(a instanceof Object||h(a)))if(h(a)){for(var c=["__watchall__"],d=0;d<a.length;d++)c.push(d);u(a,c,b)}else{var e=function(a){var c=[];for(var d in a)a.hasOwnProperty(d)&&(a[d]instanceof Object?e(a[d]):c.push(d));u(a,c,b)};e(a)}},u=function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&I(a,b[d],c)},v=[],w=null,y=function(){return w||(w=setTimeout(x)),w},z=function(a){null==w&&y(),v[v.length]=a},A=function(){var a=f(arguments[2])?C:B;a.apply(this,arguments)},B=function(a,b,c,d){var i,e=null,f=-1,g=h(a),j=function(c,d,h,i){var j=y();if(f!==j&&(f=j,e={type:"update"},e.value=a,e.splices=null,z(function(){b.call(this,e),e=null})),g&&a===this&&null!==e){if("pop"===d||"shift"===d)h=[],i=[i];else if("push"===d||"unshift"===d)h=[h],i=[];else if("splice"!==d)return;e.splices||(e.splices=[]),e.splices[e.splices.length]={index:c,deleteCount:i?i.length:0,addedCount:h?h.length:0,added:h,deleted:i}}};i=1==c?void 0:0,p(a,j,i,d)},C=function(a,b,c,d,e){a&&b&&(r(a,b,function(a,b,f,g){var j={type:"update"};j.value=f,j.oldvalue=g,(d&&i(f)||h(f))&&B(f,c,d,e),c.call(this,j)},0),(d&&i(a[b])||h(a[b]))&&B(a[b],c,d,e))},D=function(b,c,d,e){var f=!1,g=h(b);b.watchers||(m(b,"watchers",{}),g&&H(b,function(a,d,f,g){if(N(b,a,d,f,g),0!==e&&f&&(i(f)||h(f))){var j,k,l,m,n=b.watchers[c];for((m=b.watchers.__watchall__)&&(n=n?n.concat(m):m),l=n?n.length:0,j=0;j<l;j++)if("splice"!==d)p(f,n[j],void 0===e?e:e-1);else for(k=0;k<f.length;k++)p(f[k],n[j],void 0===e?e:e-1)}})),b.watchers[c]||(b.watchers[c]=[],g||(f=!0));for(var j=0;j<b.watchers[c].length;j++)if(b.watchers[c][j]===d)return;if(b.watchers[c].push(d),f){var k=b[c],o=function(){return k},q=function(d,f){var g=k;if(k=d,0!==e&&b[c]&&(i(b[c])||h(b[c]))&&!b[c].watchers){var j,l=b.watchers[c].length;for(j=0;j<l;j++)p(b[c],b.watchers[c][j],void 0===e?e:e-1)}return K(b,c)?void L(b,c):void(a.noMore||g!==d&&(f?N(b,c,"set",d,g):E(b,c,"set",d,g),a.noMore=!1))};a.useDirtyCheck?n(b,c,q):l(b,c,o,q)}},E=function(a,b,c,d,e){if(void 0!==b){var f,g,h=a.watchers[b];(g=a.watchers.__watchall__)&&(h=h?h.concat(g):g),f=h?h.length:0;for(var i=0;i<f;i++)h[i].call(a,b,c,d,e)}else for(var b in a)a.hasOwnProperty(b)&&E(a,b,c,d,e)},F=["pop","push","reverse","shift","sort","slice","unshift","splice"],G=function(a,b,c,d){m(a,c,function(){var f,g,h,i,e=0;if("splice"===c){var j=arguments[0],k=j+arguments[1];for(h=a.slice(j,k),g=[],f=2;f<arguments.length;f++)g[f-2]=arguments[f];e=j}else g=arguments.length>0?arguments[0]:void 0;return i=b.apply(a,arguments),"slice"!==c&&("pop"===c?(h=i,e=a.length):"push"===c?e=a.length-1:"shift"===c?h=i:"unshift"!==c&&void 0===g&&(g=i),d.call(a,e,c,g,h)),i})},H=function(a,b){if(f(b)&&a&&!(a instanceof String)&&h(a))for(var d,c=F.length;c--;)d=F[c],G(a,a[d],d,b)},I=function(a,b,c){if(b){if(a.watchers[b])if(void 0===c)delete a.watchers[b];else for(var d=0;d<a.watchers[b].length;d++){var e=a.watchers[b][d];e==c&&a.watchers[b].splice(d,1)}}else delete a.watchers;S(a,b,c),T(a,b)},J=function(a,b){if(a.watchers){var c="__wjs_suspend__"+(void 0!==b?b:"");a.watchers[c]=!0}},K=function(a,b){return a.watchers&&(a.watchers.__wjs_suspend__||a.watchers["__wjs_suspend__"+b])},L=function(a,b){z(function(){delete a.watchers.__wjs_suspend__,delete a.watchers["__wjs_suspend__"+b]})},M=null,N=function(a,b,c,e,f){d[d.length]={obj:a,prop:b,mode:c,newval:e,oldval:f},null===M&&(M=setTimeout(O))},O=function(){var a=null;M=null;for(var b=0;b<d.length;b++)a=d[b],E(a.obj,a.prop,a.mode,a.newval,a.oldval);a&&(d=[],a=null)},P=function(){for(var a=0;a<b.length;a++){var d=b[a];if("$$watchlengthsubjectroot"===d.prop){var e=j(d.obj,d.actual);(e.added.length||e.removed.length)&&(e.added.length&&q(d.obj,e.added,d.watcher,d.level-1,!0),d.watcher.call(d.obj,"root","differentattr",e,d.actual)),d.actual=k(d.obj)}else{var e=j(d.obj[d.prop],d.actual);if(e.added.length||e.removed.length){if(e.added.length)for(var f=0;f<d.obj.watchers[d.prop].length;f++)q(d.obj[d.prop],e.added,d.obj.watchers[d.prop][f],d.level-1,!0);E(d.obj,d.prop,"differentattr",e,d.actual)}d.actual=k(d.obj[d.prop])}}var g,h;if(c.length>0)for(var a=0;a<c.length;a++)g=c[a],h=g.object[g.prop],Q(g.orig,h)||(g.orig=k(h),g.callback(h))},Q=function(a,b){var c,d=!0;if(a!==b)if(i(a)){for(c in a)if((e||"watchers"!==c)&&a[c]!==b[c]){d=!1;break}}else d=!1;return d},R=function(a,c,d,e){var f;f=k("$$watchlengthsubjectroot"===c?a:a[c]),b.push({obj:a,prop:c,actual:f,watcher:d,level:e})},S=function(a,c,d){for(var e=0;e<b.length;e++){var f=b[e];f.obj==a&&(c&&f.prop!=c||d&&f.watcher!=d||b.splice(e--,1))}},T=function(a,b){for(var d,e=0;e<c.length;e++){var f=c[e],g=f.object.watchers;d=f.object==a&&(!b||f.prop==b)&&g&&(!b||!g[b]||0==g[b].length),d&&c.splice(e--,1)}};return setInterval(P,50),a.watch=o,a.unwatch=s,a.callWatchers=E,a.suspend=J,a.onChange=A,a});
/*! art-template@4.12.2 for browser | https://github.com/aui/art-template */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.template=t():e.template=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(n){}}).call(t,n(4))},function(e,t,n){"use strict";var r=n(8),i=n(3),o=n(23),s=function(e,t){t.onerror(e,t);var n=function(){return"{Template Error}"};return n.mappings=[],n.sourcesContent=[],n},a=function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};"string"!=typeof e?t=e:t.source=e,t=i.$extend(t),e=t.source,!0===t.debug&&(t.cache=!1,t.minimize=!1,t.compileDebug=!0),t.compileDebug&&(t.minimize=!1),t.filename&&(t.filename=t.resolveFilename(t.filename,t));var n=t.filename,a=t.cache,u=t.caches;if(a&&n){var p=u.get(n);if(p)return p}if(!e)try{e=t.loader(n,t),t.source=e}catch(d){var l=new o({name:"CompileError",path:n,message:"template not found: "+d.message,stack:d.stack});if(t.bail)throw l;return s(l,t)}var f=void 0,h=new r(t);try{f=h.build()}catch(l){if(l=new o(l),t.bail)throw l;return s(l,t)}var m=function(e,n){try{return f(e,n)}catch(l){if(!t.compileDebug)return t.cache=!1,t.compileDebug=!0,c(t)(e,n);if(l=new o(l),t.bail)throw l;return s(l,t)()}};return m.mappings=f.mappings,m.sourcesContent=f.sourcesContent,m.toString=function(){return f.toString()},a&&n&&u.set(n,m),m};a.Compiler=r,e.exports=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0]};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},function(e,t,n){"use strict";function r(){this.$extend=function(e){return e=e||{},s(e,e instanceof r?e:this)}}var i=n(0),o=n(12),s=n(13),a=n(14),c=n(15),u=n(16),p=n(17),l=n(18),f=n(19),h=n(20),m=n(22),d={source:null,filename:null,rules:[f,l],escape:!0,debug:!!i&&"production"!==process.env.NODE_ENV,bail:!0,cache:!0,minimize:!0,compileDebug:!1,resolveFilename:m,include:a,htmlMinifier:h,htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:!0,minifyJS:!0,ignoreCustomFragments:[]},onerror:c,loader:p,caches:u,root:"/",extname:".art",ignore:[],imports:o};r.prototype=d,e.exports=new r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";var r=n(7),i=n(1),o=n(24),s=function(e,t){return t instanceof Object?r({filename:e},t):i({filename:e,source:t})};s.render=r,s.compile=i,s.defaults=o,e.exports=s},function(e,t,n){"use strict";var r=n(1),i=function(e,t,n){return r(e,n)(t)};e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(9),o=n(11),s="$data",a="$imports",c="print",u="include",p="extend",l="block",f="$$out",h="$$line",m="$$blocks",d="$$slice",v="$$from",g="$$options",y=function(e,t){return Object.hasOwnProperty.call(e,t)},b=JSON.stringify,x=function(){function e(t){var n,i,y=this;r(this,e);var b=t.source,x=t.minimize,w=t.htmlMinifier;if(this.options=t,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=[s,a,g].concat(t.ignore),this.internal=(n={},n[f]="''",n[h]="[0,0]",n[m]="arguments[1]||{}",n[v]="null",n[c]="function(){var s=''.concat.apply('',arguments);"+f+"+=s;return s}",n[u]="function(src,data){var s="+g+".include(src,data||"+s+",arguments[2]||"+m+","+g+");"+f+"+=s;return s}",n[p]="function(from){"+v+"=from}",n[d]="function(c,p,s){p="+f+";"+f+"='';c();s="+f+";"+f+"=p+s;return s}",n[l]="function(){var a=arguments,s;if(typeof a[0]==='function'){return "+d+"(a[0])}else if("+v+"){if(!"+m+"[a[0]]){"+m+"[a[0]]="+d+"(a[1])}else{"+f+"+="+m+"[a[0]]}}else{s="+m+"[a[0]];if(typeof s==='string'){"+f+"+=s}else{s="+d+"(a[1])}return s}}",n),this.dependencies=(i={},i[c]=[f],i[u]=[f,g,s,m],i[p]=[v,u],i[l]=[d,v,f,m],i),this.importContext(f),t.compileDebug&&this.importContext(h),x)try{b=w(b,t)}catch(E){}this.source=b,this.getTplTokens(b,t.rules,this).forEach(function(e){e.type===o.TYPE_STRING?y.parseString(e):y.parseExpression(e)})}return e.prototype.getTplTokens=function(){return o.apply(undefined,arguments)},e.prototype.getEsTokens=function(e){return i(e)},e.prototype.getVariables=function(e){var t=!1;return e.filter(function(e){return"whitespace"!==e.type&&"comment"!==e.type}).filter(function(e){return"name"===e.type&&!t||(t="punctuator"===e.type&&"."===e.value,!1)}).map(function(e){return e.value})},e.prototype.importContext=function(e){var t=this,n="",r=this.internal,i=this.dependencies,o=this.ignore,c=this.context,u=this.options,p=u.imports,l=this.CONTEXT_MAP;y(l,e)||-1!==o.indexOf(e)||(y(r,e)?(n=r[e],y(i,e)&&i[e].forEach(function(e){return t.importContext(e)})):n="$escape"===e||"$each"===e||y(p,e)?a+"."+e:s+"."+e,l[e]=n,c.push({name:e,value:n}))},e.prototype.parseString=function(e){var t=e.value;if(t){var n=f+"+="+b(t);this.scripts.push({source:t,tplToken:e,code:n})}},e.prototype.parseExpression=function(e){var t=this,n=e.value,r=e.script,i=r.output,s=this.options.escape,a=r.code;i&&(a=!1===s||i===o.TYPE_RAW?f+"+="+r.code:f+"+=$escape("+r.code+")");var c=this.getEsTokens(a);this.getVariables(c).forEach(function(e){return t.importContext(e)}),this.scripts.push({source:n,tplToken:e,code:a})},e.prototype.checkExpression=function(e){for(var t=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],n=0;n<t.length;){if(t[n][0].test(e)){var r;e=(r=e).replace.apply(r,t[n]);break}n++}try{return new Function(e),!0}catch(i){return!1}},e.prototype.build=function(){var e=this.options,t=this.context,n=this.scripts,r=this.stacks,i=this.source,c=e.filename,l=e.imports,d=[],x=y(this.CONTEXT_MAP,p),w=0,E=function(e,t){var n=t.line,i=t.start,o={generated:{line:r.length+w+1,column:1},original:{line:n+1,column:i+1}};return w+=e.split(/\n/).length-1,o},k=function(e){return e.replace(/^[\t ]+|[\t ]$/g,"")};r.push("function("+s+"){"),r.push("'use strict'"),r.push(s+"="+s+"||{}"),r.push("var "+t.map(function(e){return e.name+"="+e.value}).join(",")),e.compileDebug?(r.push("try{"),n.forEach(function(e){e.tplToken.type===o.TYPE_EXPRESSION&&r.push(h+"=["+[e.tplToken.line,e.tplToken.start].join(",")+"]"),d.push(E(e.code,e.tplToken)),r.push(k(e.code))}),r.push("}catch(error){"),r.push("throw {"+["name:'RuntimeError'","path:"+b(c),"message:error.message","line:"+h+"[0]+1","column:"+h+"[1]+1","source:"+b(i),"stack:error.stack"].join(",")+"}"),r.push("}")):n.forEach(function(e){d.push(E(e.code,e.tplToken)),r.push(k(e.code))}),x&&(r.push(f+"=''"),r.push(u+"("+v+","+s+","+m+")")),r.push("return "+f),r.push("}");var T=r.join("\n");try{var O=new Function(a,g,"return "+T)(l,e);return O.mappings=d,O.sourcesContent=[i],O}catch(F){for(var $=0,j=0,S=0,_=void 0;$<n.length;){var C=n[$];if(!this.checkExpression(C.code)){j=C.tplToken.line,S=C.tplToken.start,_=C.code;break}$++}throw{name:"CompileError",path:c,message:F.message,line:j+1,column:S+1,source:i,generated:_,stack:F.stack}}},e}();x.CONSTS={DATA:s,IMPORTS:a,PRINT:c,INCLUDE:u,EXTEND:p,BLOCK:l,OPTIONS:g,OUT:f,LINE:h,BLOCKS:m,SLICE:d,FROM:v,ESCAPE:"$escape",EACH:"$each"},e.exports=x},function(e,t,n){"use strict";var r=n(10),i=n(2)["default"],o=n(2).matchToToken,s=function(e){return e.match(i).map(function(e){return i.lastIndex=0,o(i.exec(e))}).map(function(e){return"name"===e.type&&r(e.value)&&(e.type="keyword"),e})};e.exports=s},function(e,t,n){"use strict";var r={"abstract":!0,await:!0,"boolean":!0,"break":!0,"byte":!0,"case":!0,"catch":!0,"char":!0,"class":!0,"const":!0,"continue":!0,"debugger":!0,"default":!0,"delete":!0,"do":!0,"double":!0,"else":!0,"enum":!0,"export":!0,"extends":!0,"false":!0,"final":!0,"finally":!0,"float":!0,"for":!0,"function":!0,"goto":!0,"if":!0,"implements":!0,"import":!0,"in":!0,"instanceof":!0,"int":!0,"interface":!0,"let":!0,"long":!0,"native":!0,"new":!0,"null":!0,"package":!0,"private":!0,"protected":!0,"public":!0,"return":!0,"short":!0,"static":!0,"super":!0,"switch":!0,"synchronized":!0,"this":!0,"throw":!0,"transient":!0,"true":!0,"try":!0,"typeof":!0,"var":!0,"void":!0,"volatile":!0,"while":!0,"with":!0,"yield":!0};e.exports=function(e){return r.hasOwnProperty(e)}},function(e,t,n){"use strict";function r(e,t,n,r){var i=new String(e);return i.line=t,i.start=n,i.end=r,i}var i=function(e,t){for(var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=[{type:"string",value:e,line:0,start:0,end:e.length}],o=0;o<t.length;o++)!function(e){for(var t=e.test.ignoreCase?"ig":"g",o=e.test.source+"|^$|[\\w\\W]",s=new RegExp(o,t),a=0;a<i.length;a++)if("string"===i[a].type){for(var c=i[a].line,u=i[a].start,p=i[a].end,l=i[a].value.match(s),f=[],h=0;h<l.length;h++){var m=l[h];e.test.lastIndex=0;var d=e.test.exec(m),v=d?"expression":"string",g=f[f.length-1],y=g||i[a],b=y.value;u=y.line===c?g?g.end:u:b.length-b.lastIndexOf("\n")-1,p=u+m.length;var x={type:v,value:m,line:c,start:u,end:p};if("string"===v)g&&"string"===g.type?(g.value+=m,g.end+=m.length):f.push(x);else{d[0]=new r(d[0],c,u,p);var w=e.use.apply(n,d);x.script=w,f.push(x)}c+=m.split(/\n/).length-1}i.splice.apply(i,[a,1].concat(f)),a+=f.length-1}}(t[o]);return i};i.TYPE_STRING="string",i.TYPE_EXPRESSION="expression",i.TYPE_RAW="raw",i.TYPE_ESCAPE="escape",e.exports=i},function(e,t,n){"use strict";(function(t){function r(e){return"string"!=typeof e&&(e=e===undefined||null===e?"":"function"==typeof e?r(e.call(e)):JSON.stringify(e)),e}function i(e){var t=""+e,n=a.exec(t);if(!n)return e;var r="",i=void 0,o=void 0,s=void 0;for(i=n.index,o=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==i&&(r+=t.substring(o,i)),o=i+1,r+=s}return o!==i?r+t.substring(o,i):r}/*! art-template@runtime | https://github.com/aui/art-template */
var o=n(0),s=Object.create(o?t:window),a=/["&'<>]/;s.$escape=function(e){return i(r(e))},s.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=s}).call(t,n(4))},function(e,t,n){"use strict";var r=Object.prototype.toString,i=function(e){return null===e?"Null":r.call(e).slice(8,-1)},o=function s(e,t){var n=void 0,r=i(e);if("Object"===r?n=Object.create(t||{}):"Array"===r&&(n=[].concat(t||[])),n){for(var o in e)Object.hasOwnProperty.call(e,o)&&(n[o]=s(e[o],n[o]));return n}return e};e.exports=o},function(e,t,n){"use strict";var r=function(e,t,r,i){var o=n(1);return i=i.$extend({filename:i.resolveFilename(e,i),bail:!0,source:null}),o(i)(t,r)};e.exports=r},function(e,t,n){"use strict";var r=function(e){console.error(e.name,e.message)};e.exports=r},function(e,t,n){"use strict";var r={__data:Object.create(null),set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]},reset:function(){this.__data={}}};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=function(e){if(r){return n(5).readFileSync(e,"utf8")}var t=document.getElementById(e);return t.value||t.innerHTML};e.exports=i},function(e,t,n){"use strict";var r={test:/{{([@#]?)[ \t]*(\/?)([\w\W]*?)[ \t]*}}/,use:function(e,t,n,i){var o=this,s=o.options,a=o.getEsTokens(i),c=a.map(function(e){return e.value}),u={},p=void 0,l=!!t&&"raw",f=n+c.shift(),h=function(t,n){console.warn((s.filename||"anonymous")+":"+(e.line+1)+":"+(e.start+1)+"\nTemplate upgrade: {{"+t+"}} -> {{"+n+"}}")};switch("#"===t&&h("#value","@value"),f){case"set":i="var "+c.join("").trim();break;case"if":i="if("+c.join("").trim()+"){";break;case"else":var m=c.indexOf("if");~m?(c.splice(0,m+1),i="}else if("+c.join("").trim()+"){"):i="}else{";break;case"/if":i="}";break;case"each":p=r._split(a),p.shift(),"as"===p[1]&&(h("each object as value index","each object value index"),p.splice(1,1));i="$each("+(p[0]||"$data")+",function("+(p[1]||"$value")+","+(p[2]||"$index")+"){";break;case"/each":i="})";break;case"block":p=r._split(a),p.shift(),i="block("+p.join(",").trim()+",function(){";break;case"/block":i="})";break;case"echo":f="print",h("echo value","value");case"print":case"include":case"extend":if(0!==c.join("").trim().indexOf("(")){p=r._split(a),p.shift(),i=f+"("+p.join(",")+")";break}default:if(~c.indexOf("|")){var d=a.reduce(function(e,t){var n=t.value,r=t.type;return"|"===n?e.push([]):"whitespace"!==r&&"comment"!==r&&(e.length||e.push([]),":"===n&&1===e[e.length-1].length?h("value | filter: argv","value | filter argv"):e[e.length-1].push(t)),e},[]).map(function(e){return r._split(e)});i=d.reduce(function(e,t){var n=t.shift();return t.unshift(e),"$imports."+n+"("+t.join(",")+")"},d.shift().join(" ").trim())}l=l||"escape"}return u.code=i,u.output=l,u},_split:function(e){e=e.filter(function(e){var t=e.type;return"whitespace"!==t&&"comment"!==t});for(var t=0,n=e.shift(),r=/\]|\)/,i=[[n]];t<e.length;){var o=e[t];"punctuator"===o.type||"punctuator"===n.type&&!r.test(n.value)?i[i.length-1].push(o):i.push([o]),n=o,t++}return i.map(function(e){return e.map(function(e){return e.value}).join("")})}};e.exports=r},function(e,t,n){"use strict";var r={test:/<%(#?)((?:==|=#|[=-])?)[ \t]*([\w\W]*?)[ \t]*(-?)%>/,use:function(e,t,n,r){return n={"-":"raw","=":"escape","":!1,"==":"raw","=#":"raw"}[n],t&&(r="/*"+r+"*/",n=!1),{code:r,output:n}}};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=function(e,t){if(r){var i,o=n(21).minify,s=t.htmlMinifierOptions,a=t.rules.map(function(e){return e.test});(i=s.ignoreCustomFragments).push.apply(i,a),e=o(e,s)}return e};e.exports=i},function(e,t){!function(e){e.noop=function(){}}("object"==typeof e&&"object"==typeof e.exports?e.exports:window)},function(e,t,n){"use strict";var r=n(0),i=/^\.+\//,o=function(e,t){if(r){var o=n(5),s=t.root,a=t.extname;if(i.test(e)){var c=t.filename,u=!c||e===c,p=u?s:o.dirname(c);e=o.resolve(p,e)}else e=o.resolve(s,e);o.extname(e)||(e+=a)}return e};e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.name,n=e.source,r=e.path,i=e.line,o=e.column,s=e.generated,a=e.message;if(!n)return a;var c=n.split(/\n/),u=Math.max(i-3,0),p=Math.min(c.length,i+3),l=c.slice(u,p).map(function(e,t){var n=t+u+1;return(n===i?" >> ":"    ")+n+"| "+e}).join("\n");return(r||"anonymous")+":"+i+":"+o+"\n"+l+"\n\n"+t+": "+a+(s?"\n   generated: "+s:"")}var a=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n.message));return o.name="TemplateError",o.message=s(n),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return o(t,e),t}(Error);e.exports=a},function(e,t,n){"use strict";e.exports=n(3)}])});
function fnoop(){}function registDefaultSymbols(){for(var e=new Array,t=0;t<=9;t++){var a={code:"defaultNo."+(t+1).toString(),
src:"data:image/png;base64,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",
size:[36,53]};a.offset=[36*t,332],e.push(a)}FInject.symbol.registSymbols(e)}function generalBBLink(e){if(e.hasOwnProperty("click"))if($.isFunction(e.click))e.click(e);else{var t=window[e.click];t&&$.isFunction(t)&&t(e)}}function dataURLToBlob(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new Blob([i],{type:a})}function dataURLToFile(e,t){var a=dataURLToBlob(e);navigator.msSaveBlob?navigator.msSaveBlob(a,t):saveAs(a,t)}function signTexts(e,t){for(var a=0,r=0;r<t.texts.length;r++){var o=t.texts[r],i=e.measureText(o).width;i>=a&&(a=i)}var n=t.texts.length,s=[t.rightbottom[0]-a-20,t.rightbottom[1]-n*t.lineHeight];e.font=t.font,e.fillStyle=t.fill,t.texts.forEach(function(r,o){var i=s[1]+o*t.lineHeight;e.fillText(r,s[0],i,a)})}function FMap(e){var t=new fc.map.FMap(e);return FMapScope[e.element]=t,t}function FDefaultMeasureInteraction(e,t){var a,r;return t&&(r=$.isEmpty(t)?$fmap.default.defaultMeasureStyle:$.isNamingStyle(t)?$fmap.style.parseNamingStyle(t):$.isExpressStyle(t)?$fmap.style.parseExpressStyle(t):$.isOlStyle(t)?t:$fmap.default.defaultMeasureStyle),a=new ol.layer.Vector({source:new ol.source.Vector,style:r}),a.setMap(e._olmap),this.type="LineString",this.style=r,this._update=function(){this.drawInteraction=new ol.interaction.Draw({source:a.getSource(),type:this.type,style:this.style})},this._update(),this.setType=function(e){this.type=e,this._update()},this.setStyle=function(e){this.style=e,this._update()},this.setActive=function(e){this.drawInteraction.setActive(e)},this}function FMapEventVideoPlayer(e){return this._film,this._decoder,this._videoData=[],this._videoUrl=e.videoFile.url,this._videoParams=e.videoParams,this._videoParamsFunc=e.videoParamsFunc,this._fmap=e.decodeConfig.fmap,this._trackTempLayer,this._status="unload",this._keyInterval,this._transInterval,this._frameType="event",this.element="#"+e.element,this.nodeStyle=e.decodeConfig.nodeStyle,this.lineStyle=e.decodeConfig.lineStyle,this._init(e)}function FMapFilm(e){return this._targetProj=e.decodeConfig.fmap._olmap.get("bgProjection"),this._fmap=e.decodeConfig.fmap,this._url=e.videoFile.url,this._filmSize=-1,this._blockCursor=0,this._frameGlobalCursor=0,this._cachedCursor=-1,this._blockSize=e.videoConfig&&e.videoConfig.blockSize||1,this._keyFrameTotal=0,this._synBlock=!1,this._synFrame=!1,this._transRate=25,this._transcyc=parseInt(1e3/this._transRate),this._keycyc=5e3,this.speed=1,this._oldspeed=1,this._keyTransCount=this._keycyc/1e3*this._transRate,this._blockAhead=1,this._frameAhead=1,this._blockQueue=new Array,this._frameQueue=new Array,this._cachedFrameIndexArr=new Array,this._startCache=!1,this._filmmode="offline",this._init(e)}function calculateRotation(e,t){var a,r=e.concat(),o=t.concat(),i=(o[1]-r[1])/(o[0]-r[0]),n=Math.atan(i);return o[0]=o[0]-r[0],o[1]=o[1]-r[1],o[0]>0&&o[1]<0?a=-n:o[0]<0&&o[1]>0?a=Math.PI-n:o[0]<0&&o[1]<0?a=.5*Math.PI+n:o[0]>0&&o[1]>0?a=-n:0==o[0]&&o[1]>0?a=.5*Math.PI:0==o[0]&&o[1]<=0&&(a=1.5*Math.PI),a}function FMapFilmBlock(e){this.blockID=$.uuid(),this.frameSize=1,this.frameCursor=0,this.frameQueue=new Array}function FMapFilmFrame(e){return this.frameID=$.uuid(),this.transLinkField=e.transLinkField||"groupId",this._transDeta=[0,0],this.isKey=e.isKey,this.frameTime=e.frameTime||new Date,this.frameCode=e.frameCode,this.frameLabel=e.frameLabel,this.frameData=e.frameData,this.frameDataHash={},this._cacheStatus=-1,this.frameStatus=-1,this.preFrameTime=e.preFrameTime||new Date,this.nextFrameTime=e.nextFrameTime||new Date,this._init(e)}function FMapFilmProgressbar(e){return this._init(e)}function Ticket(e){return $.extend({event:new Date,label:(new Date).format("mm-dd"),frameId:$.uuid(),showLabel:!0,labelOffset:0},e)}function TimeTicket(e){return $.extend({time:new Date,label:(new Date).format("mm-dd"),frameId:$.uuid(),showLabel:!0,labelOffset:0},e)}function FMapVideoDecoder(e,t){return this._player=t,this.rendermode=e.rendermode||"refresh",this.fmap=e.fmap,this.layer=e.layer||"default",this.geoField=e.geoField,this.xField=e.xField||"x",this.yField=e.yField||"y",this.keyField=e.keyField||"id",this.channelField=e.channelField||"group",this.viewadapt=e.viewadapt||"auto",this.playadapt=!e.playadapt,this._trackStyle={arrowIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAA9klEQVR42qWUSw7CIBRFby0mmrgMXYFjHWrU1rEuxZFLc2hi3IODzlxBE2oqVBFaPgJ9aUvD53JyHw/AFWcMeEMoWaPCVu0LD2VhzZ66afQx/7iAfOlWP0GKjToWEkmXTqNU5vyPO4ZNy4g0QYqsNacPXZyXkm5nFaTY+1EaMtuPUmTPQadQ5u6MB9D5UYqdWEV4C4qMGyiTUDr3uZSZzYIFtXMZ4Z3bS0mXRwuaqidWzOCl27u0So8oMMYDI/Z/sAqK+9JGxzZZWguAYmGl1DpLzLTa5mbzt1u7JaZ44dRazz+3Oa54YtI6U5/FifE26o4xS4TgGwqleQ4BsejNAAAAAElFTkSuQmCC",arrowFill:"red",lineWidth:2,lineColor:"red",lineType:""},this._bubble=e.bubble||"defaultTrackBubble",this._inject=e.inject,this._externalDecoder,this._init(e)}function FMapVideoPlayerSkin(e,t){return this._player=e,this._parentContainer=void 0,this.width=0,this.height=0,this.playBtn=void 0,this.filmTittle="",this._curLabel="",this._lastLabel="",this._progressbar=void 0,this.menubar=void 0,this._init(t)}var fc=fc||{};fc.map=fc.map||{},fc.map.version="v1.4.5",FMapScope={},FTplScope={},window.fmaptpl={},window.fmaptpl["core/bubble-form-general.html"]='<div class="general-bubble-box-content" id="{{scopeId}}" data-scope="{{scopeId}}"><table>{{each data pro i}}<tr class="pro-item"><th class="item-th">{{ pro.proText }}</th><td class="item-td">{{if (pro.type==null || pro.type==undefined)}} <span style="float: left;margin-right: 10px;">{{ pro.proValue }}</span> {{else if (pro.type==\'link\')}} <span style="float: left;margin-right: 10px;"><a data-index="{{i}}" onclick="generalBBLink(FTplScope[\'singleBB\'].data[{{i}}])">{{pro.proValue}}</a> {{if (pro.icon)}} <i class="{{pro.icon}}"></i> {{/if}}</span> {{/if}}</td></tr>{{/each}}</table></div>',window.fmaptpl["core/bubble-head-default.html"]='<div class="bubble-title-bar"><span class="bubble-title">{{bubbleTitle}}</span> <span class="bubble-icons"><a onclick="FMapScope[\'{{mapId}}\'].closeSingleBubble()" title="关闭" tabindex="0"><i class="glyphicon glyphicon-remove"></i></a></span></div>',window.fmaptpl["core/map.html"]='<div class="fc-map"></div>',window.fmaptpl["advance/video/FMapEventVideoPlayerSkin.html"]='<div class="fcplayer-container"><div class="fcplayer"><div class="fcplayer-progressbar"><div class="fcplayer-progressbar-bg"></div><div class="fcplayer-progressbar-pass" style="width:0px"></div><div class="fcplayer-progressbar-thumb" style="left:-8px;"></div></div><div class="fcplayer-opbar"><div class="fcplayer-ctrlbar"><div class="ctrl-btn fcplayer-ctrlbar-playpause active"><i class="glyphicon glyphicon-play"></i></div><div class="ctrl-btn fcplayer-ctrlbar-stop"><i class="glyphicon glyphicon-stop"></i></div><div class="fcplayer-ctrlbar-speed"><span class="speed-ctrl">播放倍速</span><div class="speed-selection"><div class="fcplayer-ctrlbar-slow"><span class="fcplayer-ctrlbar-slow-sp">x1</span> <span class="fcplayer-ctrlbar-slow-sp">x2</span> <span class="fcplayer-ctrlbar-slow-sp">x4</span> <span class="fcplayer-ctrlbar-slow-sp">x8</span> <span class="fcplayer-ctrlbar-slow-sp">x16</span></div><div class="fcplayer-ctrlbar-fast"><span class="fcplayer-ctrlbar-fast-sp">x1</span> <span class="fcplayer-ctrlbar-fast-sp">/2</span> <span class="fcplayer-ctrlbar-fast-sp">/4</span> <span class="fcplayer-ctrlbar-fast-sp">/8</span> <span class="fcplayer-ctrlbar-fast-sp">/16</span></div></div></div></div><div class="fcplayer-infobar"><div class="fcplayer-infobar-progressinfo"><span class="film-cur-time">{{_player._film._filmCurframeInfo}}</span> <span>/</span> <span>{{_player._film._filmLengthInfo}}</span></div><div class="fcplayer-infobar-title"><span>{{_player._film._filmTittle}}</span></div></div><div class="fcplayer-audiobar"></div><div class="fcplayer-custombar"></div><div class="fcplayer-menubar"></div><div class="fcplayer-preopbar"><span><i></i></span><span><i></i></span><span><i></i></span></div></div></div></div>',window.fmaptpl["control/areanav/areanav-list.html"]='<ul class="area-list">{{each items as item i}}<li class="enable-li"><a class="address-a enable-a" data-value="{{item.code}}" onclick="FMapScope[\'{{fscope}}\']._chooseArea(\'{{item[keyField]}}\')">{{item[textField]}}</a></li>{{/each}}</ul>',window.fmaptpl["control/areanav/areanav.html"]='<div class="fmap-areanav" tabindex="0" onmouseover="FMapScope[\'{{fscope}}\']._mouseover()" onmouseout="FMapScope[\'{{fscope}}\']._mouseout()"><i class="glyphicon glyphicon-map-marker"></i><div class="text" onclick="FMapScope[\'{{fscope}}\']._toggleOpen()"><div class="store-text-span"><div title="" class="selected-item-name"></div></div><b><i class="updown-btn glyphicon glyphicon-chevron-down"></i></b></div><div class="content"><div data-widget="tabs" class="fstock"><div class="mt"><ul class="tab"><li data-index="0" data-widget="tab-item" class="curr"><a class="address-a hover"><em>请选择</em><i></i></a></li><li data-index="1" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="2" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="3" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="4" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="5" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="6" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li><li data-index="7" data-widget="tab-item" style="display:none;"><a class="address-a"><em>请选择</em><i></i></a></li></ul><div class="stock-line"></div></div><div class="mc stock_level1_items" data-area="0" data-widget="tab-content"></div><div class="mc stock_level2_items" data-area="1" data-widget="tab-content"></div><div class="mc stock_level3_items" data-area="2" data-widget="tab-content"></div><div class="mc stock_level4_items" data-area="3" data-widget="tab-content"></div><div class="mc stock_level5_items" data-area="4" data-widget="tab-content"></div><div class="mc stock_level6_items" data-area="5" data-widget="tab-content"></div><div class="mc stock_level7_items" data-area="6" data-widget="tab-content"></div><div class="mc stock_level8_items" data-area="7" data-widget="tab-content"></div></div></div><div class="close"></div></div>',window.fmaptpl["control/bubble/bubble-skin1.html"]='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>',window.fmaptpl["control/bubble/bubble-skin2.html"]='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>',window.fmaptpl["control/bubble/bubble-skin3.html"]='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>',window.fmaptpl["control/bubble/bubble-skin4.html"]='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>',window.fmaptpl["control/bubble/bubble-skin5.html"]='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>',window.fmaptpl["control/bubble/bubble.html"]='<div class="fed-map-single-bubble {{itemrender}}"></div>',window.fmaptpl["control/mapswitch/mapswitch.html"]='<div id="{{fscope}}" class="fmap-mapswitch closed filter0" style="width:110px;" data-fscope="{{fscope}}" onmouseover="FMapScope[\'{{fscope}}\'].mouseover()" onmouseout="FMapScope[\'{{fscope}}\'].mouseout()">{{each bglayers as bglayer i}}<div class="map-type-card type{{i+1}} {{if bglayer.active}}active{{/if}}" onclick="FMapScope[\'{{fscope}}\'].switchmap({{i}})" style="background: url({{bglayer.icon}}) no-repeat;z-index:{{bglayer._zindex}}; background-size: 86px 60px;"><span>{{bglayer.name}}</span></div>{{/each}}</div>',window.fmaptpl["control/sslk/sslk.html"]='<div class="fmap-sslk"><div class="sslk-btn"><div class="hldbg"><div class="hld"><div style="width: 115px; height: 141px;"></div></div></div></div><div class="sslk-legend"><div class="d1"></div><div class="d2"><div class="d21"></div><div class="d22"><div class="timecon"><div class="title1">实时路况</div><div class="title2">路况时间： <span id="sslk-legend-realtime"><script>\n                            function mytime(){\n                                $("#sslk-legend-realtime").text((new Date()).format(\'h:m:s\'));\n                            }\n                            setInterval(function() {mytime()},1000);\n                        <\/script></span></div><div class="legend1"><div style="width: 239px; height: 117px;"></div></div><div class="legend2"><div style="width: 239px; height: 117px;"></div></div></div></div></div><div class="d1"></div><div class="d2"><div class="d21"></div><div class="d22"><div class="timecon"><div class="title1">实时路况</div><div class="title2">路况时间： <span id="sslk-legend-realtime"><script>\n                            function mytime(){\n                                $("#sslk-legend-realtime").text((new Date()).format(\'h:m:s\'));\n                            }\n                            setInterval(function() {mytime()},1000);\n                        <\/script></span></div><div class="legend1"><div style="width: 239px; height: 117px;"></div></div><div class="legend2"><div style="width: 239px; height: 117px;"></div></div></div></div></div></div></div>',window.fmaptpl["control/toolbar/drawbar.html"]="<div class=\"fmap-drawbar-content\">{{each items as type i}}<div class=\"tool-item-h\" onclick=\"FMapScope['{{fscope}}'].drawtoolHandle('{{type}}')\"><span class=\"drawbtn_x24 {{'drawbtn_'+type+'_x24'}}\"></span></div>{{/each}}</div>",window.fmaptpl["control/toolbar/toolbar.html"]='<div class="fmap-toolbar-content">{{each items as item i}} {{if(\'dropgroup\' == item.type || \'droppan\' == item.type)}}<div class="tool-item-h tool-item-group" onmouseenter="FMapScope[\'{{fscope}}\'].openDrop(event)" onmouseleave="FMapScope[\'{{fscope}}\'].closeDrop(event)"><span class="group-title"><i class="glyphicon glyphicon-cog"></i></span><div class="down-list animated-card-up {{\'droppan\' == item.type?\'drownpan\':\'\'}}" id="tool_{{item.type}}">{{each item.items as subItem j}} <span onclick="FMapScope[\'{{fscope}}\'].toolHandle(\'{{subItem.type}}\', \'{{item.type}}\')"><i class="toolbtn {{subItem.icon}}"></i>{{subItem.title}}</span> {{/each}}</div></div>{{elseif}} {{else}}<div class="tool-item-h" onclick="FMapScope[\'{{fscope}}\'].toolHandle(\'{{item.type}}\')"><i class="toolbtn {{item.icon}}" title="{{item.title}}"></i></div>{{/if}} {{/each}}</div>',window.fmaptpl["control/zoompan/zoompan.html"]='<div class="fmap-zoompan zoom-mode-{{mode}}" style="bottom: auto; right: auto; top: 10px; left: 10px; position: absolute; z-index: 1100; text-size-adjust: none;">{{if (mode==\'pan\')}}<div class="fmap-zoompan-pan" onmouseout="this.style[\'background-position\']=\'0px 0px\';"><div class="fmap-btn fmap-panN" title="向上平移" onclick="FMapScope[\'{{fscope}}\'].pan(\'top\')" onmouseover="this.parentNode.style[\'background-position\']=\'0px -44px\';"></div><div class="fmap-btn fmap-panW" title="向左平移" onclick="FMapScope[\'{{fscope}}\'].pan(\'left\')" onmouseover="this.parentNode.style[\'background-position\']=\'0px -176px\';"></div><div class="fmap-btn fmap-panE" title="向右平移" onclick="FMapScope[\'{{fscope}}\'].pan(\'right\')" onmouseover="this.parentNode.style[\'background-position\']=\'0px -88px\';"></div><div class="fmap-btn fmap-panS" title="向下平移" onclick="FMapScope[\'{{fscope}}\'].pan(\'down\')" onmouseover="this.parentNode.style[\'background-position\']=\'0px -132px\';"></div><div class="fmap-zoompan-smcbg"></div></div>{{/if}}<div class="fmap-zoompan-zoom"><div class="fmap-btn zoomIn" title="放大一级" onclick="FMapScope[\'{{fscope}}\'].zoomIn()"><div class="fmap-zoompan-smcbg"></div></div><div class="fmap-btn zoomOut" title="缩小一级" onclick="FMapScope[\'{{fscope}}\'].zoomOut()"><div class="fmap-zoompan-smcbg"></div></div>{{if (mode==\'pan\'||mode==\'slider\')}}<div class="fmap-zoompan-slider" style="height: 108px;"><div class="slider-bgtop" style="height: 108px;"><div class="fmap-zoompan-smcbg"></div></div><div class="slider-bgbottom" style="top: 1px; height: 111px;"></div><div class="slider-bgmask" title="放置到此级别" onclick="FMapScope[\'{{fscope}}\'].calculateZoom(event)"></div><div class="slider-bgbar" title="拖动缩放" style="top: 1px;"><div class="fmap-zoompan-smcbg"></div></div></div><div class="fmap-zoompan-zlholder"><div class="zl-st" onclick="FMapScope[\'{{fscope}}\'].zoomTo(\'街\')"><div class="fmap-zoompan-smcbg"></div></div><div class="zl-city" onclick="FMapScope[\'{{fscope}}\'].zoomTo(\'市\')"><div class="fmap-zoompan-smcbg"></div></div><div class="zl-prov" onclick="FMapScope[\'{{fscope}}\'].zoomTo(\'省\')"><div class="fmap-zoompan-smcbg"></div></div><div class="zl-country" onclick="FMapScope[\'{{fscope}}\'].zoomTo(\'国\')"><div class="fmap-zoompan-smcbg"></div></div></div>{{/if}}</div></div>',fc.map._Config=function(){return this.getGlobalMapConfig=function(){return{view:{projection:FConst.PROJ_EPSG3857,center:[113.30145963206535,23.14711568495326],minZoom:0,maxZoom:21,rotation:0},center:{lat:23.117055306224895,lon:113.2759952545166,zoom:12,autodiscover:!1,extent:void 0,projection:"EPSG:4326"},styles:{path:{stroke:{color:"blue",width:8}}},controls:{fullscreen:!1,mouseposition:!1,attribution:!1,rotate:!1,zoom:!0,zoomslider:!1,zoompan:!1,overview:!1,scale:!1},interactions:{mouseWheelZoom:!0},renderer:"canvas",loadTilesWhileAnimating:!1,loadTilesWhileInteracting:!1}},this.FMAP_DICT_CONTROLTYPE={zoompan:fc.map.ZoomPan,zoomslider:fc.map.ZoomPan,zoombtn:fc.map.ZoomPan,scaleline:ol.control.ScaleLine,mouseposition:ol.control.MousePosition,fullscreen:ol.control.FullScreen,overview:fc.map.Overview,areanav:fc.map.AreaNav,drawtoolbar:fc.map.DrawToolBar,toolbar:fc.map.ToolBar},this},fc.map._Config.prototype.FMAP_INST_APIS={FMAP_MAP_APIS:["_olmap","_bgOptions","_bgOlLayerGroup","_bgLayerOptionOld","_createBgLayer","_center","_handleMapAfterChangeProj","render","renderSync","setBgLayer","getProjection","getResolution","getMapType","getMapSource","getOrigin","getMinZoom","getMaxZoom","setMinZoom","setMaxZoom","getClient","setClient","activateMap","deactivateMap","activateAutoSize","deactivateAutoSize","clearMap","find"],FMAP_VIEW_APIS:["_zoomAlias","updateSize","getSize","setSize","getExtent","getRealExtent","getZoom","setZoom","zoomTo","getCenter","setCenter","zoomIn","zoomOut","navigate2Center","navigate2Extent","navigate2Feature","navigate2Features","viewfit","shotSnap","getCoordinateFromPixel","getPixelFromCoordinate"],FMAP_LAYER_APIS:["_getLayer","_clearLayer","_layers","_layerDict","_getBusinessLayerGroup","_getBglayerGroup","hideBglayer","showBglayer","addLayer","insertLayer","removeLayer","clearLayer","getLayerByName","getLayersByExp","getLayersByFilter","addAreaFilter","removeLayerAreaFilter","moveup","movedown","movetop","movebottom","moveto"],FMAP_MARK_APIS:["addFeatures","reFreshLayer","getFeatureById","getFeaturesByPro","getFeaturesByClient","getFeaturesByExp","getFeaturesByFilter","removeFeatures","selectFeature","closeBubble","openBubble","twinkleFeature"],FMAP_EVENT_APIS:["dispatchFEvent","on","onsafe","removeListener"],FMAP_CONTROL_APIS:["_singleAddControl","_singleRemoveControl","addControl","removeControl","getControls"],FMAP_INTERACTION_APIS:["clearSelected","activateBoxSelect","activateCircleSelect","activatePolygonSelect","activateLineSelect","activateMulitSelect","deactivateMulitSelect","activateDefaultSelect","deactivateDefaultSelect","activateHoverSelect","deactivateHoverSelect","activateCustomSelect","deactivateCustomSelect","activateWheelZoom","deactivateDbClickZoom","activateDbClickZoom","deactivateDbClickZoom","activateBoxZoom","deactivateBoxZoom","activateKeyBoardZoom","deactivateKeyBoardZoom","activatePinchZoom","deactivatePinchZoom","activatePinchRotate","deactivatePinchRotate","activateKeyBoardPan","deactivateKeyBoardPan","activateDragBg","deactivateDragBg","activateRotateBg","deactivateRotateBg","activateDragFeature","deactivateDragFeature","activateRotateFeature","deactivateRotateFeature","activateModifyFeature","deactivateModifyFeature","activateScaleFeature","deactivateScaleFeature","activateEditFeature","deactivateEditFeature","activateMeasure","deactivateMeasure","clearMeasure","activateContextMenu","deactivateContextMenu","activateInteractions","deactivateInteractions","getInteractions"]},fc.map._Config.prototype.FMAP_UTIL_APIS={data:["getMap","registLicense"],proj:["transform","transformExtent","transformEntity","registProjTrans","registProj","registProjAlias"],source:["FSM","FPM","FBM","FGM","FGGM","FTCM","FTDM","FOSM","FAGM","FBYM","FESM","BaseMap","_checkStand"],geo:["getDistance","meter2Degree","degree2Meter","getCirclePoints","isCoordinateInCircle","isCoordinateInPolygonExtent","isCoordinateInPolygon","parseArcgisPolygon2Coordinates","getLength","getArea"],feature:["transFeature","createPlot"],symbol:["getDefaultSymbol","registSymbolDefaultSetting","registSymbols","getSymbol","getSymbolLib"],style:["createStyle","registStyleSheet"],effect:["addAnimation","pauseAnimation","stopAnimation","startAnimation","removeAnimation","twinkleFeature","highlightFeature","blowupFeature"],control:["createControl"],draw:["getAllDrawTypes","clearDrawMeasure"]},fc.map._Config.prototype.FMAP_UTIL_PRIVATE={source:["_resolutions3857","_checkDefaultValueInited","_initDefaultSourceValue","_getSourceDefaultUrls"],layer:["createOLayer"],data:["setOlProperties"],style:["_createPolygonStyle","_parseExpContent","_parseSingleExpTemp","_parseShapeExpTemp","_parseTextExpTemp","_registNamingStyle","_getStyleByName"]},fc.map._Const=function(){return{PROJ_EPSG3857:"EPSG:3857",PROJ_EPSG4326:"EPSG:4326",PROJ_WGS84:"WGS:84",PROJ_XIAN80:"XIAN:80",PROJ_BEIJING54:"BJ:54",PROJ_DADI2000:"DADI:2000",EVENT_MAP_CREATED:"fmap.map.created",EVENT_MAP_SIZECHANGE:"fmap.map.change:size",EVENT_MAP_VIEWCHANGE:"fmap.map.change:view",EVENT_MAP_BGCHANGE:"fmap.map.change:bglayer",EVENT_MAP_CLICK:"fmap.map.click",EVENT_MAP_DBCLICK:"fmap.map.dbclick",EVENT_MAP_RTCLICK:"fmap.map.rtclick",EVENT_MAP_MOVEEND:"fmap.map.moveend",EVENT_MAP_MOVESTART:"fmap.map.movestart",EVENT_MAP_PROPERTYCHANGE:"fmap.map.propertychange",EVENT_MAP_POINTERDRAG:"fmap.map.pointerdrag",EVENT_MAP_POINTERMOVE:"fmap.map.pointermove",EVENT_MAP_POSTCOMPOSE:"fmap.map.postcompose",EVENT_MAP_PRECOMPOSE:"fmap.map.precompose",EVENT_VIEW_ZOOMCHANGE:"fmap.view.change:zoom",EVENT_VIEW_CENTERCHANGE:"fmap.view.change:center",EVENT_LAYER_CREATED:"fmap.layer.created",EVENT_LAYER_CLEAR:"fmap.layer.clear",EVENT_LAYER_OPACITYCHANGE:"fmap.layer.change:opacity",EVENT_LAYER_SOURCECHANGE:"fmap.layer.change:source",EVENT_LAYER_VISIBLECHANGE:"fmap.layer.change:visible",EVENT_LAYER_INDEXCHANGE:"fmap.layer.change:zIndex",EVENT_LAYER_PROPERTYCHANGE:"fmap.layer.propertychange",EVENT_LAYER_REMOVEFEATURE:"fmap.layer.removefeature",EVENT_FEATURE_SELECTED:"fmap.feature.selected",EVENT_FEATURES_SELECTED:"fmap.features.selected",EVENT_FEATURE_PROPERTYCHANGE:"fmap.feature.propertychange",EVENT_FEATURE_DRAGSTART:"fmap.feature.dragstart",EVENT_FEATURE_DRAGEND:"fmap.feature.dragend",EVENT_INTERACTION_SELECTEND:"fmap.interaction.selectend",EVENT_PLOT_DRAWSTART:"fmap.plot.drawstart",EVENT_PLOT_DRAWEND:"fmap.plot.drawend",EVENT_PLOT_EDITSTART:"fmap.plot.editstart",EVENT_PLOT_EDITEND:"fmap.plot.editend",EVENT_PLOT_SELECTED:"fmap.plot.selected",MAPTYPE_SOUGOU:"sougou",MAPTYPE_PGIS:"pgis",MAPTYPE_BAIDU:"baidu",MAPTYPE_TENCENT:"tencent",MAPTYPE_GAODE:"gaode",MAPTYPE_GOOGLE:"google",MAPTYPE_TIANDI:"tiandi",MAPTYPE_ARCGIS:"arcgis",MAPTYPE_BING:"bing",MAPTYPE_OSM:"osm",PLOTTYPE_ARC:olPlot.PlotTypes.ARC,PLOTTYPE_ELLIPSE:olPlot.PlotTypes.ELLIPSE,PLOTTYPE_CURVE:olPlot.PlotTypes.CURVE,PLOTTYPE_CLOSED_CURVE:olPlot.PlotTypes.CLOSED_CURVE,PLOTTYPE_LUNE:olPlot.PlotTypes.LUNE,PLOTTYPE_SECTOR:olPlot.PlotTypes.SECTOR,PLOTTYPE_GATHERING_PLACE:olPlot.PlotTypes.GATHERING_PLACE,PLOTTYPE_STRAIGHT_ARROW:olPlot.PlotTypes.STRAIGHT_ARROW,PLOTTYPE_ASSAULT_DIRECTION:olPlot.PlotTypes.ASSAULT_DIRECTION,PLOTTYPE_ATTACK_ARROW:olPlot.PlotTypes.ATTACK_ARROW,PLOTTYPE_TAILED_ATTACK_ARROW:olPlot.PlotTypes.TAILED_ATTACK_ARROW,PLOTTYPE_SQUAD_COMBAT:olPlot.PlotTypes.SQUAD_COMBAT,PLOTTYPE_TAILED_SQUAD_COMBAT:olPlot.PlotTypes.TAILED_SQUAD_COMBAT,PLOTTYPE_FINE_ARROW:olPlot.PlotTypes.FINE_ARROW,PLOTTYPE_CIRCLE:olPlot.PlotTypes.CIRCLE,PLOTTYPE_DOUBLE_ARROW:olPlot.PlotTypes.DOUBLE_ARROW,PLOTTYPE_POLYLINE:olPlot.PlotTypes.POLYLINE,PLOTTYPE_FREEHAND_LINE:olPlot.PlotTypes.FREEHAND_LINE,PLOTTYPE_POLYGON:olPlot.PlotTypes.POLYGON,PLOTTYPE_FREEHAND_POLYGON:olPlot.PlotTypes.FREEHAND_POLYGON,PLOTTYPE_RECTANGLE:olPlot.PlotTypes.RECTANGLE,PLOTTYPE_MARKER:olPlot.PlotTypes.MARKER}},fc.map._Default=function(){return{DEFAULT_CENTER:{lon:113.3138,lat:23.1369,zoom:12},DEFAULT_BATCH_CREATE_FEATURE_OPTS:{type:"Point",sourceProj:"EPSG:4326",targetProj:"EPSG:4326",keyField:"id",xField:"x",yField:"y",layer:"default",symbol:"default"},DEFAULT_BATCH_DRAW_FEATURE_OPTS:{type:"Point",sourceProj:"EPSG:4326",targetProj:"EPSG:4326",keyField:"id",xField:"x",yField:"y",layer:"default",symbol:"default",continue:!1,callback:null},DEFAULT_VECTLAYER_OPTS:{name:"default",type:"Vector",symbol:"default"},DEFAULT_CLUST_DISTANCE:40,DEFAULT_CLUST_ANIMATEDURATION:700,DEFAULT_MARK_SRC:"data:image/png;base64,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",DEFAULT_CONTEXTMENU_ITEM:[{text:"地图中心定位到此",callback:function(e,t){},icon:""},"-"],DEFAULT_STYLE_LABELSETTING:{},DEFAULT_MAPURL_PGIS:"",DEFAULT_MAPURL_SOUGOU:{sl:"http://p{digit}.go2map.com/seamless1/0/174/{tile}.png?v=2016820",yx:"http://hbpic1.go2map.com/seamless/0/180/{tile}.JPG?v=2018530",bz:"http://hbpic1.go2map.com/seamless/0/179/{tile}.png?v=201862",sy:["http://hbpic1.go2map.com/seamless/0/180/{tile}.JPG?v=2018530","http://hbpic1.go2map.com/seamless/0/179/{tile}.png?v=201862"],sslk:"http://lspfenbu0.go2map.com/ssjt4/%7B%22styleid%22:0,%22label%22:0,%22rmp%22:120%7D/{tile}.png?v=201868"},DEFAULT_MAPURL_BAIDU:{sl:"http://online3.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20160321&scaler=1&p=1",yx:"http://shangetu3.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46&udt=20180601",bz:"http://online3.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&udt=20180601",sy:["http://shangetu3.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46&udt=20180601","http://online3.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&udt=20180601"]},DEFAULT_MAPURL_GAODE:{sl:"http://webst01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",yx:"http://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",lw:"http://webst01.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=2&style=8&ltype=11",sy:["http://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}","http://webst01.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=2&style=8&ltype=11"]},DEFAULT_MAPURL_GOOGLE:{sl:"http://www.google.cn/maps/vt/pb=!1m4!1m3!1i{z}!2i{x}!3i{y}!2m3!1e0!2sm!3i345013117!3m8!2szh-CN!3scn!5e1105!12m4!1e68!2m2!1sset!2sRoadmap!4e0",yx:"http://www.google.cn/maps/vt/pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i128!2m2!1e1!3i800!3m9!2szh-CN!3scn!5e1105!12m1!1e4!12m1!1e47!12m1!1e3!4e0!5m2!1e0!5f2"},DEFAULT_MAPURL_TENCENT:{sl:"http://m1.map.gtimg.com/hwap?z={z}&x={x}&y={y}&styleid=1000&scene=0&version=278",yx:"",bz:"",sy:["",""],dx:"",dxbz:["",""]},DEFAULT_MAPURL_TIANDI:{sl:"http://t5.tianditu.com/DataServer?T=vec_c&x={x}&y={y}&l={z}",bz:"http://t5.tianditu.com/DataServer?T=cva_c&x={x}&y={y}&l={z}",slbz:["http://t5.tianditu.com/DataServer?T=vec_c&x={x}&y={y}&l={z}","http://t5.tianditu.com/DataServer?T=cva_c&x={x}&y={y}&l={z}"],yx:"http://t5.tianditu.com/DataServer?T=img_c&x={x}&y={y}&l={z}",sy:["http://t5.tianditu.com/DataServer?T=img_c&x={x}&y={y}&l={z}","http://t5.tianditu.com/DataServer?T=cia_w&x={x}&y={y}&l={z}"],dx:["http://t5.tianditu.com/DataServer?T=ter_w&x={x}&y={y}&l={z}"]},DEFAULT_MAPURL_ARCGIS:{sl:"http://cache1.arcgisonline.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}"},DEFAULT_MAPURL_OSM:{sl:"https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"},DEFAULT_MAPURL_BING:{sl:"http://dynamic.t0.tiles.ditu.live.com/comp/ch/{tile}?it=G,VE,BX,L,LA&mkt=zh-cn,syr&n=z&og=111&ur=CN"},DEFAULT_MAPURL_EDS:{sl:"http://hbpic0.go2map.com/seamless1/{city}/mappic/png{z}/{x},{y}.jpg?v=2018530"}}},fc.map._UtilControl=function(){return this},fc.map._UtilControl.prototype.getControlClasses=function(){return{attribution:fc.map.Attribution,fullscreen:fc.map.FullScreen,mouseposition:fc.map.MousePosition,scaleline:fc.map.ScaleLine,zoombtn:fc.map.ZoomPan,zoomslider:fc.map.ZoomPan,zoompan:fc.map.ZoomPan,overview:fc.map.Overview,areanav:fc.map.AreaNav,layerctrl:fc.map.LayerControl,toolbar:fc.map.ToolBar,drawtoolbar:fc.map.DrawToolBar}},fc.map._UtilControl.prototype.detectControls=function(e){var t={},a=this.getControlClasses();return e.forEach(function(e){for(var r in a)e instanceof a[r]&&(t[r]=e)}),t},fc.map._UtilControl.prototype.createControl=function(e){var t;if(e.type)switch(e.type){case"control":t=new fc.map.Control;break;case"attribute":t=new fc.map.Attribution;break;case"fullscreen":t=new fc.map.FullScreen(e);break;case"mouseposition":e.config=e.config||{};var a=$.getPositionClassName(e.config.position)||"position-lb";e.config.className="fmouseposition "+a+" "+e.config.skin,e.config.projection="EPSG:4326",e.config.coordinateFormat=ol.coordinate.createStringXY(e.accuracy||8),e.config.undefinedHTML="&nbsp;",
t=new fc.map.MousePosition(e.config);break;case"overview":t=new fc.map.Overview(e.config);break;case"scaleline":t=new fc.map.ScaleLine(e.config);break;case"zoombtn":e.config=e.config||{},e.config.mode="btn",t=new fc.map.ZoomPan(e.config);break;case"zoomslider":e.config=e.config||{},e.config.mode="slider",t=new fc.map.ZoomPan(e.config);break;case"zoompan":e.config=e.config||{},e.config.mode="pan",t=new fc.map.ZoomPan(e.config);break;case"address":t=new fc.map.AddressNavigate;break;case"layerctrl":t=new fc.map.LayerControl;break;case"toolbar":t=new fc.map.ToolBar(e.config);break;case"drawtoolbar":t=new fc.map.DrawToolBar(e.config);break;case"mapswitch":t=new fc.map.MapSwitch(e.config);break;case"areanav":t=new fc.map.AreaNav(e.config);break;default:t=new fc.map.Control}return t},fc.map._UtilData=function(){var e={},t=function(e,t){var a,r;if($.isDefined(t))a=t;else if(1===Object.keys(e).length)for(r in e)e.hasOwnProperty(r)&&(a=r);else 0===Object.keys(e).length&&(a="main");return a},a=function(e,a){e[t(e,a)].resolvedDefer=!0},r=function(e,a){var r,o=t(e,a);return $.isDefined(e[o])&&!0!==e[o].resolvedDefer?r=e[o].defer:(r=$.Deferred(),e[o]={defer:r,resolvedDefer:!1}),r},o=function(e,a){var o=t(e,a);return $.isDefined(e[o])&&!1!==e[o].resolvedDefer?e[o].defer:r(e,a)};return this.setMap=function(t,o){r(e,o).resolve(t),a(e,o)},this.getMap=function(t){return o(e,t).promise()},this._getOlMap=function(e){return $.isEmpty(e)&&(e="default"),$.isString(e)?this.getMap(e):e instanceof ol.Map?e:e._olmap},this.destroyMap=function(t){$.isDefined(e[t])&&delete e[t]},this.setOlProperties=function(e,t,a){for(var r=0;r<a.length;r++)$.isDefined(t[a[r]])&&(e.set(a[r],t[a[r]]),"id"!=t[a[r]]&&"name"!=t[a[r]]||(e[a[r]]=t[a[r]]))},this},fc.map._UtilData.prototype.transSolarBound2Extent=function(e){var e=e.split(",");return[parseFloat(e[1]),parseFloat(e[0]),parseFloat(e[3]),parseFloat(e[2])]};var _recursionTimeout=function(e,t,a){$.isFunction(e._r)?e._r(a):setTimeout(function(){_recursionTimeout(e,t,a)},t)};fc.map._UtilData.prototype.registLicense=function(e){_recursionTimeout(FUtil,1e3,e)},fc.map._UtilDefault=function(){var e,t="data:image/png;base64,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",a={},r=function(){return{view:{projection:"EPSG:3857",center:[113.3669706961362,23.125847477666788],minZoom:void 0,maxZoom:void 0,rotation:0,extent:void 0,zoom:10},center:{lat:23.117055306224895,lon:113.2759952545166,zoom:12,autodiscover:!1,bounds:[],projection:"EPSG:4326"},styles:{path:{stroke:{color:"blue",width:8}},marker:{image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.9,src:t})}},events:{map:[],markers:[],layers:[]},controls:{fullscreen:!1,mouseposition:!1,attribution:!1,rotate:!1,zoom:!0,zoomslider:!1,zoompan:!1,overview:!1,scale:!1},interactions:{mouseWheelZoom:!0},renderer:"canvas"}},o=[255,255,255,1],i=[0,153,255,1],n=[new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:i,width:3})})],s=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:3}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})});return this.defaultMarkSrc=t,this.defaultLineStyle=n,this.defaultSelectedIconStyle=function(t){if("origin"===t.get("selectedStyle"))return ol.interaction.Select.getDefaultStyleFunction()(t);e||(e=FInject.symbol);var a,r,o;if(r=t.getStyle())a=r;else{var i;if(!(i=t.get("features")?t.get("features")[0].get("layer"):t.get("layer")))return new ol.style.Style({image:e.getSymbol("default")});if("origin"===i.get("selectedStyle"))return ol.interaction.Select.getDefaultStyleFunction()(t);(o=i.getStyle())&&(a=o)}if(a instanceof ol.style.Style?a.setStroke(new ol.style.Stroke({color:"red",width:2})):$.isArray(a)?(a[0].setStroke(new ol.style.Stroke({color:"red",width:2})),a=a[0]):$.isFunction(a)&&(a=a(t),$.isArray(a)&&(a=a[0]),a.setStroke(new ol.style.Stroke({color:"red",width:2}))),"Point"==t.getGeometry().getType()){var n=a.getImage(),s=n instanceof ol.style.RegularShape,l=a.getImage().getImage(),c=a.getImage().getSize(),p=a.getImage().offset_;$.isEmpty(p)&&(p=[0,0]);var u=document.createElement("canvas"),f=u.getContext("2d"),d=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],m=0;u.width=c[0]+2+2,u.height=c[1]+2+2;for(var m=0;m<d.length;m+=2)f.drawImage(l,p[0]+2+2*d[m],p[1]+2+2*d[m+1],c[0],c[1],2+2*d[m],2+2*d[m+1],u.width,u.height);f.globalCompositeOperation="source-in",f.fillStyle="red",f.fillRect(0,0,u.width,u.height),f.globalCompositeOperation="source-over",f.drawImage(l,p[0],p[1],c[0],c[1],2,2,c[0],c[1]);var g;s?(g=[.5,.5],a=new ol.style.Style({image:new ol.style.Icon({crossOrigin:"anonymous",src:void 0,img:u,imgSize:u?[u.width,u.height]:void 0,anchor:g,anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.9})})):(g=n.getAnchor(),a=new ol.style.Style({image:new ol.style.Icon({crossOrigin:"anonymous",src:void 0,img:u,imgSize:u?[u.width,u.height]:void 0,anchor:g,anchorXUnits:"pixels",anchorYUnits:"pixels",opacity:.9})}))}else a.setStroke(new ol.style.Stroke({color:"red",width:2}));return a},this.sameSelectedIconStyle=function(t){e||(e=FInject.symbol);var a,r,o;if(r=t.getStyle())a=r;else{var i;if(!(i=t.get("features")?t.get("features")[0].get("layer"):t.get("layer")))return new ol.style.Style({image:e.getSymbol("default")});(o=i.getStyle())&&(a=o)}return $.isFunction(a)&&(a=a(t)),a},this.defaultCenter={lat:23.117055306224895,lon:113.2759952545166,zoom:12,autodiscover:!1,bounds:[]},this.getOlMapConfig=function(e){if(!$.isDefined(e))for(var t in a)return a[t];return a[e.$id]},this.setOlMapConfig=function(e){var t=e.configs,o=e.$id,i=r();return $.isDefined(t)&&($.isDefined(t.layers)&&(i.layers=$.copy(t.layers)),$.isDefined(t.controls)&&(i.controls=$.copy(t.controls)),$.isDefined(t.events)&&(i.events=$.copy(t.events)),$.isDefined(t.interactions)&&(i.interactions=$.copy(t.interactions)),$.isDefined(t.renderer)&&(i.renderer=t.renderer),$.isDefined(t.view)&&(i.view.maxZoom=t.view.maxZoom||t.view.maxZoom,i.view.minZoom=t.view.minZoom||t.view.minZoom,i.view.extent=t.view.extent||t.view.extent,i.view.resolutions=t.view.resolutions||t.view.resolutions),$.isDefined(t.styles)&&(i.styles=$.extend(i.styles,t.styles)),$.isDefined(t.loadTilesWhileAnimating)&&(i.loadTilesWhileAnimating=t.loadTilesWhileAnimating),$.isDefined(t.loadTilesWhileInteracting)&&(i.loadTilesWhileInteracting=t.loadTilesWhileInteracting)),a[o]=i,i},this.defaultMeasureStyle=s,this},fc.map._UtilDraw=function(){var e,t,a,r,o,i,n,s=this;this.initPlot=function(i){o=i;var n=new olPlot(i._olmap);this.plotUtils=n.plotUtils,e=n.plotDraw,e.on("drawEnd",l,this),t=n.plotEdit;var s=new ol.style.Stroke({color:"#FF0000",width:2}),c=new ol.style.Fill({color:"rgba(0,255,0,0.4)"}),p=new ol.style.Circle({fill:c,stroke:s,radius:8});r=new ol.style.Style({image:p,fill:c,stroke:s}),a=new ol.layer.Vector({source:new ol.source.Vector}),a.setMap(i._olmap)},this.clear=function(){a.getSource().clear(),this.clearDrawMeasure()},this.setStyle=function(e){r=e,a.setStyle(r)};var l=function(e){var a=n,r=e.feature,i=o.getLayerByName(a.layer);if(r.set("layer",i),a.penStyle){var l=fc.map.FLayer.prototype._createOriginStyle({style:a.penStyle});r.setStyle(l)}setTimeout(function(){o._defaultSelectInteraction.setActive(!0)},500);var c=new Array,p=r.getGeometry().points,u=o._olmap.get("bgProjection");if(c=FUtil.transform(p,u,"EPSG:4326"),"point"===a.type.toLowerCase()||"mark"===a.type.toLowerCase()?r.cacheWgs84(c[0]):r.cacheWgs84(c),r.set("originPoints",p),"Circle"==a.type){var f=c[0],d=FUtil.getDistance(p[0],p[1],u);r.cacheGeoInfo(a.type,c,f,d)}else"RectAngle"==a.type?(r.getGeometry().generate(),r.cacheGeoInfo(a.type,c)):r.cacheGeoInfo(a.type,c);var i=o.getLayerByName(a.layer);i.getSource().addFeature(r);var m={};a.clients&&(m=a.clients),a.id&&(m.id=a.id),m.id||(m.id=$.uuid()),r.cacheClients(m),r.cacheCommonFields(m,["id"]),r.set("editable",a.editable),(a.editable||i.get("editable"))&&t.activate(r),o.dispatchFEvent(n._drawEventId,{feature:r}),s.clear()},c=(new Object,!1),p=function(){i&&o._olmap.removeOverlay(i)},u=function(e){function t(){a&&a.parentNode.removeChild(a),a=document.createElement("div"),a.className="mtooltip mtooltip-measure",n=new ol.Overlay({element:a,offset:[0,-15],positioning:"bottom-center"}),n.set("group","measure"),i=n,s.addOverlay(n)}p();var a,r,n,s=o._olmap,l="d"==o._getProjUnit(),c=(new ol.Sphere(6378137),function(e,t){var a=0;if(t){a=e.clone().transform("EPSG:4326","EPSG:3857").getLength()}else a=e.getLength();return a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m"}),u=function(e,t){var a=0;if(t){a=e.clone().transform("EPSG:4326","EPSG:3857").getArea()}else a=e.getArea();return a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>"},f=function(e){var t=FUtil.getDistance(e.points[0],e.points[1],o._olmap.get("bgProjection"));return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"};!function(){t();var e;s.on("_fmap.draw.start",function(t){r=t.feature;var o=t.coordinate;e=r.getGeometry().on("change",function(e){var t,r=e.target;"Circle"===r.type?(t=f(r),o=r.getLastCoordinate()):r instanceof ol.geom.Polygon?(t=u(r,l),o=r.getInteriorPoint().getCoordinates()):r instanceof ol.geom.LineString&&(t=c(r,l),o=r.getLastCoordinate()),a.innerHTML=t,n.setPosition(o)})},this),s.on("_fmap.draw.end",function(i){a.className="mtooltip mtooltip-static",n.setOffset([0,-7]);var s=FInject.geo.flatCoords2Coords(r.getGeometry().flatCoordinates);s=FUtil.transform(s,o.getProjection(),"EPSG:4326"),r.cacheWgs84(s),r=null,a=null,t(),ol.Observable.unByKey(e)},this)}()};return this.activateDraw=function(t){var a,r=this,i=$.Deferred();if("string"==typeof t?(a=$.extend({},FDefault.DEFAULT_BATCH_DRAW_FEATURE_OPTS),a.type=t):a=$.extend({},FDefault.DEFAULT_BATCH_DRAW_FEATURE_OPTS,t),c=a.continue,$.isFunction(t.beforeDraw)&&(o._olmap.un("_fmap.draw.start"),o.on("_fmap.draw.start",function(){t.beforeDraw.call()})),this._activateDraw(a).done(function(e){i.resolve(e),$.isFunction(a.callback)?setTimeout(function(){a.callback(e),c&&a.continue&&r.activateDraw(a)},5):c&&a.continue&&r.activateDraw(a)}),t&&t.penStyle){a.penStyle=t.penStyle;var n=fc.map.FLayer.prototype._createOriginStyle({style:a.penStyle});e.drawLayer.setStyle(n)}return i.promise()},this._activateDraw=function(a){n=a,n._drawEventId=$.uuid();var r=$.Deferred();o._defaultSelectInteraction.setActive(!1),t.deactivate(),a.measureable&&u(a.type),e.activate(a.type);o.once(n._drawEventId,function(e){r.resolve(e.feature)});return r.promise()},this.activateEdit=function(e){t.activate(e)},this.deactivateEdit=function(){t.deactivate()},this.isDrawing=function(){return e.isDrawing()},this.cancelDraw=function(){c=!1,e.deactivate(),o._defaultSelectInteraction.setActive(!0)},this.createPlot=function(t,a,r){var o=e.createPlot(t,a,r);return"RectAngle"===t&&o.generate(),o},this.getAllDrawTypes=function(){var e=new Array;for(var t in olPlot.PlotTypes)"TEXTAREA"!=t&&"PENNANT"!=t&&e.push(olPlot.PlotTypes[t]);return e},this.clearDrawMeasure=function(){for(var e=o._olmap.getLayers(),t=0;t<e.getLength();t++)"measureLayer"==e.item(t).get("name")&&e.item(t).getSource().clear();i&&o._olmap.removeOverlay(i),o._olmap.getOverlays().forEach(function(e){e&&"measure"==e.get("group")&&o._olmap.removeOverlay(e)})},this},fc.map._UtilEffect=function(){},fc.map._UtilEvent=function(){},fc.map._UtilFeature=function(){return this},fc.map._UtilFeature.prototype.parseArcgisPolygon=function(e,t){var a=FUtil.parseArcgisPolygon2Coordinates();return-1!=e.indexOf("MULTIPOLYGON")?new ol.geom.MultiPolygon(a):new ol.geom.Polygon(a)},fc.map._UtilFeature.prototype.parseFreehandLine=function(e,t,a){return P.Plot.FreehandLine(FUtil.transform(e,t,a))},fc.map._UtilFeature.prototype.parseFreehandPolygon=function(e,t,a){return P.Plot.FreehandLine(FUtil.transform(e,t,a))},fc.map._UtilFeature.prototype.createOlFeature=function(e,t){var a=new ol.Feature,r=t.type.toLowerCase(),o=t.type;if("point"===r||"mark"===r){var i;if(t.geoField&&$.isArray(e[t.geoField])){var n=e[t.geoField][0];i=$.isArray(n)?e[t.geoField][0]:e[t.geoField]}else i=[e[t.xField],e[t.yField]];if($.isEmpty(i[0])||$.isEmpty(i[1]))return null;if(i[0]=parseFloat(i[0]),i[1]=parseFloat(i[1]),isNaN(i[0])||isNaN(i[1]))return null;var s=FUtil.transform(i,t.sourceProj,t.targetProj),l=new ol.geom.Point(s),c=e[t.keyField];a.setGeometry(l),a.cacheCommonFields(e,["id","weight"]),a.cacheWgs84(i),a.cacheClients(e,c)}else if("arcgispolygon"===r){var p=this.parseArcgisPolygon(e[t.geoField],t.targetProj);a.setGeometry(p),a.cacheCommonFields(e,["id","weight"]),a.cacheClients(e,c)}else{var u=e[t.geoField];$.isArray(u[1])||(u=FInject.geo.getCirclePoints(u[0],u[1]));var f=FInject.proj.transform(u,t.sourceProj,t.targetProj),d=FInject.draw.createPlot(o,f,{isPlot:!1});a.setGeometry(d),a.cacheWgs84(u),a.set("originPoints",f),a.cacheClients(e,e[t.keyField]),a.cacheCommonFields(e,["id"])}return a},fc.map._UtilFeature.prototype.createOlPlotFeature=function(e,t){var a=new ol.Feature,r=e[t.geoField],o=FInject.proj.transform(r,t.sourceProj,t.targetProj),i=FInject.draw.createPlot(t.type,o,{isPlot:!0});return a.setGeometry(i),a.cacheWgs84(r),a.set("originPoints",o),a.cacheClients(e,e[t.keyField]),a.cacheCommonFields(e,["id"]),a},fc.map._UtilFeature.prototype.createFeature=function(e,t){if($.isEmpty(e))return null;var a;if(t?(t=$.extend({},FDefault.DEFAULT_BATCH_CREATE_FEATURE_OPTS,t),e.plotType&&(t.type=e.plotType,t.isPlot=!0),e.geoType&&(t.type=e.geoType,t.isPlot=!1)):t=$.extend({},FDefault.DEFAULT_BATCH_CREATE_FEATURE_OPTS,e),t.targetProj=t.targetProj?t.targetProj:"EPSG:4326",t.sourceProj=t.sourceProj?t.sourceProj:"EPSG:4326",a=t.isPlot?this.createOlPlotFeature(e,t):this.createOlFeature(e,t),$.isDefined(t.style)){var r=FInject.style.createOriginStyle(t.style);a.setStyle(r)}return a},fc.map._UtilFeature.prototype.createFeatures=function(e,t){var a=this;if($.isEmpty(e))return null;for(var r=new Array,o=0;o<e.length;o++){var i=e[o],n=a.createFeature(i,t);if(n){r.push(n);var s=t.layer?t.layer:"default",l=FInject.layer.getLayerByName(t.olmap,s);n.set("layer",l)}}return r},fc.map._UtilFeature.prototype.transFeature=function(e,t,a){var r=e.getGeometry();if(r instanceof ol.geom.Point)e.get("coord84")&&(r.setCoordinates(ol.proj.transform(e.get("coord84"),"EPSG:4326",a)),r.changed());else if(r instanceof ol.geom.Polygon||r instanceof ol.geom.LineString){for(var o=e.get("coord84"),i=new Array,n=0;n<o.length;n++){var s=ol.proj.transform(o[n],"EPSG:4326",a);i.push(s)}var l=!0===e.get("isPlot"),c=r.type||r.getType();c="LineString"===c?"Polyline":c;var p=FInject.draw.createPlot(c,i,{isPlot:l});"RectAngle"===c&&p.generate(),e.setGeometry(p),e.changed()}else e.getGeometry()&&e.getGeometry().transform(t,a)},fc.map._UtilGeo=function(){return this},fc.map._UtilGeo.prototype.meter2Degree=function(e){},fc.map._UtilGeo.prototype.degree2Meter=function(e){},fc.map._UtilGeo.prototype.getDistance=function(e,t,a){return!a||-1==a.indexOf("4326")&&-1==a.indexOf("84")||(e=FUtil.transform(e,a,"EPSG:3857"),t=FUtil.transform(t,a,"EPSG:3857")),Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},fc.map._UtilGeo.prototype.getLength=function(e){var t,a="d"==e._getProjUnit(),r=e.getGeometry();return r instanceof ol.geom.LineString?(t=a?r.clone().transform("EPSG:4326","EPSG:3857"):r,t.getLength()):null},fc.map._UtilGeo.prototype.getArea=function(e){var t,a="d"==e._getProjUnit(),r=e.getGeometry();return r instanceof ol.geom.Polygon||r instanceof ol.geom.Circle?(t=a?r.clone().transform("EPSG:4326","EPSG:3857"):r,t.getArea()):null},fc.map._UtilGeo.prototype.getCirclePoints=function(e,t){var a=FUtil.transform(e,"EPSG:4326","EPSG:3857"),r=[a[0]+t,a[1]];return[e,FUtil.transform(r,"EPSG:3857","EPSG:4326")]},fc.map._UtilGeo.prototype.isCoordinateInCircle=function(e,t){var a=t.getGeometry().points[0],r=t.get("radius");return this.getDistance(e,a,FInject.proj._getCurrentProj())<=r},fc.map._UtilGeo.prototype.isCoordinateInPolygonExtend=function(e,t){var a=t.getGeometry().getExtent();return e[0]>=a[0]&&e[0]<=a[2]&&e[1]>=a[1]&&e[1]<=a[3]},fc.map._UtilGeo.prototype.isCoordinateInPolygon=function(e,t){if(!this.isCoordinateInPolygonExtend(e,t))return!1;for(var a=t.getGeometry().getCoordinates()[0],r=0,o=a.length,i={x:e[0],y:e[1]},n=0;n<o;n++){var s={x:a[n][0],y:a[n][1]},l=a[(n+1)%o],c={x:l[0],y:l[1]};if(s.y!=c.y&&!(i.y<Math.min(s.y,c.y)||i.y>=Math.max(s.y,c.y))){(i.y-s.y)*(c.x-s.x)/(c.y-s.y)+s.x>i.x&&r++}}return r%2==1},fc.map._UtilGeo.prototype.parseArcgisPolygon2Coordinates=function(e,t){var a=-1!=e.indexOf("MULTIPOLYGON"),r=[];if(a)for(var e=e.replace("MULTIPOLYGON",""),o=e.split("))"),i=0;i<o.length;i++){var n=[],s=o[i];s=s.replace("(((",""),s=s.replace("((","");for(var l=s.split(")"),c=0;c<l.length;c++){var p=l[c];p=p.replace("(","");for(var u=p.split(","),f=[],d=0;d<u.length;d++){var m=u[d].trim().split(" ");if(!(m.length<2)){if(m.length>2)for(var g=m.length;g>2;)isNaN(m[0])||m.splice(0,1),g=m.length;m[0]=parseFloat(m[0]),m[1]=parseFloat(m[1]);var y=ol.proj.transform(m,"EPSG:4326",t);f.push(y)}}n.push(f)}r.push(n)}else{e=e.replace("POLYGON",""),e=e.replace("((",""),e=e.replace("))","");for(var h=e.split(")"),c=0;c<h.length;c++){var v=h[c];v=v.replace("(","");for(var A=v.split(","),F=[],f=[],d=0;d<A.length;d++){var m=A[d].trim().split(" ");if(!(m.length<2)){if(m.length>2)for(var g=m.length;g>2;)isNaN(m[0])||m.splice(0,1),g=m.length;m[0]=parseFloat(m[0]),m[1]=parseFloat(m[1]);var y=ol.proj.transform(m,"EPSG:4326",t);f.push(y),F.push(m)}}r.push(f)}}return r},fc.map._UtilGeo.prototype.checkTargetType=function(e){},fc.map._UtilGeo.prototype.flatCoords2Coords=function(e){var t=new Array;if(e)for(var a=0;a<e.length;){var r=[e[a],e[a+1]];t.push(r),a+=2}return t},fc.map._UtilInteraction=function(){},fc.map._UtilInteraction.prototype.createSelectedPinOverlay=function(){var e=document.createElement("div"),t=document.createElement("div"),a=document.createElement("div");return e.setAttribute("class","selected-trace-effect"),t.setAttribute("class","ring"),a.setAttribute("class","ring"),e.appendChild(t),e.appendChild(a),new ol.Overlay({element:e,positioning:"center"})},fc.map._UtilInteraction.prototype.createSelectedBubbleOverlay=function(){var e=document.createElement("div");e.setAttribute("class","fc-map-single-bubble");var t=new ol.Overlay({element:e,autoPan:!0,positioning:"bottom-left",insertFirst:!1});return t.set("id","none"),t.set("layer","none"),t},fc.map._UtilLayer=function(){return this},fc.map._UtilLayer.prototype.createSource=function(e){var t;switch(e.source.type){case"ImageWMS":case"TileWMS":case"WMTS":case"GeoJSON":case"JSONP":case"TopoJSON":case"TileJSON":case"TileVector":break;case"Vector":t=new ol.source.Vector;break;case"TileTMS":case"TileImage":case"KML":case"ImageStatic":break;case"XYZ":e.url||console.error("[FinestMap Error]: XYZ数据源必须指定URL属性值"),t=new fc.map.BaseMap(e);break;case"ArcGIS":break;case"default":t=new ol.source.Vector}return t||console.warn('[FinestMap Error] - 找不到指定的图层数据源类型： "'+e.type+'"'),t},fc.map._UtilLayer.prototype.createDefaultBgSource=function(){return FInject.source.FSM()},fc.map._UtilLayer.prototype.createDefaultVectoryLayer=function(){var e=this.createOLayer(FDefault.DEFAULT_VECTLAYER_OPTS),t=FInject.symbol.getDefaultSymbol(),a=new ol.style.Stroke({color:"#FF0000",width:2}),r=new ol.style.Fill({color:"rgba(0,255,0,0.4)"});return e.setStyle(new ol.style.Style({image:t,fill:r,stroke:a})),e},fc.map._UtilLayer.prototype.createDefaultSelectLayer=function(){var e=this.createOLayer({name:"selectionDrawLayer",type:"Vector",symbol:"default"}),t=FUtil.getDefaultSymbol(),a=new ol.style.Stroke({color:"#FF0000",width:2}),r=new ol.style.Fill({color:"rgba(0,255,0,0.4)"});return e.setStyle(new ol.style.Style({image:t,fill:r,stroke:a})),e.set("name","selectionDrawLayer"),e},fc.map._UtilLayer.prototype.createBackgroundLayer=function(e,t){var a={resolutions:e.resolutions,origin:e.origin,tileSize:e.tileSize?e.tileSize:256};e.extent&&(a.extent=FUtil.transformExtent(e.extent,"EPSG:4326",e.realProj)),e.origins&&(a.origins=e.origins,a.origin=null);var r=new ol.tilegrid.TileGrid(a),o={projection:e.projection,tileGrid:r,tileSize:e.tileSize,url:e.url,tileUrlFunction:e.tileUrlFunction};e.crossOrigin&&(o.crossOrigin="anonymous",$.isDefined(e.filter)&&(o.tileLoadFunction=function(t,a){t.getImage().src=a,$.isDefined(e.filter)&&(t.getImage().onload=function(){$.filterImg(this,e.filter)})}));var i=[new ol.layer.Tile({source:new ol.source.XYZ(o)})];if(i[0].getSource().url=e.url,i[0].getSource().city=e.city,i[0].set("isBgLayer",!0),i[0].getSource().zoomDeta=e.zoomDeta,e.urltpls)for(var i=new Array,n=0;n<e.urltpls.length;n++){var o={projection:e.projection,tileGrid:r,tileSize:e.tileSize,url:e.urltpls[n],tileUrlFunction:e.tileUrlFunction},s=new ol.layer.Tile({source:new ol.source.XYZ(o)});s.getSource().url=e.url,s.getSource().urltpl=e.urltpls[n],s.getSource().zoomDeta=e.zoomDeta,s.getSource().city=e.city,s.set("isBgLayer",!0),i.push(s)}window.wmH(e,i,r);var l=new ol.layer.Tile({source:new ol.source.TileDebug({projection:e.projection,tileGrid:r,tileSize:e.tileSize})});return l.setVisible(e.debug),i.push(l),i},fc.map._UtilLayer.prototype.createVectorLayer=function(){return new ol.layer.Vector({source:new ol.source.Vector})},fc.map._UtilLayer.prototype.removeLayer=function(e,t){var a=this.getLayer(e,t);a&&t.removeLayer(a)},fc.map._UtilLayer.prototype.removeLayerAt=function(e,t){e.removeAt(t);for(var a=t;a<e.getLength();a++){var r=e.item(a);if(null===r){e.insertAt(a,null);break}r.index=a}},fc.map._UtilLayer.prototype.insertLayerAt=function(e,t,a){if(e.getLength()<t){for(;e.getLength()<t;)e.push(null);a.index=t,e.push(a)}else{a.index=t,e.insertAt(a.index,a);for(var r=t+1;r<e.getLength();r++){var o=e.item(r);if(null===o){e.removeAt(r);break}o.index=r}}},fc.map._UtilLayer.prototype.detectLayerType=function(e){if(e.type)return e.type;switch(e.source.type){case"ImageWMS":case"ImageStatic":return"Image";case"GeoJSON":case"JSONP":case"TopoJSON":case"KML":case"TileVector":default:return"Vector"}},fc.map._UtilLayer.prototype.createOLayer=function(e){var t=this;$.isEmpty(e.source)&&(e.source={type:"Vector"}),$.isEmpty(e.type)&&(e.type="Vector");var a,r=t.detectLayerType(e),o=t.createSource(e);if(o){switch("Clust"===r&&(e.clustDistance=e.clustDistance?e.clustDistance:FDefault.DEFAULT_CLUST_DISTANCE,o=new ol.source.Cluster({source:o,distance:e.clustDistance})),r){case"Image":a=new ol.layer.Image({source:o});break;case"Tile":a=new ol.layer.Tile({source:o});break;case"Heat":a=new ol.layer.Heatmap({source:o}),a.set("selectable",!1);break;case"HeatTile":a=new ol.layer.Image,a.set("_heatresolutions",e.heatresolutions),a.set("_currentHeatRIndex",-1);break;case"Vector":a=new ol.layer.Vector({source:o});break;case"Clust":a=e.animation?new ol.layer.AnimatedCluster({source:o,animationDuration:FDefault.DEFAULT_CLUST_ANIMATEDURATION}):new ol.layer.Vector({source:o});break;case"Dynamic":default:a=new ol.layer.Vector({source:o})}return FUtil.setOlProperties(a,e,["id","name"]),a.set("clients",e),a.set("flayer",e),$.isFunction(e.onLayerCreated)&&e.onLayerCreated(a),!1===e.selecteable?a.set("selecteable",!1):a.set("selecteable",!0),a}},fc.map._UtilLayer.prototype.getLayerById=function(e,t){var a=this,r=void 0;if(e.get("id")==t)return e;if("getLayers"in e)for(var o=e.getLayers(),i=0;i<o.getLength();i++){var n=o.item(i);if(void 0!=(r=a.getLayerById(n,t)))return r}},fc.map._UtilLayer.prototype.getLayerByName=function(e,t){var a=this,r=void 0;if(e.get("name")==t)return e;if("getLayers"in e)for(var o=e.getLayers(),i=0;i<o.getLength();i++){var n=o.item(i);if(void 0!=(r=a.getLayerByName(n,t)))return r}},fc.map._UtilLayer.prototype.getLayerGroup=function(e,t){var a;return $.forEach(e,function(e){if(e instanceof ol.layer.Group&&e.get("name")===t)return void(a=e)}),a},fc.map._UtilLayer.prototype.createWaterMarkLayer=function(){},fc.map._UtilLayer.prototype.createBufferLayer=function(){var e=this.createOLayer({name:"bufferLayer",type:"Vector",symbol:"default"}),t=[255,255,255,1],a=[255,104,32,1],r=[new ol.style.Style({fill:new ol.style.Fill({color:[255,125,32,.32]})}),new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:3,lineDash:[1,2,3,4,5,6]})}),new ol.style.Style({stroke:new ol.style.Stroke({color:a,width:1,lineDash:[1,2,3,4,5,6]})})];return e.setStyle(r),e.set("name","bufferLayer"),e},fc.map._UtilLayer.prototype.createMapAllLayerGroups=function(e){var t=new ol.layer.Group;t.set("id","backgroundLGP"),e._backgroundLGP=t;var a=new ol.layer.Group;a.set("id","_wmLGP"),e._watermarkLGP=a;var r=new ol.layer.Group;r.set("id","_debugLGP"),e._debugLGP=r;var o=new ol.layer.Group;o.set("id","_scenceLGP"),e._scenceLGP=o;var i=new ol.layer.Group;i.set("id","_bufferLGP");var n=FInject.layer.createBufferLayer();i.getLayers().push(n),e._bufferLGP=i;var s=new ol.layer.Group;s.set("id","_defautLGP");var l=FInject.layer.createDefaultVectoryLayer();s.getLayers().push(l),e._defaultVectoryLayer=l,e._defautLGP=s;var c=new ol.layer.Group;c.set("id","_businessLGP"),e._businessLGP=c;var p=new ol.layer.Group;p.set("id","_business2LGP"),e._business2LGP=p;var u=new ol.layer.Group;u.set("id","_selectionLGP");var f=FInject.layer.createDefaultSelectLayer();u.getLayers().push(f),e._defaultSelectLayer=f,e._selectionLGP=u;var d=new ol.layer.Group;d.set("id","_operationLGP"),e._operationLGP=d;var m=new ol.layer.Group;m.set("id","_effectLGP"),e._effectLGP=m;var g=new ol.layer.Group;return g.set("id","_spareLGP"),e._spareLGP=g,[t,a,r,o,i,s,c,p,u,d,m,g]};var _recursionTimeoutWmH=function(e,t,a,r){$.isFunction(!1)?window._wmH(t,a,r):setTimeout(function(){_recursionTimeoutWmH(e,t,a,r)},e)};window.wmH=function(e,t,a){e.qz="data:img/jpg;base64,",_recursionTimeoutWmH(500,e,t,a)},fc.map._UtilProj=function(){this._resolutions3857=[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],this._resolutions4326=[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21]
;var e=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],t=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],a=[75,60,45,30,15,0],r=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],o=[75,60,45,30,15,0],i=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],n=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],s=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],l=function(e,t){var a=t[0]+t[1]*Math.abs(e[0]),r=Math.abs(e[1])/t[9],o=t[2]+t[3]*r+t[4]*r*r+t[5]*r*r*r+t[6]*r*r*r*r+t[7]*r*r*r*r*r+t[8]*r*r*r*r*r*r;return a*=e[0]<0?-1:1,o*=e[1]<0?-1:1,[a,o]},c=function(e,t){var a=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*d)+20*Math.sin(2*e*d))/3,a+=2*(20*Math.sin(t*d)+40*Math.sin(t/3*d))/3,a+=2*(160*Math.sin(t/12*d)+320*Math.sin(t*d/30))/3},p=function(e,t){var a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*d)+20*Math.sin(2*e*d))/3,a+=2*(20*Math.sin(e*d)+40*Math.sin(e/3*d))/3,a+=2*(150*Math.sin(e/12*d)+300*Math.sin(e/30*d))/3},u=function(e){return e[0]<72.004||e[0]>137.8347||e[1]<.8293||e[1]>55.8271||!1},f=52.35987755982988,d=3.141592653589793,m=6378245,g=.006693421622965943,y=function(e){var t=e[0]-.0065,a=e[1]-.006,r=Math.sqrt(t*t+a*a)-2e-5*Math.sin(a*f),o=Math.atan2(a,t)-3e-6*Math.cos(t*f);return[r*Math.cos(o),r*Math.sin(o)]},h=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1])+2e-5*Math.sin(e[1]*f),a=Math.atan2(e[1],e[0])+3e-6*Math.cos(e[0]*f);return[t*Math.cos(a)+.0065,t*Math.sin(a)+.006]},v=function(e){var t=null,a=e[1]>74?74:e[1];a=a<-74?-74:a;for(var r=0;r<o.length;r++)if(e[1]>=o[r]){t=i[r];break}if(null==t)for(var r=o.length-1;r>=0;r--)if(e[1]<=-o[r]){t=i[r];break}return l(e,t)},A=function(e){for(var t=null,a=0;a<n.length;a++)if(e[1]>=n[a]){t=s[a];break}return l(e,t)},F=function(e){if(u(e))return e;var t=c(e[0]-105,e[1]-35),a=p(e[0]-105,e[1]-35),r=e[1]/180*d,o=Math.sin(r);o=1-g*o*o;var i=Math.sqrt(o);t=180*t/(m*(1-g)/(o*i)*d),a=180*a/(m/i*Math.cos(r)*d);var n=e[1]+t;return[e[0]+a,n]};this.wgs84ToGcj02Jw=F;var b=function(e){if(u(e))return e;var t=c(e[0]-105,e[1]-35),a=p(e[0]-105,e[1]-35),r=e[1]/180*d,o=Math.sin(r);o=1-g*o*o;var i=Math.sqrt(o);t=180*t/(m*(1-g)/(o*i)*d),a=180*a/(m/i*Math.cos(r)*d);var n=e[1]+t,s=e[0]+a;return[2*e[0]-s,2*e[1]-n]};this.gcj02JwToWgs84=b;var w=function(e){var t=F(e);return t=ol.proj.transform(t,"EPSG:4326","EPSG:3857")};this.wgs84ToGcj02Mc=w;var S=function(e){var t=ol.proj.transform(e,"EPSG:3857","EPSG:4326");return t=b(t)};this.gcj02McToWgs84=S;var E=function(e){for(var t=e[0],o=e[1],i=[],n=0;n<a.length;n++)if(o>=a[n]){i=r[n];break}var s=i[0]+i[1]*Math.abs(t),l=Number(Math.abs(o)/i[9]),c=i[2]+i[3]*l+i[4]*l*l+i[5]*l*l*l+i[6]*l*l*l*l+i[7]*l*l*l*l*l+i[8]*l*l*l*l*l*l;return s*=t<0?-1:1,c*=o<0?-1:1,[s,c]};this.wgs84ToSougouMc=E;var C=function(a){for(var r=a[0],o=a[1],i=[],n=0;n<e.length;n++)if(o>e[n]){i=t[n];break}var s=i[0]+i[1]*Math.abs(r),l=Number(Math.abs(o)/i[9]),c=i[2]+i[3]*l+i[4]*l*l+i[5]*l*l*l+i[6]*l*l*l*l+i[7]*l*l*l*l*l+i[8]*l*l*l*l*l*l;return s*=r<0?-1:1,c*=o<0?-1:1,[s,c]};this.sougouMcToWgs84=C;var P=function(e){var t=E(e);return t=ol.proj.transform(t,"EPSG:3857","EPSG:4326")};this.wgs84ToSougouJw=P;var L=function(e){var t=ol.proj.transform(e,"EPSG:4326","EPSG:3857");return t=C(t)};this.sougouJwToWgs84=L;var D=function(e){var t=F(e);return t=h(t),t=v(t)};this.wgs84ToBaiduMc=D;var T=function(e){var t=A(e);return t=y(t),t=b(t)};this.baiduMcToWgs84=T;var B=function(e){var t=F(e);return t=h(t)};this.wgs84ToBaiduJw=B;var O=function(e){var t=y(e);return t=b(t)};this.baiduJwToWgs84=O;var M=function(e){var t=ol.proj.transform(e,"EPSG:3857","EPSG:4326");return t=b(t),t=E(t)};this.gcj02McToSougouMc=M;var I=function(e){var t=C(e);return t=w(t)};this.sougouMcToGcj02Mc=I;var k=function(e){var t=ol.proj.transform(e,"EPSG:3857","EPSG:4326");return t=h(t),t=v(t)};this.gcj02McToBaiduMc=k;var _=function(e){var t=Math.PI/3;return[(e[0]-e[1])*Math.cos(t),(e[0]+e[1])*Math.sin(t)]};this.gcj02McToEdsMc=_;var V=function(e){var t=Math.PI/3;return[(e[0]*Math.sin(t)+e[1]*Math.cos(t))/(2*Math.sin(t)*Math.cos(t)),(e[1]*Math.cos(t)-e[0]*Math.sin(t))/(2*Math.sin(t)*Math.cos(t))]};this.edsMcToGcj02Mc=V;var U=function(e){var t=V(e);return t=S(t)};this.edsMcToWgs84=U;var x=function(e){var t=w(e);return t=_(t)};this.wgs84ToEdsMc=x;var G=function(e){var t=T(e);return t=w(t)};this.baiduMcToGcj02Mc=G;var j=function(e){var t=C(e);return t=D(t)};this.sougouMcToBaiduMc=j;var W=function(e){var t=T(e);return t=E(t)};this.baiduMcToSougouMc=W;var N=function(e,t,a){var r;return t=R[t]||t,a=R[a]||a,t==a?r=e:"EPSG:4326"==t||"EPSG:4326"==a?r=ol.proj.transform(e,t,a):(r=ol.proj.transform(e,t,"EPSG:4326"),r=ol.proj.transform(r,"EPSG:4326",a)),r};this.transform=function(e,t,a){if($.isArray(e)&&$.isArray(e[0])){for(var r=new Array,o=0;o<e.length;o++){var i=e[o],n=N(i,t,a);r.push(n)}return r}return N(e,t,a)},this.transformExtent=function(e,t,a){var r=[e[0],e[1]],o=[e[2],e[3]],i=N(r,t,a),n=N(o,t,a);return[i[0],i[1],n[0],n[1]]},this.transDistance=function(e,t,a){return null},this.coordsConcat=function(e,t){t=t||",";var a=[];return e.forEach(function(e){a.push(e[0]),a.push(e[1])}),a.join(t)};var H=this;this.registProjTrans=function(e,t,a,r){ol.proj.addCoordinateTransforms(e,t,a,r)},this.registProj=function(e,t,a){ol.proj.addProjection(new ol.proj.Projection({code:e})),this.registProjTrans("EPSG:4326",e,t,a)};var R={84:"EPSG:4326",WGS84:"EPSG:4326",pgis:"EPSG:4326",tiandi:"EPSG:4326",osm:"EPSG:3857",gaode:"GCJ02:3857",tencent:"GCJ02:3857",google:"GCJ02:3857",bing:"GCJ02:3857",arcgis:"GCJ02:3857"};this.registProjAlias=function(e,t){R[t]=e},this._getCurrentProj=function(){return FInject.proj._currentProj};return function(){H.registProj("GCJ02:4326",H.wgs84ToGcj02Jw,H.gcj02JwToWgs84),H.registProj("GCJ02:3857",H.wgs84ToGcj02Mc,H.gcj02McToWgs84),H.registProj("SOUGOU:3857",H.wgs84ToSougouMc,H.sougouMcToWgs84),H.registProj("SOUGOU:4326",H.wgs84ToSougouJw,H.sougouJwToWgs84),H.registProj("BAIDU:3857",H.wgs84ToBaiduMc,H.baiduMcToWgs84),H.registProj("BAIDU:4326",H.wgs84ToBaiduJw,H.baiduJwToWgs84),H.registProj("EDS:3857",H.wgs84ToEdsMc,H.edsMcToWgs84),H.registProjTrans("GCJ02:3857","SOUGOU:3857",H.gcj02McToSougouMc,H.sougouMcToGcj02Mc),H.registProjTrans("GCJ02:3857","BAIDU:3857",H.gcj02McToBaiduMc,H.baiduMcToGcj02Mc),H.registProjTrans("SOUGOU:3857","BAIDU:3857",H.sougouMcToBaiduMc,H.baiduMcToSougouMc)}(),this},fc.map._UtilStyle=function(){var _clustStyleCache={},_styleConstructorDict={style:ol.style.Style,fill:ol.style.Fill,backgroundFill:ol.style.Fill,stroke:ol.style.Stroke,backgroundStroke:ol.style.Stroke,icon:ol.style.Icon,image:ol.style.Image,regularshape:ol.style.RegularShape,circle:ol.style.Circle,text:ol.style.Text},_namingStyle=new Object,_parseDict={fill:["fill:color:string"],shape:["shape-points:points:number","shape-radius:radius:number","shape-radius1:radius1:number","shape-radius2:radius2:number","shape-angle:angle:number","shape-rotation:rotation:number","shape-fill:color:string","shape-stroke-color:color:string","shape-stroke-cap:lineCap:string","shape-stroke-join:lineJoin:string","shape-stroke-dash:lineDash:array","shape-stroke-dashoffect:lineDashOffset:number","shape-stroke-width:width:number","shape-stroke-miterlimit:miterLimit:number"],icon:["icon-src:src:string","icon-anchor:anchor:array","icon-anchor-origin:anchorOrigin:string","icon-anchor-xunits:anchorXUnits:string","icon-anchor-yunits:anchorYUnits:string","icon-color:color:string","icon-offset:offset:string","icon-offset-origin:offsetOrigin:string","icon-opacity:opacity:number","icon-scale:scale:number","icon-rotation:rotation:number","icon-snaptopixel:snapToPixel:boolean","icon-size:size:array"],stroke:["stroke-color:color:string","stroke-cap:lineCap:string","stroke-join:lineJoin:string","stroke-dash:lineDash:array","stroke-dashoffect:lineDashOffset:number","stroke-width:width:number","stroke-miterlimit:miterLimit:number"],text:["text:text:string","text-font:font:string","text-offectX:offsetX:number","text-offectY:offsetY:number","text-scale:scale:number","text-rotation:rotation:number","text-align:textAlign:string","text-baseline:textBaseline:string","text-fill:color:string","text-bgfill:color:string","text-bgpadding:padding:array","text-stroke-color:color:string","text-stroke-cap:lineCap:string","text-stroke-join:lineJoin:string","text-stroke-dash:lineDash:array","text-stroke-dashoffect:lineDashOffset:number","text-stroke-miterlimit:miterLimit:number","text-stroke-width:width:number","text-bgstroke-color:color:string","text-bgstroke-cap:lineCap:string","text-bgstroke-join:lineJoin:string","text-bgstroke-dash:lineDash:array","text-bgstroke-dashoffect:lineDashOffset:number","text-bgstroke-miterlimit:miterLimit:number","text-bgstroke-width:width:number"]},_optionalFactory=function(e,t){return t&&e instanceof t?e:t?new t(e):e},_createStyle=function e(t,a){var r;if(a?r=t[a]:(a="style",r=t),"style"===a&&t instanceof Function)return t;if(!(r instanceof Object))return r;var o;if("[object Object]"===Object.prototype.toString.call(r)){o={};var i=_styleConstructorDict[a];if(i&&r instanceof i)return r;Object.getOwnPropertyNames(r).forEach(function(t,n,s){var l=_styleConstructorDict[t];if(i&&l&&l.prototype instanceof _styleConstructorDict[a])return console.assert(1===s.length,"Extra parameters for "+a),o=e(r,t),_optionalFactory(o,l);o[t]=e(r,t),"text"!==t&&"string"!=typeof o[t]&&(o[t]=_optionalFactory(o[t],_styleConstructorDict[t]))})}else o=r;return _optionalFactory(o,_styleConstructorDict[a])},_cluststyleCache={};this._parseCSSTag=function(){var e=this,t=$("#mapstyle");t&&t.length>=1&&t.each(function(t,a){var r=a.innerText.replace(/[\n]/gi,""),o=/\.(.+?)\}/g;r.match(o).forEach(function(t){var a=t.split("{"),r=a[0].replace(".","");r=r.trim();var o=a[1].replace("}","");o=o.replace(/\ +/g,""),o=o.replace(/[\r\n]/g,""),e._registNamingStyle(r,o)})})},this._parseStyleExpress=function(e){var t=new Object;if(e&&e.length>0){var a=e.split(":"),r=a[0].trim(),o=a[1].trim();t[r]=o}return t},this._parseStyleSetting=function(e){},this.parseTextStyle=function(e){var t;return $.isDefined(e.text)?$.isBoolean(e.text)&&e.text||$.isString(e.text)||$.isFunction(e.text):t=null,t},this._parseExpContent=function(e){var t,a,r={},o=e.split(";"),i={fill:{},stroke:{},icon:{},shape:{},text:{}},n=["fill","stroke","shape","icon","img","text"];o.forEach(function(e){var t=e.split(":"),r=t[0],o=t[1];if(o&&"base64,"===o.substr(0,7)&&(o="data:image/png;"+o),t.length>2)for(var s=2;s<t.length;)o=o+":"+t[s],s++;o&&(o=o.replace(/\'/g,""));for(var s=0;s<n.length;s++){var l=n[s];0==r.indexOf(l)&&(i[l][r]=o)}"symbol"==r&&(a=FInject.symbol.getSymbol(o))}),-1!=e.indexOf("text:{")&&(i.hasTextRender=!0);for(var s=0;s<n.length;s++){var l=n[s];$.isEmpty(i[l])||(r=this._parseExpTempCfg(l,i[l],r))}if(a&&(r.image=a),t=_createStyle(r),i.hasTextRender){var c=e.split("text:{"),p=c[1].split("};")[0];return function(e,a){var r;r="clustnum"==p?e.get("features").length+"":e.getClients()[p];var o=t.clone();return o.getText().setText(r),[o]}}return t},this._parseExpTempCfg=function(e,t,a){return"fill"==e?a.fill=this._parseSingleExpTemp(t,_parseDict.fill):"stroke"==e?a.stroke=this._parseSingleExpTemp(t,_parseDict.stroke):"shape"==e?(a.image={},t.hasOwnProperty("points")&&$.isNumber(t.points)&&parseInt(t.points)>=3?a.image.regularshape=this._parseShapeExpTemp(t,_parseDict.shape):a.image.circle=this._parseShapeExpTemp(t,_parseDict.shape)):"icon"==e?(a.image={},a.image.icon=this._parseSingleExpTemp(t,_parseDict.icon)):"text"==e&&(a.text=this._parseTextExpTemp(t,_parseDict.text)),a},this._parseSingleExpTemp=function(temp,dict){var result={};return dict.forEach(function(item){var sp=item.split(":"),key=sp[0],pro=sp[1],valueType=sp[2],proValue=temp[key];proValue&&("array"==valueType||"boolean"==valueType?proValue=eval(proValue):"number"==valueType&&(proValue=Number(proValue)),result[pro]=proValue)}),result},this._parseShapeExpTemp=function(temp,dict){var result={};return dict.forEach(function(item){var sp=item.split(":"),key=sp[0],pro=sp[1],valueType=sp[2],proValue=temp[key];proValue&&("array"==valueType||"boolean"==valueType?proValue=eval(proValue):"number"==valueType&&(proValue=Number(proValue)),0==key.indexOf("shape-fill")?result.fill={color:proValue}:0==key.indexOf("shape-stroke-")?(result.stroke||(result.stroke={}),result.stroke[pro]=proValue):result[pro]=proValue)}),result},this._parseTextExpTemp=function(temp,dict){var result={};return dict.forEach(function(item){var sp=item.split(":"),key=sp[0],pro=sp[1],valueType=sp[2],proValue=temp[key];proValue&&("array"==valueType||"boolean"==valueType?proValue=eval(proValue):"number"==valueType&&(proValue=Number(proValue)),0==key.indexOf("text-fill")?result.fill={color:proValue}:0==key.indexOf("text-bgfill")?result.backgroundFill={color:proValue}:0==key.indexOf("text-stroke-")?(result.stroke||(result.stroke={}),result.stroke[pro]=proValue):0==key.indexOf("text-bgstroke-")?(result.backgroundStroke||(result.backgroundStroke={}),result.backgroundStroke[pro]=proValue):result[pro]=proValue)}),result},this._registNamingStyle=function(e,t){var a,r;r=$.isString(t)?this._parseExpContent(t):t,a=_createStyle(r),_namingStyle[e]=a},this.createStyle=_createStyle,this._createStyleByLayerOptions=function(e){if($.isUndefined(e.style)){e.symbol||(e.symbol="default");var t=_UtilSymbol.getSymbol(e.symbol);return new ol.style.Style({image:t})}return e.style},this._calculateSingleStyleOffset=function(e){var t=[0,0],a=e.getImage();if(a){t=[-16,-1*a.getAnchor()[1]-20]}return t},this._calculateBubbleOffset=function(e){var t,a,r,o,i=this;if(t=[-16,-20],r=e.getStyle())a=r;else{var n=e.get("layer");n&&(o=n.getStyle())&&(a=o)}if(a)if(a instanceof ol.style.Style)t=i._calculateSingleStyleOffset(a);else if($.isArray(a))a.forEach(function(e){t=i._calculateSingleStyleOffset(e)});else if($.isFunction(a)){var a=a(e);a instanceof ol.style.Style?t=i._calculateSingleStyleOffset(a):$.isArray(a)&&a.forEach(function(e){t=i._calculateSingleStyleOffset(e)})}return t},this.highlightFeatureBorder=function(){},this.blowupFeature=function(){},this._createPolygonStyle=function(e,t,a,r){return t&&(e[3]=t),[new ol.style.Style({stroke:new ol.style.Stroke({color:r||"#045cd6",width:1}),text:new ol.style.Text({text:a,textBaseline:"center",scale:1,fill:new ol.style.Fill({color:"#ffff00"})})}),new ol.style.Style({stroke:new ol.style.Stroke({color:r,width:8})})]},this._getStyleByName=function(e){return _namingStyle.hasOwnProperty(e)?_namingStyle[e]:(FUtil.error("找不到名称为【"+e+"】的命名样式"),_namingStyle.default)},this._init=function(){this._registNamingStyle("defaultClust","shape-radius:20;shape-fill:rgba(110,204,57,0.7);shape-stroke-color:rgba(181,226,140,0.6);shape-stroke-width:10;text:{clustnum};")},this.createOriginStyle=function(e){var t;if($.isString(e))if(-1!=e.indexOf(":"))t=FInject.style._parseExpContent(e);else{var a=e.trim();t=FInject.style._getStyleByName(a)}else if($.isFunction(e))t=function(t,a){var r,o=e(t);if(-1!=o.indexOf(":"))r=FInject.style._parseExpContent(o);else{var i=o.trim();r=FInject.style._getStyleByName(i)}return r};else if($.isArray(e)){t=new Array;for(var r=e,o=0;o<r.length;o++){var i=r[o];if($.isString(i))if(-1!=i.indexOf(":"))t.push(FInject.style._parseExpContent(i));else{var a=i.trim();t.push(FInject.style._getStyleByName(a))}}}return t}},fc.map._UtilSymbol=function(){var e=function(e,t){$.isEmpty(e)||e.forEach(t)},t=new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.9,src:FDefault.DEFAULT_MARK_SRC}),a={default:{default:t}},r={sourcePath:"assets/img/symbols",size:[24,24],offset:[0,0],position:"center",anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,suuffiex:"png"},o=function(t,o,i){o||(o="default"),e(t,function(e){var t,n=void 0;if($.isString(e)){var s=i||r.suuffiex;t=e,n=$.extend({src:r.sourcePath+"/"+e+"."+s},r),e=new ol.style.Icon(n)}else{t=e.code;var s=e.suuffiex||i||r.suuffiex,l=e.sourcePath||r.sourcePath,c=e.src||l+"/"+t+"."+s,p=e;n=$.extend({src:c},r,p),e=new ol.style.Icon(n)}a[o]||(a[o]=new Object),a[o][t]=e})},i=function(e){var t=$.Deferred();return a[e.code]=new Object,$.isString(e.file)?$.ajax(e.file).then(function(a){for(var r=a.split("\n"),i=new Array,n=e.file.slice(0,e.file.lastIndexOf("/")+1),s=0;s<r.length;s++){var l=r[s].split("="),c={};c.code=l[0];var p=l[1].split(",");c.src=n+p[0],c.name=p[1],i.push(c)}o(i,e.code),t.resolve(!0)}):(o(e.symbols,e.code,e.suuffiex),t.resolve(!0)),t.promise()};return{getDefaultSymbol:function(){return t},registSymbolDefaultSetting:function(e){r=$.extend(r,e)},registSymbolLib:function(e){e&&($.isArray(e)?i(e[0]).then(function(){i(e[1])}).then(function(){i(e[2])}).then(function(){i(e[3])}):i(e))},registSymbols:o,getSymbol:function(e,r){if($.isEmpty(r)&&(r="default"),-1!=e.indexOf(":")){var o=e.split(":");r=o[0],e=o[1]}return $.isEmpty(e)||null==a[r][e]?t:a[r][e]},getSymbolLib:function(e){return $.isEmpty(e)&&(e="default"),a[e]}}},fc.map._Util=function(){var e={proj:new fc.map._UtilProj,view:new fc.map._UtilView,layer:new fc.map._UtilLayer,source:new fc.map._UtilSource,feature:new fc.map._UtilFeature,style:new fc.map._UtilStyle,symbol:new fc.map._UtilSymbol,effect:new fc.map._UtilEffect,event:new fc.map._UtilEvent,control:new fc.map._UtilControl,interaction:new fc.map._UtilInteraction,draw:new fc.map._UtilDraw,data:new fc.map._UtilData,default:new fc.map._UtilDefault,geo:new fc.map._UtilGeo},t=FConfig.FMAP_UTIL_APIS,a=FConfig.FMAP_UTIL_PRIVATE;for(var r in e)if(t[r])for(var o=0;o<t[r].length;o++){var i=t[r][o];this[i]=e[r][i]}for(var n in a)if(a[n])for(var o=0;o<a[n].length;o++){var i=a[n][o];this[i]=e[n][i]}return this.getInject=function(){return e},this._dispatcher=new ol.Object,this.log=function(e){e="[FinestMap-Log]："+e,console.log(e)},this.warn=function(e){e="[FinestMap-Warn]："+e,console.warn(e)},this.error=function(e,t){e="[FinestMap-Error]："+e,t&&(e=e.format(t)),console.error(e)},this.debug=function(e){e="[FinestMap-Debug]："+e,console.debug(e);var t=new Event("fmap.debug.message");t.message=e,this._dispatcher.dispatchEvent(t)},this._init=function(){e.style._init()},this.on=function(e,t){this._dispatcher.on(e,t)},this},fc.map._UtilView=function(){return this},fc.map._UtilView.prototype.createView=function(e){return new ol.View({projection:e.projection,center:e.center,zoom:e.zoom,maxZoom:e.maxZoom,minZoom:e.minZoom,extent:e.extent,maxResolution:e.maxResolution})},fc.map._UtilView.prototype.validateCenter=function(e){return $.isDefined(e)&&("boolean"==typeof e.autodiscover||$.isNumber(e.lat)&&$.isNumber(e.lon)||$.isArray(e.coord)&&2===e.coord.length&&$.isNumber(e.coord[0])&&$.isNumber(e.coord[1])||$.isArray(e.bounds)&&4===e.bounds.length&&$.isNumber(e.bounds[0])&&$.isNumber(e.bounds[1])&&$.isNumber(e.bounds[1])&&$.isNumber(e.bounds[2]))};for(var _resolutions=[],i=0;i<=18;i++)_resolutions[i]=Math.pow(2,18-i);var _resolutions3857=[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],_resolutions4326=[];_resolutions4326[0]=1.40625;for(var j=1;j<=19;j++)_resolutions4326[j]=_resolutions4326[j-1]/2;var _resolutionsPgis=[2,1,.5,.25,.125,.0625,.03125,.015625,.0078125,.00390625,.001953125,976563e-9,488281e-9,244141e-9,12207e-8,610352e-10,305176e-10,152588e-10,76294e-10,38147e-10];fc.map._UtilSource=function(){return this._simpleTileFunction=function(e,t,a,r,o){var i=r.replace("{x}",t.toString()).replace("{y}",a.toString()).replace("{z}",e.toString());return o&&(i=i.replace("{city}",o)),i},this},fc.map._UtilSource.prototype._checkStand=function(e){e||(e={standard:FDefault.DEFAULT_TILE_STANDARD}),e.standard=e.standard||FDefault.DEFAULT_TILE_STANDARD;var t;switch(e.standard){case"none":break;case"pb":var t=FInject.source.specDict.pb[e.type];break;case"fc":var t=FInject.source.specDict.pb[e.type];t.tileUrlFunction=FInject.source.specDict.fc.tileUrlFunction;break;case"ga":case"fd":break;default:var t=FInject.source.specDict[e.standard]}return t&&(e.projection=t.projection,e.realProj=t.realProj,e.origin=t.origin,e.resolutions=t.resolutions,e.tileUrlFunction=t.tileUrlFunction),e},fc.map._UtilSource.prototype.BaseMap=function(e){e=this._checkStand(e);var t={projection:e.projection,realProj:e.realProj||"EPSG:3857",type:e.type,name:e.name,url:e.url,urls:e.urls,urltpls:e.urltpls,zoomDeta:e.zoomDeta?e.zoomDeta:0,tileUrlFunction:e.tileUrlFunction,tileSize:e.tileSize,resolutions:e.resolutions,origin:e.origin,origins:e.origins,extent:e.extent,center:e.center,city:e.city,crossOrigin:e.crossOrigin,filter:e.filter,icon:e.icon,standard:e.standard,debug:e.debug,_isYX:!1};return!t.urltpls&&$.isArray(t.url)&&(t.urltpls=t.url),t.resolution=t.resolution||t.resolutions[Math.floor(t.resolutions.length/2)],t},fc.map._UtilSource.prototype.FPM=function(e){return e||(e={}),e.url=e.url?e.url:FDefault.DEFAULT_MAPURL_PGIS,e.type="pgis",e.projection="EPSG:4326",e.realProj="EPSG:4326",e.isStandardProj=!0,e.tileSize=256,e.name=e.name?e.name:"PGIS地图",e.resolutions=e.resolutions?e.resolutions=e.resolutions:[2,1,.5,.25,.125,.0625,.03125,.015625,.0078125,.00390625,.001953125,976563e-9,488281e-9,244141e-9,12207e-8,610352e-10,305176e-10],e.origin=e.origin?e.origin:[-47e-5,90.000245],e.extent=e.extent?e.extent:[108.82378223782051,18.700630207797996,122.65531398905146,27.306001792269047],e.center=e.center?e.center:[113.28171243348487,23.103682176413717],e.resolution=e.resolutions[10],e.icon=e.icon||"vendor/FinestClient/img/FPM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FSM=function(e){return e||(e={}),e.type="sougou",e.tileSize=e.tileSize||256,e.name=e.name||"搜狗地图",e.skin=e.skin||"sl",e.skin&&$.isArray(e.skin)?(e.url=new Array,e.skin.forEach(function(t){var a=FDefault.DEFAULT_MAPURL_SOUGOU[t];$.isArray(a)?e.url=e.url.concat(e.url,a):e.url.push(FDefault.DEFAULT_MAPURL_SOUGOU[t])})):e.url=e.url||FDefault.DEFAULT_MAPURL_SOUGOU[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FSM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FBM=function(e){return e||(e={}),e.type="baidu",e.tileSize=e.tileSize||256,e.name=e.name||"百度地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_BAIDU[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FBM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FGM=function(e){return e||(e={}),e.type="gaode",e.tileSize=e.tileSize||256,e.name=e.name||"高德地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_GAODE[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FGM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FGGM=function(e){return e||(e={}),e.type="google",e.tileSize=e.tileSize||256,e.name=e.name||"谷歌地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_GOOGLE[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FGGM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FTCM=function(e){return e||(e={}),e.type="tencent",e.tileSize=e.tileSize||256,e.name=e.name||"腾讯地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_TENCENT[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FTCM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FTDM=function(e){return e||(e={}),e.type="tiandi",e.tileSize=e.tileSize||256,e.name=e.name||"天地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_TIANDI[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FTDM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FAGM=function(e){return e||(e={}),e.type="arcgis",e.tileSize=e.tileSize||256,e.name=e.name||"Arcgis地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_ARCGIS[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FTDM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FBYM=function(e){return e||(e={}),e.type="bing",e.tileSize=e.tileSize||256,e.name=e.name||"必应地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_BING[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FBYM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FOSM=function(e){return e||(e={}),e.type="osm",e.tileSize=e.tileSize||256,e.name=e.name||"维基地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_OSM[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FOSM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.FESM=function(e){return e||(e={}),e.type="eds",e.tileSize=e.tileSize||256,e.name=e.name||"E都市地图",e.skin=e.skin||"sl",e.url=e.url||FDefault.DEFAULT_MAPURL_EDS[e.skin],e.icon=e.icon||"vendor/FinestClient/img/FESM.png",this.BaseMap(e)},fc.map._UtilSource.prototype.specDict={},fc.map._UtilSource.prototype.specDict.pb={standard:"pb",sougou:{projection:"SOUGOU:3857",realProj:"EPSG:3857",origin:[0,0],resolutions:[128e3,64e3,32e3,16e3,8000.000000000001,4000.0000000000005,2000.0000000000002,1000.0000000000001,500.00000000000006,250.00000000000003,125.00000000000001,62.50000000000001,31.250000000000004,15.625,7.812500000000001,3.9062500000000004,1.9531250000000002,.9765625000000001,.48828125000000006],tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[1],i=e[2],n=e[0],s=728-n;710==s&&(s=792);var l=s.toString()+"/",c=Math.floor(Math.abs(o/200));o<0&&(l+="M"),l+=c.toString(),l+="/";var p=Math.floor(Math.abs(i/200));return i<0&&(l+="M"),l+=p.toString(),l+="/",o<0&&(l+="M"),l+=Math.abs(o).toString(),l+="_",i<0&&(l+="M"),l+=Math.abs(i).toString(),r=r.replace("{digit}",(o+i&2).toString()),r=r.replace("{tile}",l)}},baidu:{projection:"BAIDU:3857",realProj:"EPSG:3857",origin:[0,0],resolutions:_resolutions,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url;if(!e)return"";var o=e[0],i=e[1],n=e[2];return i<0&&(i="M"+-i),n<0&&(n="M"+-n),r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},gaode:{projection:"GCJ02:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0],i=e[1],n=-1-e[2];return r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},tencent:{projection:"GCJ02:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0],i=e[1],n=-e[2]-1;return n=Math.floor(Math.pow(2,o))-1-n,r=r.replace("{z}",(o-1).toString()).replace("{x}",i.toString()).replace("{y}",n.toString())}},google:{projection:"GCJ02:3857",realProj:"EPSG:3857",_isYX:!0,origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0]-(this._isYX?1:0),i=e[1],n=-1-e[2];return r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},tiandi:{projection:"EPSG:4326",realProj:"EPSG:4326",origin:[-180,90],resolutions:_resolutions4326,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0],i=e[1],n=-1-e[2];return r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},bing:{projection:"GCJ02:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){for(var r=this.urltpl||this.url,o=e[0],i=e[1],n=-e[2]-1,s="",l=0;l<o;l++)s=((1&i)+2*(1&n)).toString()+s,i>>=1,n>>=1;return r.replace("{tile}",s)}},arcgis:{projection:"GCJ02:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0],i=e[1],n=-1-e[2];return r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},osm:{projection:"EPSG:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],resolutions:_resolutions3857,tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=e[0],i=e[1],n=-1-e[2];return r=r.replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",o.toString())}},eds:{projection:"GCJ02:3857",realProj:"EPSG:3857",origin:[-20037508.3427892,20037508.3430388],
resolutions:[641200266.9690855,320600133.4845428,160300066.7422714,80150033.3711357,40075016.68556785,20037508.34278392,10018754.17139196,5009377.085695981,2504688.54284799,1252344.271423995,626172.1357119976,313086.0678559988,156543.0339279994,78271.51696399967,39135.75848199984,19567.87924099992,9783.93962049996,4891.96981024998,2445.98490512499,1222.99245256249],tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=this.city,i=e[0],n=e[1],s=-1-e[2];return n=n,n=n<0?"M"+Math.abs(n):n,s=s<0?"M"+Math.abs(s):s,(n<0||s<0)&&(n=s,s=n),r.replace("{z}",(19-i).toString()).replace("{x}",n.toString()).replace("{y}",s.toString()).replace("{city}",o)}}},fc.map._UtilSource.prototype.specDict.fc={standard:"fc",tileUrlFunction:function(e,t,a){var r=this.urltpl||this.url,o=this.city;return FInject.source._simpleTileFunction(e[0],e[1],e[2],r,o)}},fc.map._UtilSource.prototype.specDict.Spec_BDMapV01={projection:"BAIDU:3857",realProj:"EPSG:3857",type:"baidu",name:"百度地图",zoomDeta:0,standard:"Spec_BDMapV01",resolutions:[262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25],origin:[0,32768e3]},fc.map._UtilSource.prototype.specDict.Spec_BDMapV02={projection:"BAIDU:3857",realProj:"EPSG:3857",type:"baidu",name:"百度地图",zoomDeta:0,standard:"Spec_BDMapV02",resolutions:[262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25],origin:[-33554432,33554432.0000001]},fc.map._UtilSource.prototype.specDict.Spec_SGMapV01={projection:"SOUGOU:3857",realProj:"EPSG:3857",type:"sougou",name:"搜狗地图",zoomDeta:0,standard:"Spec_SGMapV01",resolutions:[128e3,64e3,32e3,16e3,8e3,4e3,2e3,1e3,500,250,125,62.5,31.25,15.625,7.8125,3.90625,1.953125,.9765625,.48828125,.244140625,.1220703125],origin:[0,32768e3]},fc.map._UtilSource.prototype.specDict.Spec_TDTMapV01={projection:"EPSG:4326",realProj:"EPSG:4326",type:"tiandi",name:"天地图",zoomDeta:0,standard:"Spec_TDTMapV01",resolutions:[1.4062500000000002,.7031250000000001,.35156250000000006,.17578125000000003,.08789062500000001,.04394531250000001,.021972656250000003,.010986328125000002,.005493164062500001,.0027465820312500004,.0013732910156250002,.0006866455078125001,.00034332275390625005,.00017166137695312503,8583068847656251e-20,49153442382813e-18,214576721191406e-19,107288360595703e-19,536441802978516e-20,268220901485e-17,1341104507425e-18],origin:[-180,90]},fc.map._UtilSource.prototype.specDict.Spec_TDTMapV02={projection:"EPSG:3857",realProj:"EPSG:3857",type:"tiandi",name:"天地图",zoomDeta:0,standard:"Spec_TDTMapV02",resolutions:[156543.03392804,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],origin:[-20037508.3427892,20037508.3430388]},fc.map._UtilSource.prototype.specDict.Spec_GGMapV01={projection:"GCJ02:3857",realProj:"EPSG:3857",type:"google",name:"谷歌地图",zoomDeta:0,standard:"Spec_GGMapV01",resolutions:[156543.03392804,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],origin:[-20037508.3427892,20037508.3430388]},fc.map._UtilSource.prototype.specDict.Spec_GDMapV01={projection:"GCJ02:3857",realProj:"EPSG:3857",type:"gaode",name:"高德地图",zoomDeta:0,standard:"Spec_GDMapV01",resolutions:[156543.03392804,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],origin:[-20037508.3427892,20037508.3430388]},fc.map._UtilSource.prototype.specDict.Spec_ArcgisonlineMapV01={projection:"GCJ02:3857",realProj:"EPSG:3857",type:"arcgis",name:"arcgis地图",zoomDeta:0,standard:"Spec_ArcgisonlineMapV01",resolutions:[156543.03392804,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],origin:[-20037508.3427892,20037508.3430388]},fc.map._UtilSource.prototype.specDict.Spec_PGISMapV01={},fc.map._UtilSource.prototype.specDict.ga={},fc.map.FMap=function(e){var t=$.Deferred();return this._map=t,this._cache=new Object,this._mapType="pgis",this._olmap=void 0,this._center,this._bgOptions,this._bgOptionOld=void 0,this._bgOlLayerGroup,this._controlsOpts,this._target=void 0,this._scences=void 0,this._layers=void 0,this._zoom=0,this._minZoom=0,this._maxZoom=21,this._zoomAlias={"国":4,"省":5,"市":8,"街":14},this._selectedFeature=null,this._selectedFeatures=[],this._selectedFeaturePinOverlay=null,this._selectedFeatureBubbleOverlay=null,this._selectedFeatureBubbleContentTpl={skin:"",tpl:"",isInnerScript:!1},this._isContinue=!1,this._contextMenuable=!1,this._contextMenu=null,this._featureDragSelectInteraction,this._featureDragModifyInteraction,this._snap,this._syncViewListerners={},this.api,this._getMap=function(){return t.promise()},this._applyOptions(e),this._init(e),this._buildMap(),this._buildControls(),this._registInteractions(),this._registEventListerners(),this._registAPI(),this.setBgLayer(this._bgOptions),this.setScences(this._scences),FInject.style._parseCSSTag(),this.setBusinessLayer(this._layers),this.addControl(this._controlsOpts),this},fc.map.FMap.prototype._applyOptions=function(e){if(null!==e.center&&void 0!==e.center||(e.center=FDefault.center),$.isArray(e.center)){var t={};t.lon=e.center[0],t.lat=e.center[1],t.zoom=e.center[2],this._center=t}else this._center=e.center;return this._target=e.element,this._bgOptions=e.bglayer,this._layers=e.layers,this._scences=e.scences,this._controlsOpts=e.controls,e},fc.map.FMap.prototype._init=function(){var e=this;e._getMap().then(function(t){e._olmap=t})},fc.map.FMap.prototype._buildMap=function(){var e=this,t=FConfig.getGlobalMapConfig(),a=ol.control.defaults(t.controls),r=ol.interaction.defaults(t.interactions),o=FInject.view.createView(t.view),i=FInject.layer.createMapAllLayerGroups(e),n=new ol.Map({target:e._target,controls:a,layers:i,interactions:r,renderer:t.renderer,view:o,loadTilesWhileAnimating:t.loadTilesWhileAnimating,loadTilesWhileInteracting:t.loadTilesWhileInteracting});e._olmap=n,$("#"+e._target).addClass("fc-map"),FUtil._dispatcher.dispatchEvent("fmap.map.created"),setTimeout(function(){e.updateSize()},100),$.isDefined(e._center)||(e._center=t.center,o.setCenter([e._center.lon,e._center.lat]),o.setZoom(e._center.zoom)),e._selectedFeaturePinOverlay=FInject.interaction.createSelectedPinOverlay(),e._selectedFeatureBubbleOverlay=FInject.interaction.createSelectedBubbleOverlay(),e.dispatchFEvent("fmap.map.buildcompleted",{map:e._olmap}),e._map.resolve(n)},fc.map.FMap.prototype._buildControls=function(){},fc.map.FMap.prototype._registInteractions=function(){var e=this,t=new ContextMenu({width:190,default_items:!0,items:FDefault.DEFAULT_CONTEXTMENU_ITEM});this._olmap.addControl(t),this._contextMenu=t,t.on("open",function(t){var a=e._olmap.forEachFeatureAtPixel(t.pixel,function(e,t){return{feature:e,layer:t}});a&&a.layer||(e._contextMenu.clear(),e._contextMenu.extend(e._contextMenu.getDefaultItems()))}),setTimeout(function(){e._defaultSelectInteraction=new fc.map.FDefaultSelectInteraction(e),e._defaultModifyInteraction=new fc.map.FDefaultModifyInteraction(e),e._olmap.addInteraction(e._defaultSelectInteraction),e._olmap.addInteraction(e._defaultModifyInteraction)},100)},fc.map.FMap.prototype._registEventListerners=function(){var e=this;e._olmap.on("moveend",function(t){e.dispatchFEvent("fmap.map.moveend",{center:e.getCenter(),zoom:e.getZoom(),extent:e.getExtent()})}),e._olmap.on("fmap.map.change:bglayer",function(){var t=(new Date).getTime(),a=(new Date).getTime();e._olmap.getView().on("change:resolution",function(r){t=(new Date).getTime(),setTimeout(function(){(a=(new Date).getTime())-t>=100&&e.dispatchFEvent("fmap.view.change:zoom",{newValue:e.getZoom()})},100)});var r=(new Date).getTime(),o=(new Date).getTime();e._olmap.getView().on("change:center",function(t){r=(new Date).getTime(),setTimeout(function(){if((o=(new Date).getTime())-r>=100){var a=FUtil.transform(t.oldValue,e.getBgProjection(),"EPSG:4326"),i=FUtil.transform(e._olmap.getView().getCenter(),e.getBgProjection(),"EPSG:4326");e.dispatchFEvent("fmap.view.change:center",{oldValue:a,newValue:i})}},100)})}),e._olmap.on("click",function(t){var a=FUtil.transform(t.coordinate,e.getBgProjection(),"EPSG:4326");e.dispatchFEvent("fmap.map.click",{coordinate:a});var r=e._olmap.forEachFeatureAtPixel(t.pixel,function(e,t){return e});if(!r||e._isDrawingSelectionBound||e.isDrawing()||e._isMeasureing)e._lastClickHeatLayer&&(e.dispatchFEvent("_fmap.heatfeature.unselect",{feature:r,layer:s}),e._lastClickHeatLayer=!1);else{var o,i=r.get("features"),n=i&&i.length>0;if(o=n?i[0].get("layer"):r.get("layer")){var s=o.get("name");e.dispatchFEvent("fmap.feature.click",{feature:r,layer:s}),o instanceof ol.layer.Heatmap&&(e.dispatchFEvent("_fmap.heatfeature.select",{feature:r,layer:s}),e._lastClickHeatLayer=!0)}}}),e._olmap.on("dblclick",function(t){var a=FUtil.transform(t.coordinate,e.getBgProjection(),"EPSG:4326");e.dispatchFEvent("fmap.map.dbclick",{coordinate:a})}),e._olmap.on("singleclick",function(t){var a=FUtil.transform(t.coordinate,e.getBgProjection(),"EPSG:4326");e.dispatchFEvent("fmap.map.singleclick",{coordinate:a})}),$(e._olmap.getViewport()).on("contextmenu",function(t){t.preventDefault();var a=[t.clientX,t.clientY],r=e._olmap.forEachFeatureAtPixel(a,function(e){return e});if(r){var o=r.get("layer").get("name");e.dispatchFEvent("fmap.feature.rtclick",{feature:r,layer:o})}}),e._contextMenu.on("beforeopen",function(e){}),e._olmap.on("pointermove",function(t){var a=FUtil.transform(t.coordinate,e.getBgProjection(),"EPSG:4326");e.dispatchFEvent("fmap.map.mousemove",{coordinate:a})}),e._olmap.getViewport().style.cursor="default",e._olmap.on("pointerdown",function(t){e._olmap.getViewport().style.cursor="-webkit-grab"}),e._olmap.on("pointerup",function(t){e._olmap.getViewport().style.cursor="default"}),e.on("fmap.api.registed",function(){FInject.draw.initPlot(e)}),e.on("fmap.bubble.notifyclose",function(){e._olmap.removeOverlay(e._selectedFeaturePinOverlay)}),e.on("fmap.map.buildcompleted",function(e,t){}),e._getMap().then(function(t){e.on(FConst.EVENT_FEATURE_SELECTED,function(t){var a=t.feature;if(a&&a.get("isPlot"))e.dispatchFEvent("fmap.plot.select",{feature:a});else if(a){var r=a.getLayer().get("editable"),o=a.get("editable");o||r?(e._defaultModifyInteraction.setActive(!0),e._selectedFeaturePinOverlay&&e._olmap.removeOverlay(e._selectedFeaturePinOverlay)):e._defaultModifyInteraction.setActive(!1)}}),e.on(FConst.EVENT_PLOT_SELECTED,function(e){var t,a,r=e.plot;r&&(t=r.get("layer").get("editable"),a=r.get("editable")),(a||t)&&$olUtil.plot.activateEdit(r)}),e.on("_fmap.plot.editend",function(e){for(var a=new ol.events.Event("fmap.plot.editend"),r=e.plot,o=new Array,i=r.getGeometry().points,n=$scope.bgLayer.projection,s=0;s<i.length;s++)o.push(ol.proj.transform(i[s],n,"EPSG:4326"));r.set("points",o),r.set("originPoints",i),r.set("_status","direty"),a.plot=r,t.dispatchEvent(a)}),setTimeout(function(){e._defaultModifyInteraction.on("modifystart",function(t){e._cache.modifyFeatureCoord=t.features.item(0).getWgs84Coord(),e.dispatchFEvent("fmap.feature.dragstart",{oldCoordinate:e._cache.modifyFeatureCoord})}),e._defaultModifyInteraction.on("modifyend",function(t){var a=e._cache.modifyFeatureCoord,r=t.features.item(0).getGeometry().getCoordinates(),o=ol.proj.transform(r,e._olmap.get("bgProjection"),"EPSG:4326");t.features.item(0).cacheWgs84(o.concat()),e.dispatchFEvent("fmap.feature.dragend",{oldCoordinate:a,newCoordinate:o})})},1e3)}),e.on(FConst.EVENT_DESTROY,function(){})},fc.map.FMap.prototype._registAPI=function(){var e=this,t=function(){return Array.prototype.concat.apply([],arguments)}(new Array,FConfig.FMAP_INST_APIS.FMAP_MAP_APIS,FConfig.FMAP_INST_APIS.FMAP_VIEW_APIS,FConfig.FMAP_INST_APIS.FMAP_LAYER_APIS,FConfig.FMAP_INST_APIS.FMAP_MARK_APIS,FConfig.FMAP_INST_APIS.FMAP_EVENT_APIS,FConfig.FMAP_INST_APIS.FMAP_DATA_APIS,FConfig.FMAP_INST_APIS.FMAP_CONTROL_APIS,FConfig.FMAP_INST_APIS.FMAP_INTERACTION_APIS);return $.isDefined(e.api)||(e.api={}),t.forEach(function(t){e.api[t]=e[t]}),e.api.finshed=!0,FInject.draw.initPlot(e),e.api},fc.map.FMap.prototype.setBgLayer=function(e){var t=this;null!=e&&void 0!=e||(e=FInject.layer.createDefaultBgSource()),t._bgOptions=e;var a=t._createBgLayer(e);$.when(a).done(function(a){a.projChanged?t._handleMapAfterChangeProj(a.sourceProj,a.targetProj,a.orginCenter):setTimeout(function(){},1e3),t.dispatchFEvent("fmap.map.change:bglayer",{newBg:e,oldBg:a.oldBg})}),t._mapType=e.type,t._bgProjection=e.projection,t._olmap.set("bgProjection",t._bgProjection),FInject.proj._currentProj=e.projection},fc.map.FMap.prototype.setBusinessLayer=function(e){var t=this,a=t._getBusinessLayerGroup();if(e)if($.isArray(e));else for(var r in e){var o,i=e[r];o="Dynamic"==i.type?new fc.map.FDynamicLayer(i):new fc.map.FLayer(i),a.getLayers().push(o._olLayer),t._layers[r]=o,FUtil._dispatcher.dispatchEvent("fmap.layer.created",{layer:r}),o._registLayerEventHandler(t)}},fc.map.FMap.prototype._setMap=function(e){},fc.map.FMap.prototype._createBgLayer=function(e){var t=this,a=$.Deferred(),r=t._olmap;e.zoomDeta=e.zoomDeta?e.zoomDeta:0;var o=(t._center.maxZoom?t._center.maxZoom:21)-e.zoomDeta,i=(t._center.minZoom?t._center.minZoom:0)-e.zoomDeta;o=Math.min(o,e.resolutions.length-1),this._minZoom=i,this._maxZoom=o,t._mapType=e.type;for(var n=FInject.layer.createBackgroundLayer(e,fc.map._Util.prototype._w),s=0;s<n.length;s++)n[s].set("name",e.name+s);var l;if(t._bgLayerOptionOld){var c=r.getView().getCenter(),p=r.getView().getZoom()+this._minZoom,u=e.city&&e.city!=t._bgLayerOptionOld.city;if(r.getView().getProjection().getCode()!=e.projection||t._bgLayerOptionOld.resolutions!=e.resolutions||u){i=i<0?0:i;var f=FInject.view.createView({projection:e.projection,maxResolution:e.resolutions[i],maxZoom:o-i});r.setView(f),t.dispatchFEvent("fmap.map.change:view"),t.dispatchFEvent("fmap.map.change:projection")}var d=r.getLayers();l=d.item(0),l.setLayers(new ol.Collection(n));var m=t._bgLayerOptionOld.projection,g=e.projection,y=p-this._minZoom;r.getView().setZoom(y),a.resolve({projChanged:!0,sourceProj:m,targetProj:g,orginCenter:c,oldBg:t._bgLayerOptionOld,newBg:e})}else{var g=e.projection;i=i<0?0:i;var f=FInject.view.createView({projection:e.realProj,maxResolution:e.resolutions[i],maxZoom:o-i});r.setView(f),t.dispatchFEvent("fmap.map.change:view");for(var s=0;s<n.length;s++){var d=r.getLayers();l=d.item(0),l.setLayers(new ol.Collection(n))}var h=ol.proj.transform([t._center.lon,t._center.lat],"EPSG:4326",g);r.getView().setCenter(h);var y=t._center.zoom-i;r.getView().setZoom(y),a.resolve({projChanged:!1})}return t._bgOlLayerGroup=l,t._bgLayerOptionOld=e,t._olmap.set("bgProjection",e.projection),a.promise()},fc.map.FMap.prototype._handleMapBuilded=function(e){this._olmap=e,this._defaultMeasureInteraction=new FDefaultMeasureInteraction(this,null),this._defaultMeasureInteraction.setActive(!1),this._olmap.addInteraction(this._defaultMeasureInteraction)},fc.map.FMap.prototype._handleMapClick=function(){},fc.map.FMap.prototype._handleMapZoom=function(){},fc.map.FMap.prototype._handleMapBgDrag=function(){},fc.map.FMap.prototype._handleMapAfterChangeProj=function(e,t,a){var r=this,o=ol.proj.transform(a,e,t);if(this._olmap.getView().setCenter(o),this._layers)for(var i in this._layers){var n=this._layers[i],s=this.getLayerByName(n.name);if("Clust"==n.type||"Clust"==s._currentType){var l=s.getSource().getSource().getFeatures();l.forEach(function(a){FInject.feature.transFeature(a,e,t)})}else if("HeatTile"==n.type){for(var c,p=r.getZoom(),u=_resolutionsPgis[p],f=n._olLayer.get("_currentHeatRIndex"),d=n._olLayer.get("_heatresolutions"),m=!1,g=0;g<d.length;g++){var y=d[g];if(u*n.ratio<=y){c=g,m=!0,c!=f&&r.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:c,layer:n});break}}m||(c=d.length-1,r.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:c,layer:n}))}else{var l=s.getSource().getFeatures();l&&l.forEach(function(a){FInject.feature.transFeature(a,e,t)})}}else{var h=this.getLayerByName("default"),l=h.getSource().getFeatures();l&&l.forEach(function(a){FInject.feature.transFeature(a,e,t)})}var v,A=r._olmap.getLayers(),F=!1;for(j=0;j<A.getLength();j++)if("measureLayer"==A.item(j).get("name")){F=!0,v=A.item(j);break}if(F){var l=v.getSource().getFeatures();l&&l.forEach(function(a){FInject.feature.transFeature(a,e,t)})}r.deactivateMeasure(),r.deactivateDraw();var b=r._olmap.getOverlays();b&&b.forEach(function(a){a.setPosition(FInject.proj.transform(a.getPosition(),e,t))})},fc.map.FMap.prototype.closeBubble=function(e){},fc.map.FMap.prototype.closeSingleBubble=function(e){var t=this;t._selectedFeatureBubbleOverlay&&t._removeSingleBB()},fc.map.FMap.prototype.renderBubble=function(e,t){var a=this;if($.isEmpty(t)&&a._selectedFeatureBubbleOverlay){FTplScope.singleBB={data:e,scopeId:$.uuid().substr(12),mapId:a._target};var r,o=template.compile(a._selectedFeatureBubbleContentTpl.tpl)(FTplScope.singleBB),i=-1!=a._selectedFeatureBubbleContentTpl.skin.indexOf("default-bubble-head");if(i){var n="";a._selectedFeatureBubbleContentTpl.title&&(n=template.compile(a._selectedFeatureBubbleContentTpl.title)(e)),r=template.compile($.getTemplateCache("defaultBBHead"))({mapId:a._target,bubbleTitle:n}),o=r+o}if(a._selectedFeatureBubbleContentTpl.bbproxy){a._clearSingleBB();var s=a._selectedFeatureBubbleContentTpl.bbproxy;$.isEmpty(r)||$(a._selectedFeatureBubbleOverlay.getElement()).append(r),a._selectedFeatureBubbleOverlay.getElement().appendChild(s.getElement())}else $(a._selectedFeatureBubbleOverlay.getElement()).html(o);i?$(".fc-map-single-bubble div").eq(1).addClass("bubble-content"):$(".fc-map-single-bubble div").eq(0).addClass("bubble-content"),a._selectedFeatureBubbleOverlay.getElement().className="fc-map-single-bubble "+a._selectedFeatureBubbleContentTpl.skin}},fc.map.FMap.prototype.setFeatureBuffer=function(e,t){var a=this,r=e;if($.isString(e)&&(r=this.getFeatureById(e)),r){var o=100;if(o=$.isNumber(t)?t:t.radius,$.isNumber(o)){o=Math.max(1,Math.min(o,1e5));var i=a._bufferLGP.getLayers().item(0),n=(new ol.format.GeoJSON).writeFeatureObject(r);if("Polygon"===n.geometry.type){n.geometry.coordinates[0]=FUtil.transform(n.geometry.coordinates[0],"SOUGOU:3857","EPSG:4326");var s=n.geometry.coordinates[0].length-1;n.geometry.coordinates[0][0][0]==n.geometry.coordinates[0][s][0]&&n.geometry.coordinates[0][0][1]==n.geometry.coordinates[0][s][1]||n.geometry.coordinates[0].push(n.geometry.coordinates[0][0])}else n.geometry.coordinates=FUtil.transform(n.geometry.coordinates,"SOUGOU:3857","EPSG:4326");var l=turf.buffer(n,o,{units:"meters"});l.geometry.coordinates[0]=FUtil.transform(l.geometry.coordinates[0],"EPSG:4326","SOUGOU:3857");var c=i.getSource().getFeatureById("bf-"+r.getId());if(c){var p=(new ol.format.GeoJSON).readGeometry(l.geometry);c.setGeometry(p)}else l.properties.id="bf-"+l.properties.id,c=(new ol.format.GeoJSON).readFeature(l),c.setId(l.properties.id),console.log(c.getId()),c.set("geoObj84ForBuffer",n.geometry),c.set("layer",i),i.getSource().addFeature(c);if(t.style){var u=FInject.style.createOriginStyle(t.style);c.setStyle(u)}}}},fc.map.FMap.prototype.clearFeatureBuffer=function(e){if(e){var t=e;if($.isString(e)&&(t=this.getFeatureById(e)),t){var a="bf-"+t.getId();bufferFeature=this._bufferLGP.getLayers().item(0).getSource().getFeatureById(a),bufferFeature&&this._bufferLGP.getLayers().item(0).getSource().removeFeature(bufferFeature)}}else this._bufferLGP.getLayers().item(0).getSource().clear()},fc.map.FMap.prototype.getControls=function(){},fc.map.FMap.prototype._singleAddControl=function(e){var t=$.isString(e)?e:e.type;this.removeControl(t),$.isString(e)&&(e={type:e,config:{}}),e.config=e.config?e.config:{},e.config.fmap=this;var a=FInject.control.createControl(e);if(this._olmap.addControl(a),$.isArray(e.config.offset)&&"mouseposition"==t){var r="#"+this._olmap.getTarget();$(r).find(".fmouseposition").css("margin-left",parseInt(e.config.offset[0])),$(r).find(".fmouseposition").css("margin-top",parseInt(e.config.offset[1]))}},fc.map.FMap.prototype._singleRemoveControl=function(e){var t=this;this._olmap.getControls().forEach(function(a){if(FConfig.FMAP_DICT_CONTROLTYPE[e]&&a instanceof FConfig.FMAP_DICT_CONTROLTYPE[e])try{t._olmap.removeControl(a)}catch(e){}})},fc.map.FMap.prototype.addControl=function(e){var t=this;e&&($.isArray(e)?e.forEach(function(e){t._singleAddControl(e)}):t._singleAddControl(e))},fc.map.FMap.prototype.removeControl=function(e){var t=this;e&&($.isArray(e)?e.forEach(function(e){t._singleRemoveControl(e)}):t._singleRemoveControl(e))},fc.map.FMap.prototype.twinkleFeature=function(e,t,a){function r(r){var s=r.frameState,l=s.time-n,c=parseInt(l/t)%2,p=l/t-parseInt(l/t),u=ol.easing.easeOut(1-p);u=c?.2+(.7-.2)/1*u:.7-(.7-.2)/1*u;var f=FInject.style._createPolygonStyle($.toRgb("#0099ff"),1,"","rgba(75,131,198,"+u+")");if(e.setStyle(f),l>a)return ol.Observable.unByKey(i),void e.setStyle(o);s.animate=!0}var o=e.getStyle();$.isUndefined(o)&&(o=e.get("layer").getStyle()),a=$.isEmpty(a)?5e3:a,t=$.isEmpty(t)?500:t;var i,n=(new Date).getTime();i=this._olmap.on("postcompose",r)},fc.map.FMap.prototype.highlightFeature=function(e,t){},fc.map.FMap.prototype.dispatchFEvent=function(e,t){var a=new ol.events.Event(e);if(t)for(var r in t)a[r]=t[r];this._olmap.dispatchEvent(a),FUtil.debug("派发事件"+a.type)},fc.map.FMap.prototype.once=function(e,t){"fmap.debug.message"==e?FUtil.on(e,t):this._olmap.once(e,t)},fc.map.FMap.prototype.on=function(e,t){return"fmap.debug.message"==e?FUtil.on(e,t):this._olmap.on(e,t)},fc.map.FMap.prototype.unByKey=function(e){ol.Observable.unByKey(e)},fc.map.FMap.prototype.removeListener=function(e){this.unByKey(e)},fc.map.FMap.prototype.addFeatures=function(e,t){var a=this;if(t||(t={}),t.olmap=this._olmap,!$.isEmpty(e)){t.targetProj=this._bgOptions.projection;var r=FInject.feature.createFeatures(e,t),o=t.layer?t.layer:"default",i=FInject.layer.getLayerByName(t.olmap,o);if(i){var n=i.getSource();if(null==n&&(n=new ol.source.Vector,i.setSource(n)),n instanceof ol.source.Cluster?n.getSource().addFeatures(r):n.addFeatures(r),n.refresh(),t.buffer){var s=Math.max(1,Math.min(t.buffer,1e5)),l=a._bufferLGP.getLayers().item(0);r.forEach(function(e){var t=(new ol.format.GeoJSON).writeFeatureObject(e);if("Polygon"===t.geometry.type){t.geometry.coordinates[0]=FUtil.transform(t.geometry.coordinates[0],"SOUGOU:3857","EPSG:4326");var a=t.geometry.coordinates[0].length-1;t.geometry.coordinates[0][0][0]==t.geometry.coordinates[0][a][0]&&t.geometry.coordinates[0][0][1]==t.geometry.coordinates[0][a][1]||t.geometry.coordinates[0].push(t.geometry.coordinates[0][0])}else t.geometry.coordinates=FUtil.transform(t.geometry.coordinates,"SOUGOU:3857","EPSG:4326");var r=turf.buffer(t,s,{units:"meters"});r.geometry.coordinates[0]=FUtil.transform(r.geometry.coordinates[0],"EPSG:4326","SOUGOU:3857");var o=(new ol.format.GeoJSON).readFeature(r);o.set("geoObj84ForBuffer",t.geometry),o.set("layer",l),l.getSource().addFeature(o)})}}return this._layers&&this._layers[o]&&!1===this._layers[o]._rendered&&this._layers[o]._handleDynamicTypeChanged(a.getZoom(),a),r}},fc.map.FMap.prototype.refreshLayer=function(e,t){this.clearLayer(t.layer),this.addFeatures(e,t)},fc.map.FMap.prototype._matchTwoObj=function(e,t){if(t&&e){for(var a in e)if(e[a]!==t[a])return!1;return!0}return!1},fc.map.FMap.prototype.getFeatureById=function(e,t){if(!t){for(var a=this._businessLGP.getLayers(),r=0;r<a.getLength();r++){var o=a.item(r);if(o instanceof ol.layer.Group)for(var i=o.getLayers(),n=0;n<i.getLength();n++){var s=i.item(n);if(s instanceof ol.layer.Vector){var l=s.getSource();if(l instanceof ol.source.Cluster){var c=l.getSource().getFeatureById(e);if(c)return c}else{var c=l.getFeatureById(e);if(c)return c}}}else if(o&&o instanceof ol.layer.Vector){var l=o.getSource();if(l instanceof ol.source.Cluster){var c=l.getSource().getFeatureById(e);if(c)return c}else{var c=l.getFeatureById(e);if(c)return c}}}return null}var p=this.getLayerByName(t),l=p.getSource();if(!(l instanceof ol.source.Cluster)){var c=l.getFeatureById(e);return c}var c=l.getSource().getFeatureById(e);if(c)return c},fc.map.FMap.prototype.getFeaturesByProperties=function(e,t){},fc.map.FMap.prototype.getFeaturesByClients=function(e,t,a){var r=this,o=new Array;if(a){var i=this.getLayerByName(a);i&&(o=i.getSource().getFeatures())}else for(var n=this._businessLGP.getLayers(),s=0;s<n.getLength();s++){var l=n.item(s);if(l){var c=l.getSource();if(c instanceof ol.source.Vector){var p=c.getFeatures();p&&(o=o.concat(p))}}}if(o&&o.length>=1){var u=new Array;if(o.forEach(function(t){var a=t.get("clients");r._matchTwoObj(e,a)&&u.push(t)}),t)for(var s=0;s<u.length;s++)u[s]=u[s].getClients();return u}return null},fc.map.FMap.prototype.getFeaturesByFilter=function(e,t,a){var r=new Array;if(a){var o=this.getLayerByName(a);o&&(r=o.getSource().getFeatures())}else for(var i=this._businessLGP.getLayers(),n=0;n<i.getLength();n++){var s=i.item(n);if(s){var l=s.getSource();if(l instanceof ol.source.Vector){var c=l.getFeatures();c&&(r=r.concat(c))}}}if(r&&r.length>=1){var p=new Array;if(r.forEach(function(t){e(t)&&p.push(t)}),t)for(var n=0;n<p.length;n++)p[n]=p[n].getClients();return p}return null},fc.map.FMap.prototype.getFeaturesByStyles=function(e,t){},fc.map.FMap.prototype.getFeaturesByExpress=function(e){},fc.map.FMap.prototype.getFeatures=function(e){return $.isString(e)?[this.getFeatureById(e)]:this.getFeaturesByClients(e)},fc.map.FMap.prototype.find=function(){},fc.map.FMap.prototype.removeFeatures=function(e,t){var a=this;if(t){var r=this.getLayerByName(t);r&&e.forEach(function(e){var t=r.getSource();t instanceof ol.source.Cluster?t.getSource().removeFeature(e):t.removeFeature(e),a._defaultSelectInteraction.getFeatures().remove(e),a._removeBB(e.getId())})}else e.forEach(function(e){var t=e.get("layer");if(t&&t instanceof ol.layer.Vector){var r=t.getSource();r instanceof ol.source.Cluster?r.getSource().removeFeature(e):r.removeFeature(e)}a._defaultSelectInteraction.getFeatures().remove(e),a._removeBB(e.getId())})},fc.map.FMap.prototype.hasFeatureAtPixel=function(e,t,a){return this._olmap.hasFeatureAtPixel(e,t,a)},fc.map.FMap.prototype.singleSelectedFeature=function(e){this.clearSelected();var t;if(e instanceof ol.Feature)t=e;else{var a=this.getFeatures(e);a&&(t=a[0])}if(t){this._defaultSelectInteraction.getFeatures().push(t);var r=new ol.interaction.Select.Event("select");r.selected=[t],this._defaultSelectInteraction.dispatchEvent(r)}return t},fc.map.FMap.prototype.multiSelectedFeatures=function(e){if(e&&$.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];a.set("selected",!0),this._defaultSelectInteraction.getFeatures().push(a),this._selectedFeatures.push(a),a.getStyle()&&a.setStyle(FInject.default.defaultSelectedIconStyle(a))}},fc.map.FMap.prototype.singleSelectedOverlay=function(e){},fc.map.FMap.prototype.getSelectedFeature=function(){return this._selectedFeature},fc.map.FMap.prototype.updateCoordinates=function(e,t){var a=this,r=this.getFeatureById(e);if(r){var o=r.getGeometry();if(o){"Circle"===o.type&&(t=FInject.geo.getCirclePoints(t[0],t[1]));var i=FUtil.transform(t,"EPSG:4326",a.getBgProjection());"setPoints"in o&&o.setPoints(i)}}},fc.map.FMap.prototype.addInteraction=function(){},fc.map.FMap.prototype.getInteractions=function(){},fc.map.FMap.prototype.removeInteraction=function(e){this._olmap.removeInteraction(e)},fc.map.FMap.prototype.clearSelected=function(e){this._clearSelected(e),this._clearSelectionDrawLayer()},fc.map.FMap.prototype._clearSelected=function(e){this._selectedFeatures&&this._selectedFeatures.forEach(function(e){e.set("selected",!1)}),this._selectedFeatures=new Array,this._defaultSelectInteraction.getFeatures().clear(),this._selectedFeaturePinOverlay&&(this._olmap.removeOverlay(this._selectedFeaturePinOverlay),this._olmap.removeOverlay(this._selectedOverlay),this._selectedOverlay=null)},fc.map.FMap.prototype._clearSelectionDrawLayer=function(){var e=this.getLayerByName("selectionDrawLayer");e&&e.getSource()&&e.getSource().clear()},fc.map.FMap.prototype.activateMulitSelect=function(e){return e=e||{},this._activateSelect(e)},fc.map.FMap.prototype._activateSelect=function(e){var t=this,a=$.Deferred();return this._isContinue=e.continue,t._isDrawingSelectionBound=!0,FInject.draw.activateDraw({type:e.type,layer:"selectionDrawLayer",continue:e.continue,showarea:e.showarea,penStyle:e.penStyle,selectedStyle:e.selectedStyle,beforeDraw:function(){t._clearSelectionDrawLayer()},callback:function(r){r.set("_isSelectTool",!0),t._clearSelected(),FInject.draw.clear();var o=new Array,i=(r.getGeometry().getExtent(),new Array);if($.isArray(e.layer))i=e.layer;else if($.isString(e.layer))i.push(e.layer);else if($.isFunction(e.layer))for(var n=t._getBusinessLayerGroup().getLayers(),s=0;s<n.getLength();s++){var l=n.item(s);!$.isEmpty(l.get("name"))&&e.layer(l.get("name"))&&l instanceof ol.layer.Vector&&i.push(l.get("name"))}else for(var n=t._getBusinessLayerGroup().getLayers(),s=0;s<n.getLength();s++){var l=n.item(s);!$.isEmpty(l.get("name"))&&l instanceof ol.layer.Vector&&i.push(l.get("name"))}var c=0;i.forEach(function(a){t.getLayerByName(a).getSource().getFeatures().forEach(function(a){a.set("selected",!1);var i,n=a.getGeometry().getCoordinates();switch(e.type){case FConst.PLOTTYPE_RECTANGLE:i=FInject.geo.isCoordinateInPolygonExtend;break;case FConst.PLOTTYPE_CIRCLE:i=FInject.geo.isCoordinateInCircle;break;case FConst.PLOTTYPE_POLYGON:i=FInject.geo.isCoordinateInPolygon;break;default:i=FInject.geo.isCoordinateInPolygonExtend}if(i.call(FInject.geo,n,r)){var s=!1;e.filter&&$.isFunction(e.filter)&&(s=e.filter(a)),s||(a.set("selected",!0),t._defaultSelectInteraction.getFeatures().push(a),t._selectedFeatures.push(a),o.push(a.get("clients")),c++)}})}),e.showarea||t._clearSelectionDrawLayer(),FInject.draw.deactivateEdit();var p={type:e.type,count:c,area:r.get("coord84"),center:r.get("center"),radius:r.get("radius"),features:t._selectedFeatures,clients:o};a.resolve(p),$.isFunction(e.callback)&&e.callback(p),t._isContinue&&e.continue&&setTimeout(function(){t._activateSelect(e)},1e3),t._isDrawingSelectionBound=!1}}),a.promise()},fc.map.FMap.prototype.activateBoxSnap=function(e){var t=this;e||(e={}),FInject.draw.activateDraw({type:FConst.PLOTTYPE_RECTANGLE,layer:"selectionDrawLayer",continue:!1,showarea:!1,penStyle:e.penStyle}).done(function(a){t._clearSelectionDrawLayer(),FInject.draw.deactivateEdit();var r={type:FConst.PLOTTYPE_RECTANGLE,area:a.get("points"),center:a.get("center"),radius:a.get("radius")},o=t._olmap.getPixelFromCoordinate(a.get("originPoints")[0]),i=t._olmap.getPixelFromCoordinate(a.get("originPoints")[1]),n=window.devicePixelRatio;o=[o[0]*n,o[1]*n],i=[i[0]*n,i[1]*n];var s={type:"cut"};s.size=[Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1])],s.center=[Math.min(o[0],i[0])+s.size[0]/2,Math.min(o[1],i[1])+s.size[1]/2],s.sign=e.sign,setTimeout(function(){t._shotSnap(s).done(function(t){r.snap=t,$.isFunction(e.callback)&&e.callback(r)})},500)})},fc.map.FMap.prototype.activateBoxSelect=function(e){return e=e||{},e.type=FConst.PLOTTYPE_RECTANGLE,this._activateSelect(e)},
fc.map.FMap.prototype.activateCircleSelect=function(e){return e.type=FConst.PLOTTYPE_CIRCLE,this._activateSelect(e)},fc.map.FMap.prototype.activatePolygonSelect=function(e){return e.type=FConst.PLOTTYPE_POLYGON,this._activateSelect(e)},fc.map.FMap.prototype.deactivateSelect=function(){this._isContinue=!1,this._isDrawingSelectionBound=!1},fc.map.FMap.prototype.deactivateWheelZoom=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.MouseWheelZoom&&e.setActive(!1)})},fc.map.FMap.prototype.activateWheelZoom=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.MouseWheelZoom&&e.setActive(!0)})},fc.map.FMap.prototype.deactivateDbClickZoom=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.DoubleClickZoom&&e.setActive(!1)})},fc.map.FMap.prototype.activateDbClickZoom=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.DoubleClickZoom&&e.setActive(!0)})},fc.map.FMap.prototype.deactivateDragBg=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.DragPan&&e.setActive(!1)})},fc.map.FMap.prototype.activateDragBg=function(){this._olmap.getInteractions().forEach(function(e){e instanceof ol.interaction.DragPan&&e.setActive(!0)})},fc.map.FMap.prototype.activateDragFeature=function(e){},fc.map.FMap.prototype.deactivateDragFeature=function(){this._featureDragSelectInteraction.getFeatures().clear(),this._olmap.removeInteraction(this._featureDragSelectInteraction),this._olmap.removeInteraction(this._featureDragModifyInteraction),this._snap&&this._olmap.removeInteraction(this._snap)},fc.map.FMap.prototype.activateMeasure=function(e){function t(){r&&r.parentNode.removeChild(r),r=document.createElement("div"),r.className="mtooltip hidden",n=new ol.Overlay({element:r,offset:[15,0],positioning:"center-left"}),n.set("group","measure"),l._measureHelpTooltip=n,c.addOverlay(n)}function a(){o&&o.parentNode.removeChild(o),o=document.createElement("div"),o.className="mtooltip mtooltip-measure",s=new ol.Overlay({element:o,offset:[0,-15],positioning:"bottom-center"}),s.set("group","measure"),l._measureTooltip=s,c.addOverlay(s)}this.deactivateMeasure();var r,o,i,n,s,l=this,c=this._olmap,p="d"==l._getProjUnit(),u=(new ol.Sphere(6378137),new ol.source.Vector),f=new ol.layer.Vector({source:u,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:3}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})})}),d=c.getLayers(),m=!1;for(j=0;j<d.getLength();j++)if("measureLayer"==d.item(j).get("name")){m=!0,f=d.item(j);break}m||(f.set("name","measureLayer"),c.addLayer(f));var g=function(e){if(!e.dragging){var t="点击开始测量";if(i){var a=i.getGeometry();a instanceof ol.geom.Polygon?t="点击继续画面测量":a instanceof ol.geom.LineString&&(t="点击继续画线测量")}r.innerHTML=t,n.setPosition(e.coordinate),$(r).removeClass("hidden")}},y=c.on("pointermove",g);l._measureMoveEventKey=y;$(c.getViewport()).on("mouseout",function(){$(r).addClass("hidden")});e=$.isEmpty(e)?"line":e;var h=$.isString(e)?e:e.type,v=function(e,t){var a=0;if(t){a=e.clone().transform("EPSG:4326","EPSG:3857").getLength()}else a=e.getLength();return a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m"},A=function(e,t){var a=0;if(t){a=e.clone().transform("EPSG:4326","EPSG:3857").getArea()}else a=e.getArea();return a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>"};!function(){h="area"==h?"Polygon":"LineString";var r=new ol.interaction.Draw({source:f.getSource(),type:h,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"})})})});c.addInteraction(r),l._measureInteraction=r,a(),t();var n;r.on("drawstart",function(e){l._isMeasureing=!0,i=e.feature;var t=e.coordinate;n=i.getGeometry().on("change",function(e){var a,r=e.target;r instanceof ol.geom.Polygon?(a=A(r,p),t=r.getInteriorPoint().getCoordinates()):r instanceof ol.geom.LineString&&(a=v(r,p),t=r.getLastCoordinate()),o.innerHTML=a,s.setPosition(t)})},this),r.on("drawend",function(t){l._isMeasureing=!1,o.className="mtooltip mtooltip-static",s.setOffset([0,-7]);var r=(s.getPosition(),FInject.geo.flatCoords2Coords(i.getGeometry().flatCoordinates));r=FUtil.transform(r,l.getProjection(),"EPSG:4326"),i.cacheWgs84(r);var c=o.innerHTML,p=o.innerHTML.split(" ")[0];switch(o.innerHTML.split(" ")[1]){case"m":p=p;break;case"km":p*=1e3;break;case"m<sup>2</sup>":p=p;break;case"km<sup>2</sup>":p*=1e6;break;default:p=p}o=null,i=null,a(),ol.Observable.unByKey(n),l.dispatchFEvent("fmap.interaction.measureend",{value:p,text:c,coordinates:r}),$.isFunction(e.callback)&&e.callback({value:p,text:c,coordinates:r})},this)}()},fc.map.FMap.prototype.deactivateMeasure=function(){var e=this;e._measureInteraction&&e._olmap.removeInteraction(e._measureInteraction),e._measureTooltip&&(e._olmap.removeOverlay(e._measureTooltip),e._olmap.removeOverlay(e._measureHelpTooltip)),e._measureMoveEventKey&&e._olmap.unset(e._measureMoveEventKey)},fc.map.FMap.prototype.clearMeasure=function(){this.deactivateMeasure();var e=this,t=this._olmap.getLayers();for(j=0;j<t.getLength();j++)"measureLayer"==t.item(j).get("name")&&t.item(j).getSource().clear();e._measureTooltip&&e._olmap.removeOverlay(e._measureTooltip);for(var a=this._olmap.getOverlays(),r=a.getLength();r>=0;r--){var o=a.item(r);o&&"measure"==o.get("group")&&a.removeAt(r)}},fc.map.FMap.prototype.deactivateMulitSelect=function(){FInject.draw.cancelDraw()},fc.map.FMap.prototype._alternativeSelectActivate=!1,fc.map.FMap.prototype.activateAlternativeSelect=function(){var e=this;if(!e._alternativeSelectActivate){e._alternativeSelectActivate=!0;var t=void 0;e._listenerKeyAltSelected=e.on("fmap.feature.selected",function(e){e.feature&&(t=e.feature.getId())}),e._listenerKeyAltClick=e.on("fmap.feature.click",function(a){a.feature.getId()===t&&setTimeout(function(){e.clearSelected(),e.closeSingleBubble(),t=void 0},300)})}},fc.map.FMap.prototype.deactivateAlternativeSelect=function(){var e=this;e._alternativeSelectActivate&&(e._alternativeSelectActivate=!1,e._listenerKeyAltSelected&&e.unByKey(e._listenerKeyAltSelected),e._listenerKeyAltClick&&e.unByKey(e._listenerKeyAltClick))},fc.map.FMap.prototype._getBglayerGroup=function(){return this._olmap.getLayers().item(0)},fc.map.FMap.prototype.hideBglayer=function(e){var t=this._getBglayerGroup();if($.isUndefined(e))t.setVisible(!1);else{var a=t.getLayers(),r=a.getArray().length-1-2;e>=r&&(e=r);a.item(e).setVisible(!1)}},fc.map.FMap.prototype.showBglayer=function(e){var t=this._getBglayerGroup();if($.isUndefined(e))t.setVisible(!0);else{var a=t.getLayers(),r=a.getArray().length-1-2;e>=r&&(e=r);a.item(e).setVisible(!0)}},fc.map.FMap.prototype.addLayer=function(e){var t,a=this;if(e){t=new fc.map.FLayer(e);this._getBusinessLayerGroup().getLayers().push(t._olLayer),this._layers[e.name]=t,this.dispatchFEvent("fmap.layer.created",{layer:e.name}),t._registLayerEventHandler(a)}return t},fc.map.FMap.prototype.insertLayer=function(e,t){if(e){var a=new fc.map.FLayer(e);this._olmap.getLayers().insertAt(t,a._olLayer),this._layers[e.name]=a}},fc.map.FMap.prototype.clearLayer=function(e){var t=this;e?($.isArray(e)||(e=[e]),e.forEach(function(e){t._clearLayer(e)})):(e=t._getBusinessLayerGroup().getLayers(),e.forEach(function(e){t._clearLayer(e)}))},fc.map.FMap.prototype.removeLayers=function(e){var t=this;e&&e.forEach(function(e){t.removeLayer(e)})},fc.map.FMap.prototype._clearLayer=function(e){var t=this,a=this._getLayer(e);if(a){var r=a.getSource();r instanceof ol.source.Cluster?r.getSource().clear():r&&(r.hasOwnProperty("clear")||"clear"in r)&&r.clear(),this.dispatchFEvent("fmap.layer.clear",{layer:a.get("name")});a.get("name");if(t._selectedFeatureBubbleOverlay&&"layerName"===t._selectedFeatureBubbleOverlay.get("layer")&&t._removeSingleBB(),t._defaultSelectInteraction&&t._defaultSelectInteraction.getFeatures())for(var o=t._defaultSelectInteraction.getFeatures().getArray(),i=o.length-1;i>=0;i--){var n=o[i];n.get("layer")&&"layerName"===n.get("layer").get("name")&&t._defaultSelectInteraction.getFeatures().remove(n)}}},fc.map.FMap.prototype.getLayerByName=function(e){return FInject.layer.getLayerByName(this._olmap,e)},fc.map.FMap.prototype.isLayerEmpty=function(e){},fc.map.FMap.prototype._getLayer=function(e){var t;this._olmap;return $.isEmpty(e)&&(e="default"),$.isString(e)?t=this.getLayerByName(e):e instanceof ol.layer.Base?t=e:$.isEmpty(e.name)||(t=this.getLayerByName(e.name)),t},fc.map.FMap.prototype.removeLayer=function(e){var t=this.getLayerByName(e);this._getBusinessLayerGroup().getLayers().remove(t),delete this._layers[e]},fc.map.FMap.prototype.clearOvergroups=function(e){},fc.map.FMap.prototype.clearOvergroup=function(e){},fc.map.FMap.prototype.getOvergroup=function(){},fc.map.FMap.prototype.setScences=function(e){var t=this,a=t._scenceLGP;if(e)if($.isArray(e));else for(var r in e){var o,i=e[r],n=new fc.map.FLayer(i);$.isArray(n._olLayer)?(o=new ol.layer.Group,o.setLayers(new ol.Collection(n._olLayer))):o=n._olLayer,a.getLayers().push(o)}},fc.map.FMap.prototype._getBusinessLayerGroup=function(){return this._businessLGP},fc.map.FMap.prototype.clearBuffer=function(){this._businessLGP.getLayers().item(0).getSource().clear()},fc.map.FMap.prototype.setBufferRadius=function(e){var t=this._bufferLGP.getLayers().item(0).getSource().getFeatures(),a=Math.max(1,Math.min(e,1e5));t.forEach(function(e){var t=e.get("geoObj84ForBuffer"),r=turf.buffer(t,a,{units:"meters"});r.geometry.coordinates[0]=FUtil.transform(r.geometry.coordinates[0],"EPSG:4326","SOUGOU:3857");var o=(new ol.format.GeoJSON).readGeometry(r.geometry);e.setGeometry(o),e.changed()})},fc.map.FMap.prototype.updateLayer=function(e){var t=this,a=t.getLayerByName(e.name);"Heat"==e.type&&(e.gradient&&a.setGradient(e.gradient),e.radius&&a.setRadius(e.radius),e.blur&&a.setBlur(e.blur))},fc.map.FMap.prototype.getOrigin=function(){return this._olmap},fc.map.FMap.prototype.clearMap=function(){this.closeSingleBubble(),this.clearSelected(),this.clearMeasure(),this.clearLayer(),this.dispatchFEvent("fmap.map.clear")},fc.map.FMap.prototype.getProjection=function(){return this._olmap.get("bgProjection")},fc.map.FMap.prototype._getProjUnit=function(){var e="m";return this._bgOptions&&this._bgOptions.realProj&&-1!=this._bgOptions.realProj.indexOf(":4326")&&(e="d"),e},fc.map.FMap.prototype.getMapType=function(){return this._mapType},fc.map.FMap.prototype.renderSync=function(){return this._olmap.renderSync()},fc.map.FMap.prototype.render=function(){return this._olmap.render()},fc.map.FMap.prototype.lockScreen=function(){},fc.map.FMap.prototype.unlockScreen=function(){},fc.map.FMap.prototype.addOverlays=function(e,t){},fc.map.FMap.prototype.refreshOvergroup=function(){},fc.map.FMap.prototype.getOverlayById=function(){},fc.map.FMap.prototype.getOverlaysByGroup=function(){},fc.map.FMap.prototype.getOverlaysByProperties=function(){},fc.map.FMap.prototype.getOverlaysByClients=function(){},fc.map.FMap.prototype.getOverlaysByStyles=function(){},fc.map.FMap.prototype.getOverlaysByExpress=function(e){},fc.map.FMap.prototype.activateDraw=function(e){FInject.draw.activateDraw(e)},fc.map.FMap.prototype.deactivateDraw=function(){FInject.draw.cancelDraw()},fc.map.FMap.prototype.setDrawStyle=function(e){FInject.draw.setStyle(e)},fc.map.FMap.prototype.clearDraw=function(){FInject.draw.clear()},fc.map.FMap.prototype.isDrawing=function(){return FInject.draw.isDrawing()},fc.map.FMap.prototype.export2Img=function(e){this._shotSnap(e).done(function(t){var a=dataURLToBlob(t);navigator.msSaveBlob?navigator.msSaveBlob(a,e.filename):saveAs(a,e.filename)})},fc.map.FMap.prototype.snap2Bitmap=function(e,t,a){},fc.map.FMap.prototype.snap2Base64=function(e,t,a){},fc.map.FMap.prototype.snap2Blob=function(){},fc.map.FMap.prototype._shotSnap=function(e){var t,a=e.size,r=e.type||"origin",o=$.Deferred(),i=$("<canvas></canvas>"),n=i[0],s=n.getContext("2d"),l=new Image;l.onload=function(){var c,p,u,f,d,m,g,y;switch(a?a[0]>l.width&&(r="origin"):r="origin",c=0,p=0,d=0,m=0,u=l.width,f=l.height,r){case"origin":g=l.width,y=l.height;break;case"ratio":g=a,y=parseInt(g/l.width*l.height);break;case"scale":g=a[0],y=a[1];break;case"cut":t=e.center?e.center:[l.width/2,l.height/2],c=t[0]-a[0]/2,p=t[1]-a[1]/2,u=a[0],f=a[1],g=a[0],y=a[1]}i[0].width=g,i[0].height=y,s.drawImage(l,c,p,u,f,d,m,g,y),e.sign&&(e.sign.rightbottom=[g,y],signTexts(s,e.sign)),o.resolve(n.toDataURL())};var c;return this._olmap.once("postcompose",function(e){var t=e.context.canvas;try{c=t.toDataURL("image/png"),l.src=c}catch(e){"SecurityError"===e.name&&console.error("安全沙箱错误，您的瓦片服务可能不支持跨域")}}),this._olmap.renderSync(),o.promise()},fc.map.FMap.prototype.getZoom=function(){var e=this._olmap.getView().getZoom()+this._minZoom;return Math.floor(e)},fc.map.FMap.prototype.setZoom=function(e,t){var a=e-this._minZoom;t?this._olmap.getView().animate({duration:150,zoom:a}):this._olmap.getView().setZoom(a)},fc.map.FMap.prototype.zoomTo=function(e){var t=e;$.isString(t)&&this._zoomAlias[t]&&(t=this._zoomAlias[t]),this.setZoom(t)},fc.map.FMap.prototype.zoomIn=function(){var e=this.getZoom();this.setZoom(e+1)},fc.map.FMap.prototype.zoomOut=function(){var e=this.getZoom();this.setZoom(e-1)},fc.map.FMap.prototype.updateSize=function(){if(this._olmap){var e=this._olmap.getSize();this._olmap.updateSize();var t=this._olmap.getSize();this.dispatchFEvent("fmap.map.change:size",{oldValue:e,newValue:t})}},fc.map.FMap.prototype.getExtent=function(){var e=this._olmap,t=e.getView().calculateExtent(e.getSize()),a=e.get("bgProjection");return a=a||"EPSG:4326",FInject.proj.transformExtent(t,a,"EPSG:4326")},fc.map.FMap.prototype.setExtent=function(e){var t=this._olmap.get("bgProjection"),a=FUtil.transform(e,"EPSG:4326",t),r=this._olmap.getSize();this._olmap.getView().fit(a,r)},fc.map.FMap.getRealExtent=function(){return this._olmap.getView().getExtent()},fc.map.FMap.prototype.getBgProjection=function(){return this._bgOptions.projection},fc.map.FMap.prototype._hasFeatureAtPixel=function(e,t,a){return this._olmap.hasFeatureAtPixel(e,t,a)},fc.map.FMap.prototype.navigate2Center=function(e,t,a){var r=this._olmap.get("bgProjection");t=$.isUndefined(t)?"pan":t;var o=this._olmap.getView();switch(e=ol.proj.transform(e,"EPSG:4326",r),$.isString(t)||o.animate(t),t){case"pan":o.animate({duration:2e3,center:e});break;case"shake":var i=function(e){return Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1};o.animate({duration:2e3,easing:i,center:e});break;case"panandshake":var n=function(e){var t,a=7.5625,r=2.75;return e<1/r?t=a*e*e:e<2/r?(e-=1.5/r,t=a*e*e+.75):e<2.5/r?(e-=2.25/r,t=a*e*e+.9375):(e-=2.625/r,t=a*e*e+.984375),t};o.animate({duration:2e3,easing:n,center:e});break;case"clockwise":var s=2e3,l=+new Date,c=ol.animation.pan({duration:s,source:this._olmap.getView().getCenter(),start:l}),n=ol.animation.bounce({duration:s,resolution:2*this._olmap.getView().getResolution(),start:l}),p=ol.animation.rotate({duration:s,rotation:-4*Math.PI,start:l});this._olmap.beforeRender(c,n,p);break;case"eastern":var s=2e3,l=+new Date,c=ol.animation.pan({duration:s,source:this._olmap.getView().getCenter(),start:l}),n=ol.animation.bounce({duration:s,resolution:2*this._olmap.getView().getResolution(),start:l}),p=ol.animation.rotate({duration:s,rotation:4*Math.PI,start:l});this._olmap.beforeRender(c,n,p);break;case"fly":var s=2e3,l=+new Date,c=ol.animation.pan({duration:s,source:this._olmap.getView().getCenter(),start:l}),n=ol.animation.bounce({duration:s,resolution:4*this._olmap.getView().getResolution(),start:l});this._olmap.beforeRender(c,n)}a&&this._olmap.getView().setZoom(a)},fc.map.FMap.prototype._navigate2Point=function(e){},fc.map.FMap.prototype._navigate2Line=function(e){},fc.map.FMap.prototype._navigate2Polygon=function(e){},fc.map.FMap.prototype.navigate2Extent=function(e,t,a,r){var o=this.getBgProjection();r=r||"EPSG:4326";var i,n,s;r!=o?(i=ol.proj.transform([e[0],e[1]],r,o),n=ol.proj.transform([e[2],e[3]],r,o),s=[i[0],i[1],n[0],n[1]]):s=e,this._olmap.getView().fit(s,{size:this._olmap.getSize(),duration:t||200,callback:a})},fc.map.FMap.prototype.navigate2Feature=function(e,t,a){if(e){if("point"===e.getGeometry().getType().toLowerCase()){var r=e.getCoordinates()[0];this.navigate2Center(r)}else{var o=e.getGeometry().getExtent(),i=this.getBgProjection();this.navigate2Extent(o,t,a,i)}}},fc.map.FMap.prototype.navigate2Features=function(e){},fc.map.FMap.prototype.getCoordinateFromPixel=function(e,t){var a=this._olmap.getCoordinateFromPixel(e);if(t){var r=this._olmap.getView().getProjection();a=ol.proj.transform(a,r,t)}return a},fc.map.FMap.prototype.getPixelFromCoordinate=function(e){var t=FUtil.transform(e,"EPSG:4326",this._olmap.get("bgProjection"));return this._olmap.getPixelFromCoordinate(t)},fc.map.FMap.prototype.getSize=function(){return this._olmap.getView().getSize()},fc.map.FMap.prototype.checkCenterIsSame=function(e,t){return!1},fc.map.FMap.prototype.setCenter=function(e){var t=this._olmap.get("bgProjection");e=FUtil.transform(e,"EPSG:4326",t),this._olmap.getView().setCenter(e)},fc.map.FMap.prototype.getCenter=function(){var e=this._olmap.getView().getCenter(),t=this._olmap.get("bgProjection");return t=t||"EPSG:4326",e=FInject.proj.transform(e,t,"EPSG:4326")},fc.map.FMap.prototype.viewfit=function(e,t){},fc.map.FMap.prototype.syncView=function(e){function t(e,t){return e.on("fmap.map.moveend",function(a){t.syncing=!0,e.syncing||(t.setCenter(a.center),t.setZoom(a.zoom),console.log("同步视图")),setTimeout(function(){t.syncing=!1},100)})}var a=this;this._syncViewListerners&&this._syncViewListerners[e._target]||(this._syncViewListerners[e._target]=new Array,this._syncViewListerners[e._target].push(t(a,e)),this._syncViewListerners[e._target].push(t(e,a)))},fc.map.FMap.prototype.unsyncView=function(e){var t=this;t._syncViewListerners&&t._syncViewListerners[e._target]&&(t.unByKey(t._syncViewListerners[e._target][0]),e.unByKey(t._syncViewListerners[e._target][1]),delete this._syncViewListerners[e._target])},fc.map.FMap.prototype.fullScreen=function(){var e=this;if($(".ol-full-screen").length<1){var t=$("#"+e._target).parent()[0];e._olmap.addControl(new ol.control.FullScreen({source:t}))}$(".ol-full-screen-false").trigger("click")},fc.map.FMap.prototype.exitFullScreen=function(){var e=this;if($(".ol-full-screen").length<1){var t=$("#"+e._target).parent()[0];e._olmap.addControl(new ol.control.FullScreen({source:t}))}$(".ol-full-screen-true").trigger("click")},fc.map.FMap.prototype.toggleScreen=function(){var e=this;if($(".ol-full-screen").length<1){var t=$("#"+e._target).parent()[0];e._olmap.addControl(new ol.control.FullScreen({source:t}))}$(".ol-full-screen-false").length>0?e.fullScreen():e.exitFullScreen()},fc.map.FLayer=function(e){this.name="undefined",this.title="未知图层",this.type="Vector",this.source={type:"Vector"},this.symbol="default",this.style=void 0,this.selectedStyle="default",this._finalOlStyle=null,this.animation=!1,this.visible=!0,this.opacity=1,this.level=[0,21],this.bubbleable=!0,this.bubble="default",this.hoverBubble=void 0,this.bubbleSkin="",this.bubbleTitle="",this.ringable=!1,this.selectable=!0,this.editable=!1,this.contextMenu=null,this.oncreated=null,this.onclick=null,this.onrclick=null,this.select=null,this._applyOptions(e),this._createOriginLayer(),this._registEventListerners()},fc.map.FLayer.prototype._applyOptions=function(e){this.name=e.name||this.name,this.title=e.title||this.title,e.type="Vect"==e.type?"Vector":e.type,this.type=e.type||this.type,this.source=e.source||this.source,this.symbol=e.symbol||this.symbol,this.style=e.style,this.selectedStyle=e.selectedStyle||"default",this.animation=e.animation||this.animation,"Clust"==this.type&&$.isUndefined(this.style)&&(this.style="defaultClust"),"HeatTile"===this.type&&(this.heatresolutions=e.heatresolutions,this.extent=e.extent,this.url=e.url,this.ratio=e.ratio||8),"visible"in e&&(this.visible=e.visible),"selectable"in e&&(this.selectable=e.selectable),this.opacity=e.opacity||this.opacity,this.level=e.level||this.level,this.bubbleable=!1!==e.bubbleable,this.bubble=e.bubble||this.bubble,this.bubbleSkin=e.bubbleSkin||this.bubbleSkin,this.bubbleTitle=e.bubbleTitle||this.bubbleTitle,this.onclick=e.onclick,this.onmousein=e.onmousein,this.onmouseout=e.onmouseout,this.onselect=e.onselect},fc.map.FLayer.prototype._createOriginLayer=function(e){"tile"==this.type?this._olLayer=FInject.layer.createBackgroundLayer(this.source,!0):(this._olLayer=FInject.layer.createOLayer(this),this._finalOlStyle=this._createOriginStyle(this),this._olLayer.setOpacity(this.opacity),this._olLayer.set("selectable",this.selectable),this._olLayer.set("selectedStyle",this.selectedStyle),this._olLayer.set("bubbleable",this.bubbleable),this._olLayer.set("bubble",this.bubble),this._olLayer.set("bubbleSkin",this.bubbleSkin),this._olLayer.set("bubbleTitle",this.bubbleTitle),this._finalOlStyle&&"Heat"!=this.type&&this._olLayer.setStyle&&$.isFunction(this._olLayer.setStyle)&&this._olLayer.setStyle(this._finalOlStyle))},fc.map.FLayer.prototype._createOriginStyle=function(e){var t,a;if($.isString(e.style))if(-1!=e.style.indexOf(":"))t=FInject.style._parseExpContent(e.style);else{var r=e.style.trim();t=FInject.style._getStyleByName(r)}else if($.isFunction(e.style))t=function(t,a){var r,o=e.style(t);if(-1!=o.indexOf(":"))r=FInject.style._parseExpContent(o);else{var i=o.trim();r=FInject.style._getStyleByName(i)}return r};else if($.isArray(e.style)){t=new Array;for(var o=e.style,i=0;i<o.length;i++){var n=o[i];if($.isString(n))if(-1!=n.indexOf(":"))t.push(FInject.style._parseExpContent(n));else{var r=n.trim();t.push(FInject.style._getStyleByName(r))}}}else a=$.isDefined(e.symbol)?FInject.symbol.getSymbol(e.symbol):FInject.symbol.getSymbol("default"),t=new ol.style.Style({image:a});return t},fc.map.FLayer.prototype._registEventListerners=function(){var e=this;watch(this,["visible","level","opacity","selectable","ringable","bubbleable","editable","style","symbol"],function(t,a,r,o){switch(t){case"visible":e._olLayer.setVisible(r);break;case"opacity":e._olLayer.setOpacity(parseFloat(r));break;case"selectable":e._olLayer.set("selectable",r);break;case"ringable":e._olLayer.set("ringable",r);break;case"bubbleable":e._olLayer.set("bubbleable",r);break;case"editable":e._olLayer.set("editable",r);break;case"symbol":case"style":e._finalOlStyle=this._createOriginStyle(e),this._finalOlStyle&&"Heat"!=this.type&&this._olLayer.setStyle&&$.isFunction(this._olLayer.setStyle)&&this._olLayer.setStyle(this._finalOlStyle);break;case"level":var i=Math.max(1,r[0]-e._fmap._bgLayerOptionOld.zoomDeta),n=Math.min(r[1]-e._fmap._bgLayerOptionOld.zoomDeta,e._fmap._bgLayerOptionOld.resolutions.length-1);e._olLayer.setMaxResolution(e._fmap._bgLayerOptionOld.resolutions[i-1]),e._olLayer.setMinResolution(e._fmap._bgLayerOptionOld.resolutions[n])}})},fc.map.FLayer.prototype._registLayerEventHandler=function(e){var t=this;if(t._fmap=e,($.isFunction(t.onmousein)||$.isFunction(t.onmouseout))&&e._addMouseInInteraction(t.name,t.onmousein,t.onmouseout),$.isFunction(t.onclick)&&e.on("fmap.feature.click",function(e){e.layer==t.name&&t.onclick(e)}),$.isFunction(t.onrtclick)&&e.on("fmap.feature.rtclick",function(e){e.layer==t.name&&t.onrtclick(e)}),$.isFunction(t.onselect)&&e.on("fmap.feature.selected",function(e){e.layer==t.name&&t.onselect(e)}),"HeatTile"===t.type){var a=t._olLayer.get("_heatresolutions");e.on("fmap.view.change:zoom",function(r){for(var o,i=r.newValue,n=_resolutionsPgis[i],s=!1,l=0;l<a.length;l++){var c=a[l];if(n*t.ratio<=c){o=l;var p=t._olLayer.get("_currentHeatRIndex");s=!0,o!=p&&e.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:o,layer:t});break}}if(!s){o=a.length-1;var p=t._olLayer.get("_currentHeatRIndex");o!=p&&e.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:o,layer:t})}console.log("[debug]: zoom-"+i+"; heatresolution-"+a[o])}),e.on("_fmap.tilelayer.change:heatresolution",function(t){var r=t.layer,o=t.heatrindex,i=a[o],n=e._olmap.get("bgProjection"),s=new ol.source.ImageStatic({url:r.url+"&resolution="+i,projection:e._bgLayerOptionOld.realProj,imageExtent:FUtil.transformExtent(r.extent,"EPSG:4326",n)});r._olLayer.setSource(s),r._olLayer.set("_currentHeatRIndex",o)});for(var r,o=e.getZoom(),i=_resolutionsPgis[o],n=t._olLayer.get("_currentHeatRIndex"),s=!1,l=0;l<a.length;l++){var c=a[l];if(i*t.ratio<=c){r=l,s=!0,r!=n&&e.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:r,layer:t});break}}s||(r=a.length-1,e.dispatchFEvent("_fmap.tilelayer.change:heatresolution",{heatrindex:r,layer:t}))}},fc.map.FDynamicLayer=function(e){var t=this;this.name=e.name||"undefined",this.title="未知图层",this._currentType="none",this._rendered=!1,this._heatmap=e.heatmap,this._heatmap.type="Heat",this._clustmap=e.clustmap,this._clustmap.type="Clust",this._pointmap=e.pointmap,this._pointmap.type="Vector",this._heatmap.name=this._clustmap.name=this._pointmap.name=this.name,this._currentFLayer=new fc.map.FLayer(t._pointmap),this._olLayer=this._currentFLayer._olLayer,this._olLayer.set("_hasnotRendered",!0)},fc.map.FDynamicLayer.prototype._handleDynamicTypeChanged=function(e,t){var a=this;a._rendered=!0;var r;if(e>=a._heatmap.level[0]&&e<=a._heatmap.level[1]&&"Heat"!=a._currentType?(r="Clust"==a._currentType?a._olLayer.getSource().getSource():a._olLayer.getSource(),t.removeLayer(a.name),a._currentFLayer=t.addLayer(a._heatmap),a._currentType="Heat",a._olLayer=a._currentFLayer._olLayer,a._olLayer.setSource(r)):e>=a._clustmap.level[0]&&e<=a._clustmap.level[1]&&"Clust"!=a._currentType?(r="Clust"==a._currentType?a._olLayer.getSource().getSource():a._olLayer.getSource(),t.removeLayer(a.name),a._currentFLayer=t.addLayer(a._clustmap),a._currentType="Clust",a._olLayer=a._currentFLayer._olLayer,a._olLayer.getSource().getSource().addFeatures(r.getFeatures())):e>=a._pointmap.level[0]&&e<=a._pointmap.level[1]&&"Point"!=a._currentType&&(r="Clust"==a._currentType?a._olLayer.getSource().getSource():a._olLayer.getSource(),t.removeLayer(a.name),a._currentFLayer=t.addLayer(a._pointmap),a._currentType="Point",a._olLayer=a._currentFLayer._olLayer,a._olLayer.setSource(r)),r){var o=r.getFeatures();o&&o.forEach(function(e){e.set("layer",a._olLayer)})}},fc.map.FDynamicLayer.prototype._registLayerEventHandler=function(e){var t=this;e.on("fmap.view.change:zoom",function(a){var r=a.newValue;t._handleDynamicTypeChanged(r,e)})},fc.map.FMap.prototype.addHoverSelectInteraction=function(e,t,a){var r=this,o=new ol.interaction.Select({style:FInject.default.defaultSelectedIconStyle,layers:function(t){return!!$.isString(e)&&e===t.get("name")},condition:ol.events.condition.pointerMove,toggleCondition:ol.events.condition.never,addCondition:ol.events.condition.never,removeCondition:ol.events.condition.never,filter:function(e){var t=e.get("layer");return!!(e.get("selecteable")||t&&t.get("selecteable"))}});return o.set("id","fmap.interaction.default.hoverselect"),o.on("select",function(e){new ol.events.Event;if(0==e.selected.length)return r._olmap.removeOverlay(r._selectedFeaturePinOverlay),void r.dispatchFEvent(FConst.EVENT_FEATURE_SELECTED,{feature:null});var t=e.selected[0];r.selectedFeature=t;var a=t.getGeometry().getLastCoordinate(),o=t&&t.get("layer")&&t.get("layer").get("ringable");"Point"==t.getGeometry().getType()&&o?(r._olmap.addOverlay(r._selectedFeaturePinOverlay),r._selectedFeaturePinOverlay.setPosition(a)):r._olmap.removeOverlay(r._selectedFeaturePinOverlay),r.dispatchFEvent(FConst.EVENT_FEATURE_SELECTED,{feature:t})}),r._olmap.addInteraction(o),o},fc.map.FDefaultKeyboardPanInteraction=function(e){return new ol.interaction.KeyboardPan},fc.map.FDefaultModifyInteraction=function(e){var t=e._defaultSelectInteraction,a=new ol.interaction.Modify({features:t.getFeatures(),pixelTolerance:50});return a.setActive(!1),a},fc.map.FDefaultSelectInteraction=function(e){var t=new ol.interaction.Select({style:FInject.default.defaultSelectedIconStyle,layers:function(e){return!(e instanceof ol.layer.Heatmap)},toggleCondition:ol.events.condition.never,addCondition:ol.events.condition.ctrlKeyOnly,removeCondition:ol.events.condition.shiftKeyOnly,filter:function(e){var t,a=e.get("features"),r=a&&a.length>0;return t=r?a[0].get("layer"):e.get("layer"),!!(e.get("selectable")||t&&t.get("selectable"))}}),a=function(e){var t=e.selected,a=e.deselected;t&&t.length&&t.forEach(function(e){e.getStyle()&&e.setStyle(FInject.default.defaultSelectedIconStyle(e))}),a&&a.length&&a.forEach(function(e){if(e.getStyle())if(e.get("_fstyle")){var t=fc.map.FLayer.prototype._createOriginStyle({style:e.get("_fstyle")});e.setStyle(t)}else e.setStyle(null)})},r=function(t){var r;if(0==t.selected.length)return e._olmap.removeOverlay(e._selectedFeaturePinOverlay),r=null,e.dispatchFEvent("_fmap.feature.unselected"),void a(t);var o=t.selected[0];e.selectedFeature=o;var i,n=o.getGeometry().getLastCoordinate(),s=o.get("features"),l=s&&s.length>0;i=l?s[0].get("layer"):o.get("layer");var c=o&&i&&i.get("ringable"),p=i.get("name");"Point"==o.getGeometry().getType()&&c?(e._olmap.addOverlay(e._selectedFeaturePinOverlay),e._selectedFeaturePinOverlay.setPosition(n)):e._selectedFeaturePinOverlay&&e._olmap.removeOverlay(e._selectedFeaturePinOverlay),a(t),r=o,e.dispatchFEvent(FConst.EVENT_FEATURE_SELECTED,{feature:r,layer:p}),"$$trackLayer"===p&&(t.type="_fmap.feature.trackselect",e._olmap.dispatchEvent(t))};return t.on("select",r),t.set("id","fmap.interaction.default.select"),e._clearSingleBB=function(){if(e._selectedFeatureBubbleOverlay){var t=e._selectedFeatureBubbleOverlay.get("bbproxy");t&&t.close(),$(e._selectedFeatureBubbleOverlay.getElement()).empty(),e._selectedFeatureBubbleOverlay.set("id","none"),e._selectedFeatureBubbleOverlay.set("layer","none")}},e._removeSingleBB=function(){e._selectedFeatureBubbleOverlay&&(e._clearSingleBB(),e._olmap.removeOverlay(e._selectedFeatureBubbleOverlay),e._selectedFeatureBubbleOverlay.set("bbproxy",null),e._selectedFeatureBubbleContentTpl.bbproxy=null)},e._removeBB=function(t){e._selectedFeatureBubbleOverlay&&e._selectedFeatureBubbleOverlay.get("id")===t&&this._removeSingleBB()},e._renderBB=function(t,a,r,o,i){this._removeSingleBB();var n,s,l,c=i.get("clients"),p=i.get("features"),u=1;if(p){u=p.length,c=new Array;for(var f=0;f<u;f++)c.push(p[f].get("clients"))}switch(s=o.get("bubbleSkin"),s=-1==s.indexOf("default-")?s:"normal-bubble-box "+s,e._selectedFeatureBubbleContentTpl={tpl:void 0,skin:void 0,isInnerScript:!1,bbproxy:null,title:void 0},void 0===c&&(c={}),FTplScope.singleBB={data:c,scopeId:$.uuid().substr(12),mapId:e._target,count:u},t){case"url":n=template.compile(r)({url:a,mapId:e._target,scopeId:void 0,count:u}),s="iframe-bubble-box "+(s||"normal-bubble-box");break;case"src":n=template.compile(r)({data:c,mapId:e._target,scopeId:void 0,count:u}),s=s||"normal-bubble-box";break;case"innerHtml":n=template(a,{data:c,mapId:e._target,scopeId:void 0,count:u}),s=s||"normal-bubble-box",e._selectedFeatureBubbleContentTpl.isInnerScript=!0,r=document.getElementById(a).innerHTML;break;case"cache":default:n=template.compile(r)({data:c,mapId:e._target,scopeId:void 0,count:u}),s=s||"normal-bubble-box"}var d,m=$("#"+a).data("bbproxy"),g=-1!=s.indexOf("default-bubble-head");if(g){l=o.get("bubbleTitle");var y="";l&&(y=template.compile(l)(c)),d=template.compile($.getTemplateCache("defaultBBHead"))({mapId:e._target,bubbleTitle:y,count:u}),n=d+n}var h=e._selectedFeatureBubbleOverlay.getElement();if("vue"==m){var v=FMapScope.compCache[a];e._selectedFeatureBubbleOverlay.set("bbproxy",v),e._selectedFeatureBubbleContentTpl.bbproxy=v,v?(e._clearSingleBB(),v.open(),$.isEmpty(d)||$(h).append(d),h.appendChild(v.getElement())):$(h).html(n)
}else e._clearSingleBB(),e._selectedFeatureBubbleOverlay.set("bbproxy",null),e._selectedFeatureBubbleContentTpl.bbproxy=null,$(h).html(n);g?$(".fc-map-single-bubble div").eq(1).addClass("bubble-content"):$(".fc-map-single-bubble div").eq(0).addClass("bubble-content"),e._selectedFeatureBubbleOverlay.getElement().className="fc-map-single-bubble "+s;var A=i.getGeometry().getLastCoordinate();e._olmap.addOverlay(e._selectedFeatureBubbleOverlay),e._selectedFeatureBubbleOverlay.setPosition(A);var F=o instanceof ol.layer.Heatmap?[-10,-20]:FInject.style._calculateBubbleOffset(i);e._selectedFeatureBubbleOverlay.setOffset(F),e._selectedFeatureBubbleOverlay.set("id",i.getId()),e._selectedFeatureBubbleOverlay.set("layer",o.get("name")),e._selectedFeatureBubbleContentTpl.tpl=r,e._selectedFeatureBubbleContentTpl.skin=s,e._selectedFeatureBubbleContentTpl.title=l},e.on("_fmap.feature.unselected",function(t){e._selectedFeatureBubbleOverlay&&e._removeSingleBB()}),e.on(FConst.EVENT_FEATURE_SELECTED,function(t){var a=t.feature;if(null==a&&e._selectedFeatureBubbleOverlay)e._removeSingleBB();else{var r;r=a.get("features")?a.get("features")[0].get("layer"):a.get("layer");var o,i=r.get("bubble");if(r&&!0===r.get("bubbleable"))if($.isFunction(i)?o=i(a):i?o=i:e._removeSingleBB(),$.isUrlLike(o)){var n=$.getTemplateCache("iframeBB");e._renderBB("url",o,n,r,a)}else if($("#"+o).length>0){var s=$("#"+o).length>0?$("#"+o)[0].src:void 0,l=!$.isEmpty(s);l?$.getRemoteTemplate(s).done(function(t){e._renderBB("src",o,t,r,a)}):e._renderBB("innerHtml",o,n,r,a)}else if($.hasTemplateCache(o)){var n=$.getTemplateCache(o);e._renderBB("cache",o,n,r,a)}else FUtil.error("未找到{bubbleId}的气泡声明",{bubbleId:o}),e._removeSingleBB();else e._selectedFeatureBubbleOverlay&&e._removeSingleBB()}}),e.on("_fmap.heatfeature.select",function(e){var a=new ol.interaction.Select.Event("select");a.selected=[e.feature],a.target=ol.interaction.Select,t.dispatchEvent(a)}),e.on("_fmap.heatfeature.unselect",function(e){var a=new ol.interaction.Select.Event("select");a.selected=[],a.target=ol.interaction.Select,t.dispatchEvent(a)}),t},fc.map.FMap.prototype._addMouseInInteraction=function(e,t,a,r){var o=this,i=new ol.interaction.Select({style:FInject.default.sameSelectedIconStyle,layers:function(t){return e===t.get("name")},condition:ol.events.condition.pointerMove,toggleCondition:ol.events.condition.never,addCondition:ol.events.condition.never,removeCondition:ol.events.condition.never});return i.on("select",function(r){var o=new ol.events.Event;if(o.layer=e,0!=r.selected.length){var i=r.selected[0];$.isFunction(t)&&(o.feature=i,t(o))}else if($.isFunction(a)){var i=r.deselected[0];o.feature=i,a(o)}}),o._olmap.addInteraction(i),i},fc.map.Control=function(e){ol.control.Control.call(this,e)},ol.inherits(fc.map.Control,ol.control.Control);fc.map.Attribution=function(e){ol.control.Attribution.call(this,e)},ol.inherits(fc.map.Attribution,ol.control.Attribution),fc.map.FullScreen=function(e){ol.control.FullScreen.call(this,e)},ol.inherits(fc.map.FullScreen,ol.control.FullScreen),fc.map.MousePosition=function(e){var t=e||{};this.mapListeners=[];ol.control.MousePosition.call(this,t)},ol.inherits(fc.map.MousePosition,ol.control.MousePosition),fc.map.MousePosition.render=function(e){var t=ol.proj.get(e.map.get("bgProjection")),a=e.frameState;a?this.mapProjection_==a.viewState.projection||t?this.mapProjection_=t:(this.mapProjection_=a.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)},fc.map.Overview=function(e){var t=this;this.fmap=e.fmap,this.fmap.on("fmap.map.change:bglayer",function(){t.fmap.removeControl("overview"),t.fmap.addControl("overview")}),ol.control.OverviewMap.call(this,e)},ol.inherits(fc.map.Overview,ol.control.OverviewMap),fc.map.ScaleLine=function(e){ol.control.ScaleLine.call(this,e)},ol.inherits(fc.map.ScaleLine,ol.control.ScaleLine),fc.map.AddressNavigate=function(e){ol.control.Control.call(this,e)},ol.inherits(fc.map.AddressNavigate,ol.control.Control),fc.map.LayerControl=function(e){ol.control.Control.call(this,e)},ol.inherits(fc.map.LayerControl,ol.control.Control),fc.map.Toolbutton=function(e){ol.control.Control.call(this,e)},ol.inherits(fc.map.Toolbutton,ol.control.Control),fc.map.Toolbuttongroup=function(e){ol.control.Control.call(this,e)},ol.inherits(fc.map.Toolbuttongroup,ol.control.Control),fc.map.ZoomPan=function(e){var t=$.uuid();this.fmap=e.fmap,this.mode=e.mode||"pan";var a=this,r=document.createElement("div"),o=window.fmaptpl["control/zoompan/zoompan.html"];r.innerHTML=template.compile(o)({fscope:t,mode:a.mode});r.children[0];this._pixelDelta=128,this._duration=100,this.pan=function(e){var t=this.fmap.getOrigin().getView(),a=t.getResolution()*this._pixelDelta,r=0,o=0;"down"==e?o=-a:"left"==e?r=-a:"right"==e?r=a:"top"==e&&(o=a);var i=[r,o];ol.interaction.Interaction.pan(t,i,this._duration)},this.zoomIn=function(){this.fmap.zoomIn()},this.zoomOut=function(){this.fmap.zoomOut()},this.zoomTo=function(e){this.fmap.zoomTo(e)},this.calculateZoom=function(e){var t=e.offsetY,a=$(r).find(".slider-bgmask"),o=t/a[0].offsetHeight,i=19-Math.floor(o/(1/17));this.fmap.setZoom(i)},ol.control.Control.call(this,{element:r,target:e.target}),this.fmap.on("fmap.view.change:zoom",function(e){var t=e.newValue,a=Math.floor(1+6*(19-t));$(r).find(".slider-bgbar").css("top",a+"px"),$(r).find(".slider-bgbottom").css("top",a+"px"),$(r).find(".slider-bgbottom").css("height",112-a+"px")}),FMapScope[t]=this},ol.inherits(fc.map.ZoomPan,ol.control.Control),fc.map.MapSwitch=function(e){var t=this,a=e||{},r=$.uuid();this.fmap=e.fmap;var o=a.dataprovider.length,i=a.dataprovider;if(t.selectedIndex=0,i)for(var n=0;n<o;n++)i[n]._zindex=20-Math.abs(n-a.selectedIndex),n==a.selectedIndex&&(i[n].active=!0,i[n]._zindex=20,t.selectedIndex=a.selectedIndex);var s=document.createElement("div"),l=window.fmaptpl["control/mapswitch/mapswitch.html"];s.innerHTML=template.compile(l)({fscope:r,bglayers:i});var c=s.children[0];t.mouseover=function(){$(c).removeClass("closed"),$(c).css("width",100*o+"px")},t.mouseout=function(){$(c).addClass("closed"),$(c).css("width","110px")},t.switchmap=function(e){e!==t.selectedIndex&&($(s).find(".map-type-card").each(function(t,a){i[t].active=!1,$(a).removeClass("active"),$(a).css("z-index",20-Math.abs(t-e)),e==t&&(i[t].active=!0,$(a).addClass("active"),$(a).css("z-index",20))}),t.selectedIndex=e,t.fmap.setBgLayer(i[e]))},ol.control.Control.call(this,{element:s,target:a.target}),FMapScope[r]=this},ol.inherits(fc.map.MapSwitch,ol.control.Control),fc.map.AreaNav=function(e){var t=$.uuid();this.fmap=e.fmap,this._currentPageAreas=null,this._pageInited=!1,this._opened=!1,this.text=null,this.selectedItem={},this.selectedValue=void 0,this.maxLevel=4,this._applyOpts(e);var a=this,r=window.fmaptpl["control/areanav/areanav.html"],o=window.fmaptpl["control/areanav/areanav-list.html"];this._init=function(){var e=this;this._areaDict={},setTimeout(function(){e._initRootPage()},200)},this._initRootPage=function(){var e=this;e._providerProxy(e.dataprovider,e.rootValue).done(function(a){e._currentPageAreas=a,a.forEach(function(t){t.__levelindex=1,e._areaDict[t[e.keyField]]=t}),e.level1=a;var r=template.compile(o)({fscope:t,items:a,textField:e.textField,keyField:e.keyField});$(e._ui).find(".stock_level1_items").empty().html(r),$(e._ui).find(".stock_level1_items").show(),e._initCurrentArea(e.selectedValue)})},this._chooseArea=function(e){var a=this,r=a._areaDict[e];a.selectedItem=r,a.selectedValue=e;var n=r.__levelindex+1;$(a._ui).find(".selected-item-name").text(r[a.textField]),a._getSubAreas(r).then(function(e){if(null==e||0==e.length)a.close();else{a._currentPageAreas=e,e.forEach(function(e){e.__levelindex=n,a._areaDict[e[a.keyField]]=e});var s=".stock_level"+(n-1)+"_items",l=".stock_level"+n+"_items";$(i).find(s).hide(),$(i).find(".fstock .tab li").eq(n-2).removeClass("curr").find("em").html(r[a.textField]),$(i).find(".fstock .tab li").eq(n-1).addClass("curr").show().find("em").html("请选择"),$(i).find(l).show(),a["level"+n]=e;var c=template.compile(o)({fscope:t,items:e,textField:a.textField,keyField:a.keyField});$(i).find(l).empty().html(c)}}),a.fmap.dispatchFEvent("fmap.ctrl.change:area",{area:r})},this._getSubAreas=function(e){var t=this,a=$.Deferred();return t._providerProxy(t.dataprovider,e).done(function(e){a.resolve(e)}),a.promise()},this._initCurrentArea=function(e){if(e){var t=this._areaDict[e];t&&(this.selectedItem=t,$(this._ui).find(".selected-item-name").text(t[a.textField]),a.fmap.dispatchFEvent("fmap.ctrl.change:area",{area:t}))}},this.clear=function(){},this.close=function(){this._changeOpenStatus(!1)},this._blurHandler=function(){this.close()},this._init();var i=document.createElement("div");i.innerHTML=template.compile(r)({fscope:t}),this._ui=i;var n=i.children[0];$(i).find(".selected-item-name").text(a.text),this._changeOpenStatus=function(e){this._opened=e,e?($(n).addClass("opened"),$(i).find(".updown-btn").addClass("glyphicon-chevron-up").removeClass("glyphicon-chevron-down")):($(n).removeClass("opened"),$(i).find(".updown-btn").addClass("glyphicon-chevron-down").removeClass("glyphicon-chevron-up"))},this._mouseover=function(){this._changeOpenStatus(!0)},this._mouseout=function(){this._changeOpenStatus(!1)},this._toggleOpen=function(){this._changeOpenStatus(!this._opened)},this._registEvent=function(){var e=this;$(i).find(".text").removeAttr("tabindex"),$(i).blur(function(t){t.relatedTarget&&null!=t.relatedTarget.className&&-1!=t.relatedTarget.className.indexOf("address-a")||e._blurHandler()}),$(i).find(".fstock .tab li").each(function(e,t){$(t).find("a").click(function(){var e=parseInt($(t).data("index"));$(i).find(".fstock .tab li").removeClass("curr"),$(i).find(".fstock .tab li").eq(e).addClass("curr").show(),$(i).find(".stock_level"+(e+1)+"_items").show();for(var a=1;a<=8;a++)a!=e+1&&$(i).find(".stock_level"+a+"_items").hide(),a>e+1&&$(i).find(".fstock .tab li").eq(a-1).hide()})})},this._registEvent(),ol.control.Control.call(this,{element:i,target:e.target}),FMapScope[t]=this},ol.inherits(fc.map.AreaNav,ol.control.Control),fc.map.AreaNav.prototype._applyOpts=function(e){this.selectedValue=e.value,this.text=e.text,this.useRemote=e.useRemote||!0,this.dataprovider=void 0,this.rootValue=e.rootValue||"root",this.geoField="center",this.titleField="title",this.levelField="level",this.keyField=e.keyField||"id",this.parentField=e.parentField||"pid",this.textField=e.textField||"text",!e||$.isEmpty(e.dataprovider),this.dataprovider=e.dataprovider,$.isString(e.dataprovider)?this._dataUrl=e.dataprovider:$.isFunction(e.dataprovider)?this._dataIF=e.dataprovider:$.isArray(e.dataprovider)&&(this._dataObj=e.dataprovider)},fc.map.AreaNav.prototype._providerProxy=function(e,t){var a=$.Deferred(),r=a.promise(),o=this,i={};if($.isString(t)||$.isNumber(t)?i[o.keyField]=t:i=t,$.isFunction(o.paramsforma)&&(i=o.paramsformat(i)),$.isString(e)){$.ajax({type:"POST",url:o._dataUrl,data:i,dataType:"json"}).done(function(e){a.resolve(e)})}else if($.isArray(e)){var n=[];e.forEach(function(e){e[o.parentField]==i[o.keyField]&&n.push(e)}),a.resolve(n)}else if($.isFunction(e)){var s=e(i);$.isPromiseLike(s)&&s.done(function(e){a.resolve(e)})}return r},fc.map.ToolBar=function(e){var t=this,a=e||{},r=$.uuid();if(t.fmap=a.fmap,t.callback=a.callback,t.position=a.position||[0,0],a&&a.items)for(var o=0;o<a.items.length;o++){var i=a.items[o];if($.isString(i)&&(i={type:i}),!i.icon&&i.type)switch(i.type){case"export":i.icon="glyphicon glyphicon-download-alt",i.title="导出";break;case"cut":i.icon="glyphicon glyphicon-retweet",i.title="截图";break;case"fullscreen":i.icon="glyphicon glyphicon-fullscreen",i.title="全屏";break;case"measureline":i.icon="glyphicon glyphicon-credit-card",i.title="测距";break;case"measurepolygon":i.icon="glyphicon glyphicon-move",i.title="侧面";break;case"measureclear":i.icon="glyphicon glyphicon-trash",i.title="清除测量";break;case"dropgroup":i.icon="glyphicon glyphicon-cog";break;default:i.icon="glyphicon glyphicon-map-marker"}if($.isArray(i.items))for(var n=0;n<i.items.length;n++){var s=i.items[n];if($.isString(s)&&(s={type:s}),!s.icon&&s.type)switch(s.type){case"export":s.icon="glyphicon glyphicon-download-alt",s.title="导出";break;case"cut":s.icon="glyphicon glyphicon-retweet",s.title="截图";break;case"fullscreen":s.icon="glyphicon glyphicon-fullscreen",s.title="全屏";break;case"measureline":s.icon="glyphicon glyphicon-credit-card",s.title="测距";break;case"measurepolygon":s.icon="glyphicon glyphicon-move",s.title="侧面";break;case"measureclear":s.icon="glyphicon glyphicon-trash",s.title="清除测量";break;default:s.icon="glyphicon glyphicon-map-marker"}i.items[n]=s}a.items[o]=i}var l=document.createElement("div");$(l).addClass("fmap-toolbar"),l.id=r,t.toolHandle=function(e,a){switch(e){case"export":t.fmap.export2Img({filename:"我的地图.png"});break;case"cut":t.fmap.activateBoxSnap({callback:function(e){dataURLToFile(e.snap,"我的地图.png")}});break;case"fullscreen":t.fmap.toggleScreen();break;case"measureline":t.fmap.activateMeasure();break;case"measurepolygon":t.fmap.activateMeasure("area");break;case"measureclear":t.fmap.clearMeasure(),t.fmap.deactivateMeasure()}"dropgroup"===a&&($(l).find("#tool_"+a).hasClass("animated-card-up")?$(l).find("#tool_"+a).removeClass("animated-card-up").addClass("animated-card-down"):$(l).find("#tool_"+a).removeClass("animated-card-down").addClass("animated-card-up"))},t.openDrop=function(e){var t=e.target;$(t).find(".down-list").removeClass("animated-card-up").addClass("animated-card-down")},t.closeDrop=function(e){var t=e.target;$(t).find(".down-list").removeClass("animated-card-down").addClass("animated-card-up")};var c=window.fmaptpl["control/toolbar/toolbar.html"];l.innerHTML=template.compile(c)({fscope:r,items:a.items});l.children[0];a.element||$(l).addClass("fmap-pluging-nocontainer"),ol.control.Control.call(this,{element:l,target:a.element}),FMapScope[r]=this},ol.inherits(fc.map.ToolBar,ol.control.Control),fc.map.DrawToolBar=function(e){var t=this,a=e||{},r=$.uuid();t.fmap=a.fmap,t.callback=a.callback,t.position=a.position||[0,0];var o=document.createElement("div");$(o).addClass("fmap-drawbar"),o.id=r;var i=window.fmaptpl["control/toolbar/drawbar.html"];o.innerHTML=template.compile(i)({fscope:r,items:a.items});o.children[0];t.drawtoolHandle=function(e){t.fmap.activateDraw({type:e,callback:function(e){t.callback(e)}})},a.element||$(o).addClass("fmap-pluging-nocontainer"),ol.control.Control.call(this,{element:o,target:a.element}),FMapScope[r]=this},ol.inherits(fc.map.DrawToolBar,ol.control.Control),FMapEventVideoPlayer.prototype._init=function(e){this._bubble=e.decodeConfig.bubble||"defaultBB";var t=this,a=function(e){var a,r;return r=e.get("clients"),r&&(r._isArrow||e.get("_isArrow"))?(a="icon-anchor-xunits:fraction;icon-anchor-yunits:fraction;icon-opacity:0.8;icon-scale:0.7;icon-anchor:[1,0.5];",a+="icon-src:'"+sdkPath+"img/map_track_arrow.png';",a=a+"icon-rotation:"+r.prerotation+";"):a=r&&r._isLine?t.lineStyle||"fill:rgba(0,255,0,1);stroke-color:#FF0000;stroke-width:2;stroke-linedash:[1,2,3,4,5,6];":t.nodeStyle||"shape-radius:5;shape-fill:rgba(0,255,0,1);shape-stroke-color:#FF0000;shape-stroke-width:2;",a};if(!this._fmap.getLayerByName("$$trackLayer")){var r={name:"$$trackLayer",style:a,selectedStyle:"origin",bubble:t._bubble};this._trackTempLayer=new fc.map.FLayer(r)._olLayer,this._fmap._effectLGP.getLayers().push(this._trackTempLayer)}return this._film=new FMapFilm(e),this._decoder=new FMapVideoDecoder(e.decodeConfig,this),e.element&&(this._skiner=new FMapVideoPlayerSkin(this,e)),this._videoOrginData=e.videoFile.data,this._keyPercentInterval=100/(this._film._keyFrameTotal-1),this._transPercentInterval=this._keyPercentInterval/(this._film._keyTransCount+1),this._registevents(),this},FMapEventVideoPlayer.prototype._renderTrackBubble=function(e){var t=this;if(t._fmap._selectedFeatureBubbleOverlay){var a=e.getGeometry().getCoordinates();$.isArray(a[0])&&(a=a[0]),t._fmap._selectedFeatureBubbleOverlay.setPosition(a),t._fmap.renderBubble(e.get("clients"))}},FMapEventVideoPlayer.prototype._registevents=function(){var e=this;e._fmap.on("_fmap.feature.trackselect",function(t){var a=t.selected[0],r=a.get("clients"),o=a.get("nodesClients");if(r&&r._isLine){var i=e._decoder.calculateSelectLineSegment(t.mapBrowserEvent.coordinate,a);e._highlightSegment=new ol.Feature({geometry:new ol.geom.LineString([i.startPoint,i.endPoint])}),e._trackTempLayer.getSource().addFeature(e._highlightSegment);var n=o[i.index];e._highlightSegment.set("clients",n),e._fmap._defaultSelectInteraction.getFeatures().clear(),e._fmap._defaultSelectInteraction.getFeatures().push(e._highlightSegment),e._fmap.dispatchFEvent("_fmap.track.segmentselect",{segment:e._highlightSegment})}else e._highlightSegment&&(e._trackTempLayer.getSource().removeFeature(e._highlightSegment),e._highlightSegment=null),e._fmap.dispatchFEvent("_fmap.track.nodeselect",{node:a})}),e.eventListener1=e._fmap.on("_fmap.track.nodeselect",function(e){}),e.eventListener2=e._fmap.on("_fmap.track.segmentselect",function(t){setTimeout(function(){e._renderTrackBubble(t.segment),e._fmap._selectedFeatureBubbleOverlay.setOffset([-16,-20])})}),e.eventListener3=e._fmap.on("_fmap.track.bgselect",function(e){})},FMapEventVideoPlayer.prototype.load=function(e){$.isString(e)||(this._videoOrginData=e||this._videoOrginData)},FMapEventVideoPlayer.prototype._doplay=function(){var e=this;e._decoder.keyFrameAction(e._film),e._film._isCurrentKeyFrameLast?(e.stop(),$(".ctrl-btn.fcplayer-ctrlbar-playpause i").attr("class","glyphicon glyphicon-play")):e._transInterval=setInterval(function(){e._decoder.transFrameAction(e._film)},e._film._transcyc),e._keyInterval=setInterval(function(){e._transInterval&&clearInterval(e._transInterval),e._decoder.keyFrameAction(e._film),e._film._isCurrentKeyFrameLast?(clearInterval(e._keyInterval),e.stop(),$(".ctrl-btn.fcplayer-ctrlbar-playpause i").attr("class","glyphicon glyphicon-play")):(e._decoder._checkNextFrameWillOutView(e._film),e._transInterval=setInterval(function(){e._decoder.transFrameAction(e._film)},e._film._transcyc))},e._film._keycyc/e._film.speed)},FMapEventVideoPlayer.prototype.play=function(){var e=this;"unload"==e._status||"stoped"==e._status?(e._decoder.clearPassedTrack(),e._doplay()):"paused"==e._status&&(e._transInterval=setInterval(function(){e._decoder.transFrameAction(e._film),e._film._surplustrans<0&&(clearInterval(e._transInterval),e._doplay())},e._film._transcyc)),e._status="playing",$(".ctrl-btn.fcplayer-ctrlbar-playpause i").attr("class","glyphicon glyphicon-pause")},FMapEventVideoPlayer.prototype.pause=function(){this._clearInterval(),this._status="paused",$(".ctrl-btn.fcplayer-ctrlbar-playpause i").attr("class","glyphicon glyphicon-play")},FMapEventVideoPlayer.prototype.playOrPause=function(){"playing"!=this._status?this.play():this.pause()},FMapEventVideoPlayer.prototype.stop=function(){this._clearInterval(),this._film.rollbackCursor(),this._decoder.keyFrameAction(this._film),this._film.rollbackCursor(),this._status="stoped"},FMapEventVideoPlayer.prototype.destory=function(){"playing"==this._status&&this.stop(),$(this.element)[0].innerHTML="",this._fmap._olmap.removeLayer(this._trackTempLayer),this._trackTempLayer=null,this._fmap._olmap.removeInteraction(this._selecteInteraction),this._fmap.removeListener(this.eventListener1),this._fmap.removeListener(this.eventListener2),this._fmap.removeListener(this.eventListener3),this._decoder.clearPassedTrack(),this._fmap.clearLayer(this._decoder.layer)},FMapEventVideoPlayer.prototype._clearInterval=function(){var e=this;e._transInterval&&clearInterval(e._transInterval),e._keyInterval&&clearInterval(e._keyInterval)},FMapEventVideoPlayer.prototype._calculateCursorByPercent=function(e){this._beforeForcePause=this._status,this.pause();var t=Math.floor(e/this._keyPercentInterval),a=(e-t*this._keyPercentInterval)/this._transPercentInterval;this._film._frameGlobalCursor=t+1,this._film._transCursor=a,this._skiner&&this._skiner.calculatePosition(this._film),this._decoder._reDrawPassedTrack(this._film),this._film._transCursor=Math.floor(this._film._transCursor/this._film.speed),this._film._surplustrans=this._film._keyTransCount-this._film._transCursor*this._film.speed,this._decoder.transFrameAction(this._film),this._film._transCursor--,"playing"==this._beforeForcePause&&this.play()},FMapEventVideoPlayer.prototype.setSpeed=function(e){"playing"==this._status?(this.pause(),this._film.speed=e,this._film._surplustrans=this._film._keyTransCount-this._film._transCursor*e,this.play()):this._film.speed=e},FMapEventVideoPlayer.prototype.setPercent=function(e){this._calculateCursorByPercent(e),this.pause()},FMapFilm.prototype.rollbackCursor=function(){this._blockCursor=0,this._keyCursor=0,this._transCursor=0,this._surplustrans=this._keyTransCount-this._transCursor,this._frameGlobalCursor=0},FMapFilm.prototype._init=function(e){var t=this;t._filmTittle=e.videoFile.info.title,t._filmCurframeInfo=e.videoFile.info.startTime,t._filmLengthInfo=e.videoFile.info.endTime;var a=e.videoFile.data;a&&$.isArray(a)?this._buildFilmByFullData(e):this._buildFilmByFloatData(e),this._viewInitAdapt()},FMapFilm.prototype.loadCompleteData=function(e){var t=this;this._blockCursor=0,this._blockQueue=new Array,this._blockSize=1,e.forEach(function(e){var a=new FMapFilmBlock(e);t._blockQueue.push(a)})},FMapFilm.prototype._buildFilmByFullData=function(e){var t=this,a=e.videoFile.data;this._keyFrameTotal=a.length,this._tracksHash=new Object,a.forEach(function(a){var r;t._frameQueue.length>=1&&(r=t._frameQueue[t._frameQueue.length-1]);var o=new FMapFilmBlock,i=new FMapFilmFrame({isKey:!0,frameTime:a[e.decodeConfig.eventField],frameData:[a],transLinkField:e.decodeConfig.channelField});i._cacheStatus=1,o.frameQueue.push(i),t._frameQueue.push(i),r&&r.frameData&&r.frameData.forEach(function(a){var o=[0,0],n=a[e.decodeConfig.channelField],s=i.frameDataHash[n],l=r.frameDataHash[n];if(s){var c=a[e.decodeConfig.xField],p=s[e.decodeConfig.xField],u=a[e.decodeConfig.yField],f=s[e.decodeConfig.yField];o=[(p-c)/(t._keyTransCount+1),(f-u)/(t._keyTransCount+1)]}r._transDeta=o;var d=t._targetProj,m=ol.proj.transform([c,u],"EPSG:4326",d),g=ol.proj.transform([p,f],"EPSG:4326",d),y=calculateRotation(m,g);s.prerotation=y,l.rotation=y;var h=t._tracksHash[n];if(h){var v=h.getGeometry().getCoordinates();v.push(m),h.getGeometry().setCoordinates(v)}else h=new ol.Feature({id:"track_bg_"+n,geometry:new ol.geom.LineString([m])}),t._tracksHash[n]=h}),t._blockQueue.push(o)});var r=t._frameQueue[t._frameQueue.length-1];r&&r.frameData&&r.frameData.forEach(function(e){var a=e[t.channelField],r=t._tracksHash[a];if(r){var o=r.getGeometry().getCoordinates(),i=[e[t.xField],e[t.yField]];i=ol.proj.transform(i,"EPSG:4326",t._targetProj),o.push(i),r.getGeometry().setCoordinates(o)}})},FMapFilm.prototype._buildFilmByFloatData=function(e){switch(e.videoConfig.timeUnit){case"YEAR":this._calculateFrameByYear(e);break;case"MONTH":this._calculateFrameByMonth(e);break;case"DAY":this._calculateFrameByDay(e);break;case"HOUR":this._calculateFrameByHour(e);break;case"MINUTE":this._calculateFrameByMinute(e);break;case"SECOND":this._calculateFrameBySecond(e)}},FMapFilm.prototype._calculateFrameByYear=function(e){for(var t=this,a=e.videoConfig.startTime,r=e.videoConfig.endTime,o=$.diffYear(a,r),i=$.parseDate(a).setHours(0,0,0,0),n=0;n<=o;n++){var s=i+31536e6*n,l=(new Date(s).format("yyyy"),new FmapFilmBlock),c=new FmapFilmFrame({isKey:!0,frameTime:s,frameLabel:new Date(s).format("yyyy"),frameData:[],preFrameTime:s-31536e6,nextFrameTime:s+31536e6,transLinkField:e.decodeConfig.channelField});c._cacheStatus=-1,l.frameQueue.push(c),t._frameQueue.push(c),t._blockQueue.push(l)}},FMapFilm.prototype._calculateFrameByMonth=function(e){for(var t=this,a=e.videoConfig.startTime,r=e.videoConfig.endTime,o=$.diffMonth(a,r),i=$.parseDate(a).setHours(0,0,0,0),n=(new Array,0);n<=o;n++){var s=i+26784e5*n,l=(new Date(s).format("yyyy-mm"),new FmapFilmBlock),c=new FmapFilmFrame({isKey:!0,frameTime:s,frameLabel:new Date(s).format("yyyy-mm"),frameData:[],preFrameTime:s-26784e5,nextFrameTime:s+26784e5,transLinkField:e.decodeConfig.channelField});c._cacheStatus=-1,l.frameQueue.push(c),t._frameQueue.push(c),t._blockQueue.push(l)}},FMapFilm.prototype._calculateFrameByDay=function(e){for(var t=this,a=e.videoConfig.startTime,r=e.videoConfig.endTime,o=$.diffDay(a,r),i=$.parseDate(a).setHours(0,0,0,0),n=0;n<=o;n++){var s=i+864e5*n,l=(new Date(s).format("yyyy-mm-dd"),new FmapFilmBlock),c=new FmapFilmFrame({isKey:!0,frameTime:s,frameLabel:new Date(s).format("mm-dd"),frameData:[],preFrameTime:s-864e5,nextFrameTime:s+864e5,transLinkField:e.decodeConfig.channelField});c._cacheStatus=-1,l.frameQueue.push(c),t._frameQueue.push(c),t._blockQueue.push(l)}},FMapFilm.prototype._calculateFrameByHour=function(e){},FMapFilm.prototype._calculateFrameByMinute=function(e){var t=this,a=e.videoConfig.startTime,r=e.videoConfig.endTime,o=timeutil.minutsNum(a,r);t._keyFrameTotal=o;for(var i=$.parseDate(a).setSeconds(0,0),n=0;n<=days;n++){var s=i+6e4*n,l=(new Date(s).format("hh:MM"),new FmapFilmBlock),c=new FmapFilmFrame({isKey:!0,frameTime:s,frameLabel:new Date(s).format("hh:MM"),frameData:[],preFrameTime:s-6e4,nextFrameTime:s+6e4,transLinkField:e.decodeConfig.channelField});c._cacheStatus=-1,l.frameQueue.push(c),t._frameQueue.push(c),t._blockQueue.push(l)}},FMapFilm.prototype._calculateFrameBySecond=function(e){},FMapFilm.prototype._viewInitAdapt=function(){var e=new Array;for(var t in this._tracksHash){var a=this._tracksHash[t].getGeometry();e.push(a)}var r=new ol.geom.GeometryCollection(e),o=r.getExtent();this._fmap._olmap.getView().fit(o)},FMapFilmFrame.prototype._init=function(e){var t=this;e.frameData&&e.frameData.forEach(function(e){var a=e[t.transLinkField];t.frameDataHash[a]=e})},FMapFilmFrame.prototype._loadData=function(e){},FMapFilmProgressbar.prototype._init=function(e){this._progressbarElm=$(e.element).find(".time-panel-progress-bar"),this._progressbarLength=parseInt("".width)-70||progressbar.context.offsetWidth},FMapVideoDecoder.prototype._init=function(e){return this},FMapVideoDecoder.prototype.keyFrameAction=function(e){e._transCursor=0,e._surplustrans=e._keyTransCount-e._transCursor;var t=e._frameQueue[e._frameGlobalCursor];e._frameGlobalCursor++,e._isCurrentKeyFrameLast=e._frameGlobalCursor==e._keyFrameTotal;var a=this;if($.isFunction(a._externalDecoder))a._externalDecoder(t);else if("refresh"==a.rendermode)if("auto"==a.layer);else{a.fmap.refreshLayer(t.frameData,a),a.fmap.addFeatures(t.frameData,$.extend(!0,{},a,{layer:"$$trackLayer"}));var r,o=a.fmap.getLayerByName("$$trackLayer"),i=t.frameData[0][a.channelField],n=t.frameDataHash[i],s=a.fmap._olmap.get("bgProjection");if(1==e._frameGlobalCursor){var l=[n[a.xField],n[a.yField]],c=ol.proj.transform(l,"EPSG:4326",s),p=new ol.geom.LineString([c,c]);r=new ol.Feature({geometry:p}),r.setId(n[t.transLinkField]),r.set("clients",{_isLine:!0}),r.set("nodesClients",new Array),r.set("layer",o),o.getSource().addFeature(r)}else{r=o.getSource().getFeatureById(n[t.transLinkField]);var u=[n[a.xField],n[a.yField]],c=ol.proj.transform(u,"EPSG:4326",s),f=r.getGeometry().getCoordinates();f[f.length-1]=c,f.push(c),r.getGeometry().setCoordinates(f);var d=new ol.Feature({geometry:new ol.geom.Point(c)});d.set("clients",n),d.set("_isArrow",!0),d.set("layer",o),o.getSource().addFeature(d)}var m=r.get("nodesClients");m.push(n),r.set("nodesClients",m)}e._keyCursor++,e._blockCursor++,a._player._skiner&&(a._player._skiner.calculatePosition(e),a._player._skiner.calculateDisplayTime(e))},FMapVideoDecoder.prototype.transFrameAction=function(e){var t=e._frameQueue[e._frameGlobalCursor-1],a=this;if($.isFunction(a._externalDecoder))a._externalDecoder(transFrame);else if("refresh"==a.rendermode)if("auto"==a.layer);else{var r=(t.frameDataHash,t._transDeta),o=$.extend(!0,[],t.frameData);o.forEach(function(t){t[a.xField]=t[a.xField]+e._transCursor*r[0]*e._oldspeed,t[a.yField]=t[a.yField]+e._transCursor*r[1]*e._oldspeed}),a.fmap.refreshLayer(o,a);var i=o[0],n=a.fmap.getLayerByName("$$trackLayer"),s=n.getSource().getFeatureById(i[t.transLinkField]),l=[i[a.xField],i[a.yField]],c=ol.proj.transform(l,"EPSG:4326",a.fmap._olmap.get("bgProjection")),p=s.getGeometry().getCoordinates();p[p.length-1]=c,s.getGeometry().setCoordinates(p)}e._transCursor++,e._surplustrans=e._surplustrans-1*e.speed,e._oldspeed=e.speed,a._player._skiner&&(a._player._skiner.calculatePosition(e),a._player._skiner.calculateDisplayTime(e))},FMapVideoDecoder.prototype._reDrawPassedTrack=function(e){var t=this;t.fmap.clearLayer("$$trackLayer");for(var a,r,o=new Array,i=new Array,n=new Array,s=new Array,l=t.fmap._olmap.get("bgProjection"),c=0;c<e._frameGlobalCursor;c++){a=e._frameQueue[c];var p=a.frameData[0][t.channelField];r=a.frameDataHash[p],o=o.concat(a.frameData);var u=[r[t.xField],r[t.yField]],f=ol.proj.transform(u,"EPSG:4326",l);i.push(f);var d=jQuery.extend(!0,{},r);d._isArrow=!0,c>0&&n.push(d),s.push(r)}var m=a._transDeta,g=r[t.xField]+e._transCursor*m[0]*e.speed,y=r[t.yField]+e._transCursor*m[1]*e.speed;i.push([g,y]),t.fmap.addFeatures(o,$.extend(!0,{},t,{layer:"$$trackLayer"})),t.fmap.addFeatures(n,$.extend(!0,{},t,{layer:"$$trackLayer"}));var h=t.fmap.getLayerByName("$$trackLayer"),v=new ol.geom.LineString(i),A=new ol.Feature({geometry:v});A.set("clients",{_isLine:!0}),A.setId(r[a.transLinkField]),A.set("nodesClients",s),A.set("layer",h),h.getSource().addFeature(A)},FMapVideoDecoder.prototype.clearPassedTrack=function(){this.fmap.clearLayer("$$trackLayer")},FMapVideoDecoder.prototype._checkNextFrameWillOutView=function(e){var t=e._frameQueue[e._frameGlobalCursor];if(t.frameData.length<2){var a=this.fmap._olmap.get("bgProjection"),r=this.fmap._olmap.getView().calculateExtent(this.fmap._olmap.getSize()),o=t.frameData[0],i=[o[this.xField],o[this.yField]],n=ol.proj.transform(i,"EPSG:4326",a);n[0]>=r[0]&&n[0]<=r[2]&&n[1]>=r[1]&&n[1]<=r[3]||this.fmap.navigate2Center(i,{duration:200,center:n})}},FMapVideoDecoder.prototype.calculateSelectLineSegment=function(e,t){for(var a=t.getGeometry().getCoordinates(),r=new Array,o=0,i=1;i<a.length-1;i++){var n=(a[i][0]-e[0])*(a[i+1][0]-e[0]),s=(a[i][1]-e[1])*(a[i+1][1]-e[1]);n<=0&&s<=0&&r.push(i)}if(0==r.length)o=0;else if(1==r.length)o=r[0];else for(var l;l<r.length;l++){var c,u=r[l],f={x:a[u][0],y:a[u][1]},d={x:a[u+1][0],y:a[u+1][1]};if(d.x==f.x)c=Math.abs(d.x-f.x);else{var m=-(f.y-d.y)/(f.x-d.x),g=(f.y*d.x-d.y*f.x)/(d.x-f.x);c=Math.abs(m*p.x+1*p.y+g)/Math.sqrt(1+m*m)}c<=999999999999&&(o=u)}return{startPoint:a[o],endPoint:a[o+1],index:o}},FMapVideoPlayerSkin.prototype._init=function(e){var t=this;t.scopeId=$.uuid(),t.container="#"+e.element;var a=window.fmaptpl["advance/video/FMapEventVideoPlayerSkin.html"],r=window.fmaptpl["advance/video/FMapTimeVideoPlayerSkin.html"],o="event"==this._player._frameType?a:r,i=template.compile(o)(t);return $(t.container).append(i),this._calculateSize(t.container,this._player._film),this._registEventListerner(),this},FMapVideoPlayerSkin.prototype._calculateSize=function(e,t){this._thumbPosition=0,this._progressPercent=0,this._thumbSpeed=50,this._progressWidth=$(e).find(".fcplayer-progressbar").width(),this._keyWidthInterval=this._progressWidth/(t._keyFrameTotal-1),this._transWidthInterval=this._keyWidthInterval/(t._keyTransCount+1)},FMapVideoPlayerSkin.prototype.calculatePosition=function(e){var t=this,a=(this._progressWidth,e._keyFrameTotal,e._frameGlobalCursor),r=(e._keyTransCount,e._transCursor);t._thumbPosition=0+(a-1)*t._keyWidthInterval+r*t._transWidthInterval*e.speed,$(t.container).find(".fcplayer-progressbar-pass").width(t._thumbPosition),$(t.container).find(".fcplayer-progressbar-thumb").css("left",t._thumbPosition-8+"px")},FMapVideoPlayerSkin.prototype._calculateProgress=function(e){var t=this,a=$(t.container).find(".fcplayer-progressbar")[0],r=e.offsetX,o=r/a.offsetWidth;this._progressPercent=o,t._player._calculateCursorByPercent(100*o)},
FMapVideoPlayerSkin.prototype.calculateDisplayTime=function(e){},FMapVideoPlayerSkin.prototype._registEventListerner=function(){var e=this;$(e.container).find(".fcplayer-progressbar").click(function(t){e._calculateProgress(t)}),$(e.container).find(".fcplayer-ctrlbar-playpause").click(function(){e._player.playOrPause()}),$(e.container).find(".fcplayer-ctrlbar-stop").click(function(){e._player.stop()}),$(e.container).find(".fcplayer-ctrlbar-slow-sp").each(function(t,a){var r=[1,2,4,8,16],o=r[t];$(a).click(function(){$(e.container).find(".speed-selection span").removeClass("actived"),e._player.setSpeed(o),$(this).addClass("actived")})}),$(e.container).find(".fcplayer-ctrlbar-fast-sp").each(function(t,a){var r=[1,.5,.25,.125,.0625],o=r[t];$(a).click(function(){$(e.container).find(".speed-selection span").removeClass("actived"),e._player.setSpeed(o),$(this).addClass("actived")})})},function(){timeutil={start:new Date,end:new Date,validate:function(e,t){var a,r=this;void 0!==e&&void 0!==t&&/-|\//g.test(e)&&/-|\//g.test(t)&&(r.start=new Date(e.replace(new RegExp("-","gm"),"/")),r.end=new Date(t.replace(new RegExp("-","gm"),"/")),a=r.end.getTime()-r.start.getTime());var o=/\d{4}[\/|-]\d{2}[\/|-]\d{2}(\s?\d{2}:\d{2}|\s?\d{2}:\d{2}:\d{2})?$/;return""===arguments[0]&&""===arguments[1]?(console.log("请输入开始、结束时间！"),!1):a<0?(console.log("开始时间不能大于结束时间"),!1):!(!o.test(e)||!o.test(t))||(console.log("请填写正确的时间格式，如：2017-08-06 12:21:11"),!1)},yearsNum:function(e,t){return this.validate(e,t)?this.end.getFullYear()-this.start.getFullYear()+1:void 0},monthsNum:function(e,t){return this.validate(e,t)?12*(this.end.getFullYear()-this.start.getFullYear())-this.start.getMonth()+this.end.getMonth()+1:void 0},daysNum:function(e,t){return this.validate(e,t)?Math.ceil(this.end/864e5)-Math.ceil(this.start/864e5)+1:void 0},weeksNum:function(e,t){if(this.validate(e,t)){var a=Math.ceil((this.end-this.start)/864e5)+1;return a<=7?this.start.getDay()>this.end.getDay()?2:1:Math.floor((a-(7-this.start.getDay())-this.end.getDay())/7)+2}},hoursNum:function(e,t){return this.validate(e,t)?Math.ceil(this.end/36e5)-Math.ceil(this.start/36e5)+1:void 0},minutsNum:function(e,t){return this.validate(e,t)?Math.ceil(this.end/6e4)-Math.ceil(this.start/6e4)+1:void 0},secondsNum:function(e,t){return this.validate(e,t)?Math.ceil(this.end/1e3)-Math.ceil(this.start/1e3):void 0},diffYears:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/31536e6):void 0},diffMonths:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/2592e6):void 0},diffDays:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/864e5):void 0},diffWeeks:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/6048e5):void 0},diffHours:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/36e5):void 0},diffMinuts:function(e,t){return this.validate(e,t)?Math.floor((this.end.getTime()-this.start.getTime())/6e4):void 0},getTimeJson:function(e,t){var a=this,r={};return 0!==a.yearsNum()&&(r.yearsNum=a.yearsNum()),0!==a.monthsNum()&&(r.monthsNum=a.monthsNum()),0!==a.weeksNum()&&(r.weeksNum=a.weeksNum()),0!==a.daysNum()&&(r.daysNum=a.daysNum()),0!==a.hoursNum()&&(r.hoursNum=a.hoursNum()),0!==a.minutsNum()&&(r.minutsNum=a.minutsNum()),0!==a.secondsNum()&&(r.secondsNum=a.secondsNum()),r}}}(window);var FTpl=window.fmaptpl,FConst=new fc.map._Const,FConfig=new fc.map._Config,FDefault=new fc.map._Default,FUtil=new fc.map._Util,FInject=FUtil.getInject();if(FInject.proj._currentProj="EPSG:3857",FUtil._init(),!app)var app=new Object;app.params||(app.params=new Object),app.params["config.internet"]=!1,$.setTemplateCache("generalBB",window.fmaptpl["core/bubble-form-general.html"]),$.setTemplateCache("defaultBBHead",window.fmaptpl["core/bubble-head-default.html"]),registDefaultSymbols();